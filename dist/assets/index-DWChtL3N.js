(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var PA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var im={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Tb(){if(a0)return nn;a0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=y&&G[y]||G["@@iterator"],typeof G=="function"?G:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function S(G,P,K){this.props=G,this.context=P,this.refs=_,this.updater=K||g}S.prototype.isReactComponent={},S.prototype.setState=function(G,P){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,P,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function A(){}A.prototype=S.prototype;function O(G,P,K){this.props=G,this.context=P,this.refs=_,this.updater=K||g}var R=O.prototype=new A;R.constructor=O,N(R,S.prototype),R.isPureReactComponent=!0;var I=Array.isArray,ee=Object.prototype.hasOwnProperty,U={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function X(G,P,K){var Z,se={},fe=null,xe=null;if(P!=null)for(Z in P.ref!==void 0&&(xe=P.ref),P.key!==void 0&&(fe=""+P.key),P)ee.call(P,Z)&&!te.hasOwnProperty(Z)&&(se[Z]=P[Z]);var Ce=arguments.length-2;if(Ce===1)se.children=K;else if(1<Ce){for(var Se=Array(Ce),Me=0;Me<Ce;Me++)Se[Me]=arguments[Me+2];se.children=Se}if(G&&G.defaultProps)for(Z in Ce=G.defaultProps,Ce)se[Z]===void 0&&(se[Z]=Ce[Z]);return{$$typeof:t,type:G,key:fe,ref:xe,props:se,_owner:U.current}}function T(G,P){return{$$typeof:t,type:G.type,key:P,ref:G.ref,props:G.props,_owner:G._owner}}function Y(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var P={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(K){return P[K]})}var M=/\/+/g;function j(G,P){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):P.toString(36)}function D(G,P,K,Z,se){var fe=typeof G;(fe==="undefined"||fe==="boolean")&&(G=null);var xe=!1;if(G===null)xe=!0;else switch(fe){case"string":case"number":xe=!0;break;case"object":switch(G.$$typeof){case t:case e:xe=!0}}if(xe)return xe=G,se=se(xe),G=Z===""?"."+j(xe,0):Z,I(se)?(K="",G!=null&&(K=G.replace(M,"$&/")+"/"),D(se,P,K,"",function(Me){return Me})):se!=null&&(Y(se)&&(se=T(se,K+(!se.key||xe&&xe.key===se.key?"":(""+se.key).replace(M,"$&/")+"/")+G)),P.push(se)),1;if(xe=0,Z=Z===""?".":Z+":",I(G))for(var Ce=0;Ce<G.length;Ce++){fe=G[Ce];var Se=Z+j(fe,Ce);xe+=D(fe,P,K,Se,se)}else if(Se=w(G),typeof Se=="function")for(G=Se.call(G),Ce=0;!(fe=G.next()).done;)fe=fe.value,Se=Z+j(fe,Ce++),xe+=D(fe,P,K,Se,se);else if(fe==="object")throw P=String(G),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return xe}function $(G,P,K){if(G==null)return G;var Z=[],se=0;return D(G,Z,"","",function(fe){return P.call(K,fe,se++)}),Z}function ne(G){if(G._status===-1){var P=G._result;P=P(),P.then(function(K){(G._status===0||G._status===-1)&&(G._status=1,G._result=K)},function(K){(G._status===0||G._status===-1)&&(G._status=2,G._result=K)}),G._status===-1&&(G._status=0,G._result=P)}if(G._status===1)return G._result.default;throw G._result}var ce={current:null},re={transition:null},de={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:re,ReactCurrentOwner:U};function ye(){throw Error("act(...) is not supported in production builds of React.")}return nn.Children={map:$,forEach:function(G,P,K){$(G,function(){P.apply(this,arguments)},K)},count:function(G){var P=0;return $(G,function(){P++}),P},toArray:function(G){return $(G,function(P){return P})||[]},only:function(G){if(!Y(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},nn.Component=S,nn.Fragment=n,nn.Profiler=a,nn.PureComponent=O,nn.StrictMode=r,nn.Suspense=u,nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,nn.act=ye,nn.cloneElement=function(G,P,K){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Z=N({},G.props),se=G.key,fe=G.ref,xe=G._owner;if(P!=null){if(P.ref!==void 0&&(fe=P.ref,xe=U.current),P.key!==void 0&&(se=""+P.key),G.type&&G.type.defaultProps)var Ce=G.type.defaultProps;for(Se in P)ee.call(P,Se)&&!te.hasOwnProperty(Se)&&(Z[Se]=P[Se]===void 0&&Ce!==void 0?Ce[Se]:P[Se])}var Se=arguments.length-2;if(Se===1)Z.children=K;else if(1<Se){Ce=Array(Se);for(var Me=0;Me<Se;Me++)Ce[Me]=arguments[Me+2];Z.children=Ce}return{$$typeof:t,type:G.type,key:se,ref:fe,props:Z,_owner:xe}},nn.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},nn.createElement=X,nn.createFactory=function(G){var P=X.bind(null,G);return P.type=G,P},nn.createRef=function(){return{current:null}},nn.forwardRef=function(G){return{$$typeof:c,render:G}},nn.isValidElement=Y,nn.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:ne}},nn.memo=function(G,P){return{$$typeof:d,type:G,compare:P===void 0?null:P}},nn.startTransition=function(G){var P=re.transition;re.transition={};try{G()}finally{re.transition=P}},nn.unstable_act=ye,nn.useCallback=function(G,P){return ce.current.useCallback(G,P)},nn.useContext=function(G){return ce.current.useContext(G)},nn.useDebugValue=function(){},nn.useDeferredValue=function(G){return ce.current.useDeferredValue(G)},nn.useEffect=function(G,P){return ce.current.useEffect(G,P)},nn.useId=function(){return ce.current.useId()},nn.useImperativeHandle=function(G,P,K){return ce.current.useImperativeHandle(G,P,K)},nn.useInsertionEffect=function(G,P){return ce.current.useInsertionEffect(G,P)},nn.useLayoutEffect=function(G,P){return ce.current.useLayoutEffect(G,P)},nn.useMemo=function(G,P){return ce.current.useMemo(G,P)},nn.useReducer=function(G,P,K){return ce.current.useReducer(G,P,K)},nn.useRef=function(G){return ce.current.useRef(G)},nn.useState=function(G){return ce.current.useState(G)},nn.useSyncExternalStore=function(G,P,K){return ce.current.useSyncExternalStore(G,P,K)},nn.useTransition=function(){return ce.current.useTransition()},nn.version="18.3.1",nn}var o0;function _5(){return o0||(o0=1,im.exports=Tb()),im.exports}var q=_5();const m=E5(q);var of={},sm={exports:{}},Qa={},lm={exports:{}},cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function Mb(){return i0||(i0=1,function(t){function e(re,de){var ye=re.length;re.push(de);e:for(;0<ye;){var G=ye-1>>>1,P=re[G];if(0<a(P,de))re[G]=de,re[ye]=P,ye=G;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var de=re[0],ye=re.pop();if(ye!==de){re[0]=ye;e:for(var G=0,P=re.length,K=P>>>1;G<K;){var Z=2*(G+1)-1,se=re[Z],fe=Z+1,xe=re[fe];if(0>a(se,ye))fe<P&&0>a(xe,se)?(re[G]=xe,re[fe]=ye,G=fe):(re[G]=se,re[Z]=ye,G=Z);else if(fe<P&&0>a(xe,ye))re[G]=xe,re[fe]=ye,G=fe;else break e}}return de}function a(re,de){var ye=re.sortIndex-de.sortIndex;return ye!==0?ye:re.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],d=[],h=1,y=null,w=3,g=!1,N=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(re){for(var de=n(d);de!==null;){if(de.callback===null)r(d);else if(de.startTime<=re)r(d),de.sortIndex=de.expirationTime,e(u,de);else break;de=n(d)}}function I(re){if(_=!1,R(re),!N)if(n(u)!==null)N=!0,ne(ee);else{var de=n(d);de!==null&&ce(I,de.startTime-re)}}function ee(re,de){N=!1,_&&(_=!1,A(X),X=-1),g=!0;var ye=w;try{for(R(de),y=n(u);y!==null&&(!(y.expirationTime>de)||re&&!F());){var G=y.callback;if(typeof G=="function"){y.callback=null,w=y.priorityLevel;var P=G(y.expirationTime<=de);de=t.unstable_now(),typeof P=="function"?y.callback=P:y===n(u)&&r(u),R(de)}else r(u);y=n(u)}if(y!==null)var K=!0;else{var Z=n(d);Z!==null&&ce(I,Z.startTime-de),K=!1}return K}finally{y=null,w=ye,g=!1}}var U=!1,te=null,X=-1,T=5,Y=-1;function F(){return!(t.unstable_now()-Y<T)}function M(){if(te!==null){var re=t.unstable_now();Y=re;var de=!0;try{de=te(!0,re)}finally{de?j():(U=!1,te=null)}}else U=!1}var j;if(typeof O=="function")j=function(){O(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=M,j=function(){$.postMessage(null)}}else j=function(){S(M,0)};function ne(re){te=re,U||(U=!0,j())}function ce(re,de){X=S(function(){re(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){N||g||(N=!0,ne(ee))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var ye=w;w=de;try{return re()}finally{w=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,de){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ye=w;w=re;try{return de()}finally{w=ye}},t.unstable_scheduleCallback=function(re,de,ye){var G=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?G+ye:G):ye=G,re){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ye+P,re={id:h++,callback:de,priorityLevel:re,startTime:ye,expirationTime:P,sortIndex:-1},ye>G?(re.sortIndex=ye,e(d,re),n(u)===null&&re===n(d)&&(_?(A(X),X=-1):_=!0,ce(I,ye-G))):(re.sortIndex=P,e(u,re),N||g||(N=!0,ne(ee))),re},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(re){var de=w;return function(){var ye=w;w=de;try{return re.apply(this,arguments)}finally{w=ye}}}}(cm)),cm}var s0;function Rb(){return s0||(s0=1,lm.exports=Mb()),lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function Fb(){if(l0)return Qa;l0=1;var t=_5(),e=Rb();function n(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function i(o,s){l(o,s),l(o+"Capture",s)}function l(o,s){for(a[o]=s,o=0;o<s.length;o++)r.add(s[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},y={};function w(o){return u.call(y,o)?!0:u.call(h,o)?!1:d.test(o)?y[o]=!0:(h[o]=!0,!1)}function g(o,s,f,v){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function N(o,s,f,v){if(s===null||typeof s>"u"||g(o,s,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(o,s,f,v,x,C,W){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=v,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=o,this.type=s,this.sanitizeURL=C,this.removeEmptyString=W}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new _(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];S[s]=new _(s,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new _(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new _(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new _(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new _(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new _(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new _(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new _(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function O(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(A,O);S[s]=new _(s,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(A,O);S[s]=new _(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(A,O);S[s]=new _(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new _(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new _(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,s,f,v){var x=S.hasOwnProperty(s)?S[s]:null;(x!==null?x.type!==0:v||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,f,x,v)&&(f=null),v||x===null?w(s)&&(f===null?o.removeAttribute(s):o.setAttribute(s,""+f)):x.mustUseProperty?o[x.propertyName]=f===null?x.type===3?!1:"":f:(s=x.attributeName,v=x.attributeNamespace,f===null?o.removeAttribute(s):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,v?o.setAttributeNS(v,s,f):o.setAttribute(s,f))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),U=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),F=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),re=Symbol.iterator;function de(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var ye=Object.assign,G;function P(o){if(G===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);G=s&&s[1]||""}return`
`+G+o}var K=!1;function Z(o,s){if(!o||K)return"";K=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Te){var v=Te}Reflect.construct(o,[],s)}else{try{s.call()}catch(Te){v=Te}o.call(s.prototype)}else{try{throw Error()}catch(Te){v=Te}o()}}catch(Te){if(Te&&v&&typeof Te.stack=="string"){for(var x=Te.stack.split(`
`),C=v.stack.split(`
`),W=x.length-1,ue=C.length-1;1<=W&&0<=ue&&x[W]!==C[ue];)ue--;for(;1<=W&&0<=ue;W--,ue--)if(x[W]!==C[ue]){if(W!==1||ue!==1)do if(W--,ue--,0>ue||x[W]!==C[ue]){var ve=`
`+x[W].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=W&&0<=ue);break}}}finally{K=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?P(o):""}function se(o){switch(o.tag){case 5:return P(o.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return o=Z(o.type,!1),o;case 11:return o=Z(o.type.render,!1),o;case 1:return o=Z(o.type,!0),o;default:return""}}function fe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case te:return"Fragment";case U:return"Portal";case T:return"Profiler";case X:return"StrictMode";case j:return"Suspense";case D:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case Y:return(o._context.displayName||"Context")+".Provider";case M:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return s=o.displayName||null,s!==null?s:fe(o.type)||"Memo";case ne:s=o._payload,o=o._init;try{return fe(o(s))}catch{}}return null}function xe(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Se(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(o){var s=Se(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),v=""+o[s];if(!o.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,C=f.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return x.call(this)},set:function(W){v=""+W,C.call(this,W)}}),Object.defineProperty(o,s,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(W){v=""+W},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function qe(o){o._valueTracker||(o._valueTracker=Me(o))}function Ze(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var f=s.getValue(),v="";return o&&(v=Se(o)?o.checked?"true":"false":o.value),o=v,o!==f?(s.setValue(o),!0):!1}function et(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Re(o,s){var f=s.checked;return ye({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function le(o,s){var f=s.defaultValue==null?"":s.defaultValue,v=s.checked!=null?s.checked:s.defaultChecked;f=Ce(s.value!=null?s.value:f),o._wrapperState={initialChecked:v,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Xt(o,s){s=s.checked,s!=null&&R(o,"checked",s,!1)}function It(o,s){Xt(o,s);var f=Ce(s.value),v=s.type;if(f!=null)v==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?$e(o,s.type,f):s.hasOwnProperty("defaultValue")&&$e(o,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function kt(o,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var v=s.type;if(!(v!=="submit"&&v!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,f||s===o.value||(o.value=s),o.defaultValue=s}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function $e(o,s,f){(s!=="number"||et(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var ht=Array.isArray;function Qe(o,s,f,v){if(o=o.options,s){s={};for(var x=0;x<f.length;x++)s["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=s.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&v&&(o[f].defaultSelected=!0)}else{for(f=""+Ce(f),s=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,v&&(o[x].defaultSelected=!0);return}s!==null||o[x].disabled||(s=o[x])}s!==null&&(s.selected=!0)}}function Ct(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ye({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function vt(o,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(n(92));if(ht(f)){if(1<f.length)throw Error(n(93));f=f[0]}s=f}s==null&&(s=""),f=s}o._wrapperState={initialValue:Ce(f)}}function rn(o,s){var f=Ce(s.value),v=Ce(s.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),s.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),v!=null&&(o.defaultValue=""+v)}function Dt(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function Nt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yt(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?Nt(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ot,yt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,v,x){MSApp.execUnsafeLocalFunction(function(){return o(s,f,v,x)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ot.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function At(o,s){if(s){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=s;return}}o.textContent=s}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},En=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(o){En.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),rt[s]=rt[o]})});function an(o,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||rt.hasOwnProperty(o)&&rt[o]?(""+s).trim():s+"px"}function mt(o,s){o=o.style;for(var f in s)if(s.hasOwnProperty(f)){var v=f.indexOf("--")===0,x=an(f,s[f],v);f==="float"&&(f="cssFloat"),v?o.setProperty(f,x):o[f]=x}}var Bt=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(o,s){if(s){if(Bt[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function St(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gt=null;function Mt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zn=null,Ln=null,ln=null;function Rt(o){if(o=qs(o)){if(typeof zn!="function")throw Error(n(280));var s=o.stateNode;s&&(s=Fl(s),zn(o.stateNode,o.type,s))}}function en(o){Ln?ln?ln.push(o):ln=[o]:Ln=o}function Ta(){if(Ln){var o=Ln,s=ln;if(ln=Ln=null,Rt(o),s)for(o=0;o<s.length;o++)Rt(s[o])}}function wr(o,s){return o(s)}function Ua(){}var he=!1;function pe(o,s,f){if(he)return o(s,f);he=!0;try{return wr(o,s,f)}finally{he=!1,(Ln!==null||ln!==null)&&(Ua(),Ta())}}function Pe(o,s){var f=o.stateNode;if(f===null)return null;var v=Fl(f);if(v===null)return null;f=v[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,s,typeof f));return f}var Ue=!1;if(c)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch{Ue=!1}function nt(o,s,f,v,x,C,W,ue,ve){var Te=Array.prototype.slice.call(arguments,3);try{s.apply(f,Te)}catch(He){this.onError(He)}}var Ke=!1,Xe=null,tt=!1,xt=null,ct={onError:function(o){Ke=!0,Xe=o}};function ot(o,s,f,v,x,C,W,ue,ve){Ke=!1,Xe=null,nt.apply(ct,arguments)}function qt(o,s,f,v,x,C,W,ue,ve){if(ot.apply(this,arguments),Ke){if(Ke){var Te=Xe;Ke=!1,Xe=null}else throw Error(n(198));tt||(tt=!0,xt=Te)}}function Kt(o){var s=o,f=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(f=s.return),o=s.return;while(o)}return s.tag===3?f:null}function _n(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function Sn(o){if(Kt(o)!==o)throw Error(n(188))}function vn(o){var s=o.alternate;if(!s){if(s=Kt(o),s===null)throw Error(n(188));return s!==o?null:o}for(var f=o,v=s;;){var x=f.return;if(x===null)break;var C=x.alternate;if(C===null){if(v=x.return,v!==null){f=v;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===f)return Sn(x),o;if(C===v)return Sn(x),s;C=C.sibling}throw Error(n(188))}if(f.return!==v.return)f=x,v=C;else{for(var W=!1,ue=x.child;ue;){if(ue===f){W=!0,f=x,v=C;break}if(ue===v){W=!0,v=x,f=C;break}ue=ue.sibling}if(!W){for(ue=C.child;ue;){if(ue===f){W=!0,f=C,v=x;break}if(ue===v){W=!0,v=C,f=x;break}ue=ue.sibling}if(!W)throw Error(n(189))}}if(f.alternate!==v)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:s}function Jt(o){return o=vn(o),o!==null?$r(o):null}function $r(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=$r(o);if(s!==null)return s;o=o.sibling}return null}var Ma=e.unstable_scheduleCallback,Vr=e.unstable_cancelCallback,Br=e.unstable_shouldYield,Vi=e.unstable_requestPaint,fn=e.unstable_now,qa=e.unstable_getCurrentPriorityLevel,oo=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,Qt=e.unstable_NormalPriority,rr=e.unstable_LowPriority,io=e.unstable_IdlePriority,Ra=null,cn=null;function Yo(o){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ra,o,void 0,(o.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:uc,gl=Math.log,fr=Math.LN2;function uc(o){return o>>>=0,o===0?32:31-(gl(o)/fr|0)|0}var Yi=64,Wa=4194304;function so(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function da(o,s){var f=o.pendingLanes;if(f===0)return 0;var v=0,x=o.suspendedLanes,C=o.pingedLanes,W=f&268435455;if(W!==0){var ue=W&~x;ue!==0?v=so(ue):(C&=W,C!==0&&(v=so(C)))}else W=f&~x,W!==0?v=so(W):C!==0&&(v=so(C));if(v===0)return 0;if(s!==0&&s!==v&&(s&x)===0&&(x=v&-v,C=s&-s,x>=C||x===16&&(C&4194240)!==0))return s;if((v&4)!==0&&(v|=f&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=v;0<s;)f=31-xr(s),x=1<<f,v|=o[f],s&=~x;return v}function Gi(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(o,s){for(var f=o.suspendedLanes,v=o.pingedLanes,x=o.expirationTimes,C=o.pendingLanes;0<C;){var W=31-xr(C),ue=1<<W,ve=x[W];ve===-1?((ue&f)===0||(ue&v)!==0)&&(x[W]=Gi(ue,s)):ve<=s&&(o.expiredLanes|=ue),C&=~ue}}function Ki(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function dc(){var o=Yi;return Yi<<=1,(Yi&4194240)===0&&(Yi=64),o}function vl(o){for(var s=[],f=0;31>f;f++)s.push(o);return s}function Xi(o,s,f){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-xr(s),o[s]=f}function So(o,s){var f=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<f;){var x=31-xr(f),C=1<<x;s[x]=0,v[x]=-1,o[x]=-1,f&=~C}}function ks(o,s){var f=o.entangledLanes|=s;for(o=o.entanglements;f;){var v=31-xr(f),x=1<<v;x&s|o[v]&s&&(o[v]|=s),f&=~x}}var dn=0;function Go(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ns,yl,fc,hc,As,Ko=!1,lo=[],ko=null,fa=null,Ha=null,Ft=new Map,Ji=new Map,No=[],fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mc(o,s){switch(o){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Ft.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(s.pointerId)}}function Fa(o,s,f,v,x,C){return o===null||o.nativeEvent!==C?(o={blockedOn:s,domEventName:f,eventSystemFlags:v,nativeEvent:C,targetContainers:[x]},s!==null&&(s=qs(s),s!==null&&yl(s)),o):(o.eventSystemFlags|=v,s=o.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),o)}function Xo(o,s,f,v,x){switch(s){case"focusin":return ko=Fa(ko,o,s,f,v,x),!0;case"dragenter":return fa=Fa(fa,o,s,f,v,x),!0;case"mouseover":return Ha=Fa(Ha,o,s,f,v,x),!0;case"pointerover":var C=x.pointerId;return Ft.set(C,Fa(Ft.get(C)||null,o,s,f,v,x)),!0;case"gotpointercapture":return C=x.pointerId,Ji.set(C,Fa(Ji.get(C)||null,o,s,f,v,x)),!0}return!1}function pc(o){var s=Ci(o.target);if(s!==null){var f=Kt(s);if(f!==null){if(s=f.tag,s===13){if(s=_n(f),s!==null){o.blockedOn=s,As(o.priority,function(){fc(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Cs(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var f=Zi(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var v=new f.constructor(f.type,f);Gt=v,f.target.dispatchEvent(v),Gt=null}else return s=qs(f),s!==null&&yl(s),o.blockedOn=f,!1;s.shift()}return!0}function Qi(o,s,f){Cs(o)&&f.delete(s)}function bl(){Ko=!1,ko!==null&&Cs(ko)&&(ko=null),fa!==null&&Cs(fa)&&(fa=null),Ha!==null&&Cs(Ha)&&(Ha=null),Ft.forEach(Qi),Ji.forEach(Qi)}function co(o,s){o.blockedOn===s&&(o.blockedOn=null,Ko||(Ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bl)))}function Ao(o){function s(x){return co(x,o)}if(0<lo.length){co(lo[0],o);for(var f=1;f<lo.length;f++){var v=lo[f];v.blockedOn===o&&(v.blockedOn=null)}}for(ko!==null&&co(ko,o),fa!==null&&co(fa,o),Ha!==null&&co(Ha,o),Ft.forEach(s),Ji.forEach(s),f=0;f<No.length;f++)v=No[f],v.blockedOn===o&&(v.blockedOn=null);for(;0<No.length&&(f=No[0],f.blockedOn===null);)pc(f),f.blockedOn===null&&No.shift()}var uo=I.ReactCurrentBatchConfig,Ls=!0;function wl(o,s,f,v){var x=dn,C=uo.transition;uo.transition=null;try{dn=1,Jo(o,s,f,v)}finally{dn=x,uo.transition=C}}function xl(o,s,f,v){var x=dn,C=uo.transition;uo.transition=null;try{dn=4,Jo(o,s,f,v)}finally{dn=x,uo.transition=C}}function Jo(o,s,f,v){if(Ls){var x=Zi(o,s,f,v);if(x===null)Tl(o,s,v,Co,f),mc(o,v);else if(Xo(x,o,s,f,v))v.stopPropagation();else if(mc(o,v),s&4&&-1<fu.indexOf(o)){for(;x!==null;){var C=qs(x);if(C!==null&&Ns(C),C=Zi(o,s,f,v),C===null&&Tl(o,s,v,Co,f),C===x)break;x=C}x!==null&&v.stopPropagation()}else Tl(o,s,v,null,f)}}var Co=null;function Zi(o,s,f,v){if(Co=null,o=Mt(v),o=Ci(o),o!==null)if(s=Kt(o),s===null)o=null;else if(f=s.tag,f===13){if(o=_n(s),o!==null)return o;o=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return Co=o,null}function es(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qa()){case oo:return 1;case Rr:return 4;case Qt:case rr:return 16;case io:return 536870912;default:return 16}default:return 16}}var $a=null,Qo=null,bi=null;function Ps(){if(bi)return bi;var o,s=Qo,f=s.length,v,x="value"in $a?$a.value:$a.textContent,C=x.length;for(o=0;o<f&&s[o]===x[o];o++);var W=f-o;for(v=1;v<=W&&s[f-v]===x[C-v];v++);return bi=x.slice(o,1<v?1-v:void 0)}function Yr(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Da(){return!0}function E(){return!1}function B(o){function s(f,v,x,C,W){this._reactName=f,this._targetInst=x,this.type=v,this.nativeEvent=C,this.target=W,this.currentTarget=null;for(var ue in o)o.hasOwnProperty(ue)&&(f=o[ue],this[ue]=f?f(C):C[ue]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Da:E,this.isPropagationStopped=E,this}return ye(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),s}var ie={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},me=B(ie),Ee=ye({},ie,{view:0,detail:0}),Ie=B(Ee),ze,lt,dt,Lt=ye({},Ee,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==dt&&(dt&&o.type==="mousemove"?(ze=o.screenX-dt.screenX,lt=o.screenY-dt.screenY):lt=ze=0,dt=o),ze)},movementY:function(o){return"movementY"in o?o.movementY:lt}}),Wt=B(Lt),hn=ye({},Lt,{dataTransfer:0}),Yn=B(hn),hr=ye({},Ee,{relatedTarget:0}),yn=B(hr),Er=ye({},ie,{animationName:0,elapsedTime:0,pseudoElement:0}),mr=B(Er),zr=ye({},ie,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Zo=B(zr),wi=ye({},ie,{data:0}),gc=B(wi),vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ts={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=fo[o])?!!s[o]:!1}function xi(){return El}var Ei=ye({},Ee,{key:function(o){if(o.key){var s=vc[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Yr(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ts[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(o){return o.type==="keypress"?Yr(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Yr(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Fr=B(Ei),ei=ye({},Lt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=B(ei),Ts=ye({},Ee,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),_l=B(Ts),na=ye({},ie,{propertyName:0,elapsedTime:0,pseudoElement:0}),yc=B(na),Ms=ye({},Lt,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),bc=B(Ms),_r=[9,13,27,32],ha=c&&"CompositionEvent"in window,ti=null;c&&"documentMode"in document&&(ti=document.documentMode);var Sl=c&&"TextEvent"in window&&!ti,ni=c&&(!ha||ti&&8<ti&&11>=ti),ns=" ",ra=!1;function aa(o,s){switch(o){case"keyup":return _r.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var oa=!1;function Si(o,s){switch(o){case"compositionend":return _i(s);case"keypress":return s.which!==32?null:(ra=!0,ns);case"textInput":return o=s.data,o===ns&&ra?null:o;default:return null}}function kl(o,s){if(oa)return o==="compositionend"||!ha&&aa(o,s)?(o=Ps(),bi=Qo=$a=null,oa=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ni&&s.locale!=="ko"?null:s.data;default:return null}}var ki={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!ki[o.type]:s==="textarea"}function wc(o,s,f,v){en(v),s=Nc(s,"onChange"),0<s.length&&(f=new me("onChange","change",null,f,v),o.push({event:f,listeners:s}))}var ma=null,pa=null;function Rs(o){Ll(o,0)}function Ni(o){var s=us(o);if(Ze(s))return o}function Fs(o,s){if(o==="change")return s}var rs=!1;if(c){var ri;if(c){var ai="oninput"in document;if(!ai){var Po=document.createElement("div");Po.setAttribute("oninput","return;"),ai=typeof Po.oninput=="function"}ri=ai}else ri=!1;rs=ri&&(!document.documentMode||9<document.documentMode)}function Ds(){ma&&(ma.detachEvent("onpropertychange",ga),pa=ma=null)}function ga(o){if(o.propertyName==="value"&&Ni(pa)){var s=[];wc(s,pa,o,Mt(o)),pe(Rs,s)}}function To(o,s,f){o==="focusin"?(Ds(),ma=s,pa=f,ma.attachEvent("onpropertychange",ga)):o==="focusout"&&Ds()}function In(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ni(pa)}function jn(o,s){if(o==="click")return Ni(s)}function or(o,s){if(o==="input"||o==="change")return Ni(s)}function ir(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Sr=typeof Object.is=="function"?Object.is:ir;function Mo(o,s){if(Sr(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var f=Object.keys(o),v=Object.keys(s);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var x=f[v];if(!u.call(s,x)||!Sr(o[x],s[x]))return!1}return!0}function ho(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Os(o,s){var f=ho(o);o=0;for(var v;f;){if(f.nodeType===3){if(v=o+f.textContent.length,o<=s&&v>=s)return{node:f,offset:s-o};o=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ho(f)}}function hu(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?hu(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function mu(){for(var o=window,s=et();s instanceof o.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)o=s.contentWindow;else break;s=et(o.document)}return s}function xc(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function _d(o){var s=mu(),f=o.focusedElem,v=o.selectionRange;if(s!==f&&f&&f.ownerDocument&&hu(f.ownerDocument.documentElement,f)){if(v!==null&&xc(f)){if(s=v.start,o=v.end,o===void 0&&(o=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(o,f.value.length);else if(o=(s=f.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var x=f.textContent.length,C=Math.min(v.start,x);v=v.end===void 0?C:Math.min(v.end,x),!o.extend&&C>v&&(x=v,v=C,C=x),x=Os(f,C);var W=Os(f,v);x&&W&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==W.node||o.focusOffset!==W.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),o.removeAllRanges(),C>v?(o.addRange(s),o.extend(W.node,W.offset)):(s.setEnd(W.node,W.offset),o.addRange(s)))}}for(s=[],o=f;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)o=s[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Sd=c&&"documentMode"in document&&11>=document.documentMode,as=null,Ec=null,Is=null,_c=!1;function pu(o,s,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;_c||as==null||as!==et(v)||(v=as,"selectionStart"in v&&xc(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Is&&Mo(Is,v)||(Is=v,v=Nc(Ec,"onSelect"),0<v.length&&(s=new me("onSelect","select",null,s,f),o.push({event:s,listeners:v}),s.target=as)))}function Nl(o,s){var f={};return f[o.toLowerCase()]=s.toLowerCase(),f["Webkit"+o]="webkit"+s,f["Moz"+o]="moz"+s,f}var os={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},is={},gu={};c&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Al(o){if(is[o])return is[o];if(!os[o])return o;var s=os[o],f;for(f in s)if(s.hasOwnProperty(f)&&f in gu)return is[o]=s[f];return o}var vu=Al("animationend"),yu=Al("animationiteration"),bu=Al("animationstart"),wu=Al("transitionend"),xu=new Map,Eu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(o,s){xu.set(o,s),i(s,[o])}for(var js=0;js<Eu.length;js++){var ia=Eu[js],Va=ia.toLowerCase(),Sc=ia[0].toUpperCase()+ia.slice(1);Ro(Va,"on"+Sc)}Ro(vu,"onAnimationEnd"),Ro(yu,"onAnimationIteration"),Ro(bu,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(wu,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Cl(o,s,f){var v=o.type||"unknown-event";o.currentTarget=f,qt(v,s,void 0,o),o.currentTarget=null}function Ll(o,s){s=(s&4)!==0;for(var f=0;f<o.length;f++){var v=o[f],x=v.event;v=v.listeners;e:{var C=void 0;if(s)for(var W=v.length-1;0<=W;W--){var ue=v[W],ve=ue.instance,Te=ue.currentTarget;if(ue=ue.listener,ve!==C&&x.isPropagationStopped())break e;Cl(x,ue,Te),C=ve}else for(W=0;W<v.length;W++){if(ue=v[W],ve=ue.instance,Te=ue.currentTarget,ue=ue.listener,ve!==C&&x.isPropagationStopped())break e;Cl(x,ue,Te),C=ve}}}if(tt)throw o=xt,tt=!1,xt=null,o}function Pn(o,s){var f=s[ya];f===void 0&&(f=s[ya]=new Set);var v=o+"__bubble";f.has(v)||(Pl(s,o,2,!1),f.add(v))}function kc(o,s,f){var v=0;s&&(v|=4),Pl(f,o,v,s)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function ss(o){if(!o[Bs]){o[Bs]=!0,r.forEach(function(f){f!=="selectionchange"&&(kd.has(f)||kc(f,!1,o),kc(f,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Bs]||(s[Bs]=!0,kc("selectionchange",!1,s))}}function Pl(o,s,f,v){switch(es(s)){case 1:var x=wl;break;case 4:x=xl;break;default:x=Jo}f=x.bind(null,s,f,o),x=void 0,!Ue||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),v?x!==void 0?o.addEventListener(s,f,{capture:!0,passive:x}):o.addEventListener(s,f,!0):x!==void 0?o.addEventListener(s,f,{passive:x}):o.addEventListener(s,f,!1)}function Tl(o,s,f,v,x){var C=v;if((s&1)===0&&(s&2)===0&&v!==null)e:for(;;){if(v===null)return;var W=v.tag;if(W===3||W===4){var ue=v.stateNode.containerInfo;if(ue===x||ue.nodeType===8&&ue.parentNode===x)break;if(W===4)for(W=v.return;W!==null;){var ve=W.tag;if((ve===3||ve===4)&&(ve=W.stateNode.containerInfo,ve===x||ve.nodeType===8&&ve.parentNode===x))return;W=W.return}for(;ue!==null;){if(W=Ci(ue),W===null)return;if(ve=W.tag,ve===5||ve===6){v=C=W;continue e}ue=ue.parentNode}}v=v.return}pe(function(){var Te=C,He=Mt(f),Ye=[];e:{var We=xu.get(o);if(We!==void 0){var at=me,pt=o;switch(o){case"keypress":if(Yr(f)===0)break e;case"keydown":case"keyup":at=Fr;break;case"focusin":pt="focus",at=yn;break;case"focusout":pt="blur",at=yn;break;case"beforeblur":case"afterblur":at=yn;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Wt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=_l;break;case vu:case yu:case bu:at=mr;break;case wu:at=yc;break;case"scroll":at=Ie;break;case"wheel":at=bc;break;case"copy":case"cut":case"paste":at=Zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Lo}var bt=(s&4)!==0,Ar=!bt&&o==="scroll",Ne=bt?We!==null?We+"Capture":null:We;bt=[];for(var we=Te,Le;we!==null;){Le=we;var Ge=Le.stateNode;if(Le.tag===5&&Ge!==null&&(Le=Ge,Ne!==null&&(Ge=Pe(we,Ne),Ge!=null&&bt.push(Ml(we,Ge,Le)))),Ar)break;we=we.return}0<bt.length&&(We=new at(We,pt,null,f,He),Ye.push({event:We,listeners:bt}))}}if((s&7)===0){e:{if(We=o==="mouseover"||o==="pointerover",at=o==="mouseout"||o==="pointerout",We&&f!==Gt&&(pt=f.relatedTarget||f.fromElement)&&(Ci(pt)||pt[Gr]))break e;if((at||We)&&(We=He.window===He?He:(We=He.ownerDocument)?We.defaultView||We.parentWindow:window,at?(pt=f.relatedTarget||f.toElement,at=Te,pt=pt?Ci(pt):null,pt!==null&&(Ar=Kt(pt),pt!==Ar||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(at=null,pt=Te),at!==pt)){if(bt=Wt,Ge="onMouseLeave",Ne="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(bt=Lo,Ge="onPointerLeave",Ne="onPointerEnter",we="pointer"),Ar=at==null?We:us(at),Le=pt==null?We:us(pt),We=new bt(Ge,we+"leave",at,f,He),We.target=Ar,We.relatedTarget=Le,Ge=null,Ci(He)===Te&&(bt=new bt(Ne,we+"enter",pt,f,He),bt.target=Le,bt.relatedTarget=Ar,Ge=bt),Ar=Ge,at&&pt)t:{for(bt=at,Ne=pt,we=0,Le=bt;Le;Le=ls(Le))we++;for(Le=0,Ge=Ne;Ge;Ge=ls(Ge))Le++;for(;0<we-Le;)bt=ls(bt),we--;for(;0<Le-we;)Ne=ls(Ne),Le--;for(;we--;){if(bt===Ne||Ne!==null&&bt===Ne.alternate)break t;bt=ls(bt),Ne=ls(Ne)}bt=null}else bt=null;at!==null&&Nd(Ye,We,at,bt,!1),pt!==null&&Ar!==null&&Nd(Ye,Ar,pt,bt,!0)}}e:{if(We=Te?us(Te):window,at=We.nodeName&&We.nodeName.toLowerCase(),at==="select"||at==="input"&&We.type==="file")var Et=Fs;else if(Qn(We))if(rs)Et=or;else{Et=In;var Pt=To}else(at=We.nodeName)&&at.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(Et=jn);if(Et&&(Et=Et(o,Te))){wc(Ye,Et,f,He);break e}Pt&&Pt(o,We,Te),o==="focusout"&&(Pt=We._wrapperState)&&Pt.controlled&&We.type==="number"&&$e(We,"number",We.value)}switch(Pt=Te?us(Te):window,o){case"focusin":(Qn(Pt)||Pt.contentEditable==="true")&&(as=Pt,Ec=Te,Is=null);break;case"focusout":Is=Ec=as=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,pu(Ye,f,He);break;case"selectionchange":if(Sd)break;case"keydown":case"keyup":pu(Ye,f,He)}var Tt;if(ha)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else oa?aa(o,f)&&(zt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(ni&&f.locale!=="ko"&&(oa||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&oa&&(Tt=Ps()):($a=He,Qo="value"in $a?$a.value:$a.textContent,oa=!0)),Pt=Nc(Te,zt),0<Pt.length&&(zt=new gc(zt,o,null,f,He),Ye.push({event:zt,listeners:Pt}),Tt?zt.data=Tt:(Tt=_i(f),Tt!==null&&(zt.data=Tt)))),(Tt=Sl?Si(o,f):kl(o,f))&&(Te=Nc(Te,"onBeforeInput"),0<Te.length&&(He=new gc("onBeforeInput","beforeinput",null,f,He),Ye.push({event:He,listeners:Te}),He.data=Tt))}Ll(Ye,s)})}function Ml(o,s,f){return{instance:o,listener:s,currentTarget:f}}function Nc(o,s){for(var f=s+"Capture",v=[];o!==null;){var x=o,C=x.stateNode;x.tag===5&&C!==null&&(x=C,C=Pe(o,f),C!=null&&v.unshift(Ml(o,C,x)),C=Pe(o,s),C!=null&&v.push(Ml(o,C,x))),o=o.return}return v}function ls(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Nd(o,s,f,v,x){for(var C=s._reactName,W=[];f!==null&&f!==v;){var ue=f,ve=ue.alternate,Te=ue.stateNode;if(ve!==null&&ve===v)break;ue.tag===5&&Te!==null&&(ue=Te,x?(ve=Pe(f,C),ve!=null&&W.unshift(Ml(f,ve,ue))):x||(ve=Pe(f,C),ve!=null&&W.push(Ml(f,ve,ue)))),f=f.return}W.length!==0&&o.push({event:s,listeners:W})}var wh=/\r\n?/g,xh=/\u0000|\uFFFD/g;function Ad(o){return(typeof o=="string"?o:""+o).replace(wh,`
`).replace(xh,"")}function Ac(o,s,f){if(s=Ad(s),Ad(o)!==s&&f)throw Error(n(425))}function zs(){}var Rl=null,cs=null;function _u(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Su=typeof setTimeout=="function"?setTimeout:void 0,Cd=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,Eh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(o){return Ld.resolve(null).then(o).catch(_h)}:Su;function _h(o){setTimeout(function(){throw o})}function ku(o,s){var f=s,v=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(v===0){o.removeChild(x),Ao(s);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=x}while(f);Ao(s)}function sa(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function Ya(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return o;s--}else f==="/$"&&s++}o=o.previousSibling}return null}var va=Math.random().toString(36).slice(2),Fo="__reactFiber$"+va,Us="__reactProps$"+va,Gr="__reactContainer$"+va,ya="__reactEvents$"+va,Sh="__reactListeners$"+va,kh="__reactHandles$"+va;function Ci(o){var s=o[Fo];if(s)return s;for(var f=o.parentNode;f;){if(s=f[Gr]||f[Fo]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(o=Ya(o);o!==null;){if(f=o[Fo])return f;o=Ya(o)}return s}o=f,f=o.parentNode}return null}function qs(o){return o=o[Fo]||o[Gr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function us(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Fl(o){return o[Us]||null}var Nu=[],oi=-1;function mo(o){return{current:o}}function kn(o){0>oi||(o.current=Nu[oi],Nu[oi]=null,oi--)}function Nn(o,s){oi++,Nu[oi]=o.current,o.current=s}var Li={},Ur=mo(Li),ba=mo(!1),ds=Li;function Ws(o,s){var f=o.type.contextTypes;if(!f)return Li;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===s)return v.__reactInternalMemoizedMaskedChildContext;var x={},C;for(C in f)x[C]=s[C];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=x),x}function wa(o){return o=o.childContextTypes,o!=null}function Cc(){kn(ba),kn(Ur)}function Pd(o,s,f){if(Ur.current!==Li)throw Error(n(168));Nn(Ur,s),Nn(ba,f)}function Au(o,s,f){var v=o.stateNode;if(s=s.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var x in v)if(!(x in s))throw Error(n(108,xe(o)||"Unknown",x));return ye({},f,v)}function fs(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Li,ds=Ur.current,Nn(Ur,o),Nn(ba,ba.current),!0}function Td(o,s,f){var v=o.stateNode;if(!v)throw Error(n(169));f?(o=Au(o,s,ds),v.__reactInternalMemoizedMergedChildContext=o,kn(ba),kn(Ur),Nn(Ur,o)):kn(ba),Nn(ba,f)}var ii=null,Dl=!1,p=!1;function b(o){ii===null?ii=[o]:ii.push(o)}function k(o){Dl=!0,b(o)}function L(){if(!p&&ii!==null){p=!0;var o=0,s=dn;try{var f=ii;for(dn=1;o<f.length;o++){var v=f[o];do v=v(!0);while(v!==null)}ii=null,Dl=!1}catch(x){throw ii!==null&&(ii=ii.slice(o+1)),Ma(oo,L),x}finally{dn=s,p=!1}}return null}var z=[],H=0,V=null,J=0,Q=[],ae=0,ge=null,ke=1,oe="";function be(o,s){z[H++]=J,z[H++]=V,V=o,J=s}function _e(o,s,f){Q[ae++]=ke,Q[ae++]=oe,Q[ae++]=ge,ge=o;var v=ke;o=oe;var x=32-xr(v)-1;v&=~(1<<x),f+=1;var C=32-xr(s)+x;if(30<C){var W=x-x%5;C=(v&(1<<W)-1).toString(32),v>>=W,x-=W,ke=1<<32-xr(s)+x|f<<x|v,oe=C+o}else ke=1<<C|f<<x|v,oe=o}function Oe(o){o.return!==null&&(be(o,1),_e(o,1,0))}function Ae(o){for(;o===V;)V=z[--H],z[H]=null,J=z[--H],z[H]=null;for(;o===ge;)ge=Q[--ae],Q[ae]=null,oe=Q[--ae],Q[ae]=null,ke=Q[--ae],Q[ae]=null}var Fe=null,De=null,je=!1,Be=null;function wt(o,s){var f=Bo(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=o,s=o.deletions,s===null?(o.deletions=[f],o.flags|=16):s.push(f)}function it(o,s){switch(o.tag){case 5:var f=o.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,Fe=o,De=sa(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,Fe=o,De=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=ge!==null?{id:ke,overflow:oe}:null,o.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=Bo(18,null,null,0),f.stateNode=s,f.return=o,o.child=f,Fe=o,De=null,!0):!1;default:return!1}}function Ht(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ft(o){if(je){var s=De;if(s){var f=s;if(!it(o,s)){if(Ht(o))throw Error(n(418));s=sa(f.nextSibling);var v=Fe;s&&it(o,s)?wt(v,f):(o.flags=o.flags&-4097|2,je=!1,Fe=o)}}else{if(Ht(o))throw Error(n(418));o.flags=o.flags&-4097|2,je=!1,Fe=o}}}function tn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Fe=o}function Zn(o){if(o!==Fe)return!1;if(!je)return tn(o),je=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!_u(o.type,o.memoizedProps)),s&&(s=De)){if(Ht(o))throw $t(),Error(n(418));for(;s;)wt(o,s),s=sa(s.nextSibling)}if(tn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(s===0){De=sa(o.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}o=o.nextSibling}De=null}}else De=Fe?sa(o.stateNode.nextSibling):null;return!0}function $t(){for(var o=De;o;)o=sa(o.nextSibling)}function st(){De=Fe=null,je=!1}function Je(o){Be===null?Be=[o]:Be.push(o)}var sr=I.ReactCurrentBatchConfig;function jt(o,s,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var v=f.stateNode}if(!v)throw Error(n(147,o));var x=v,C=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===C?s.ref:(s=function(W){var ue=x.refs;W===null?delete ue[C]:ue[C]=W},s._stringRef=C,s)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Zt(o,s){throw o=Object.prototype.toString.call(s),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function Bn(o){var s=o._init;return s(o._payload)}function Dr(o){function s(Ne,we){if(o){var Le=Ne.deletions;Le===null?(Ne.deletions=[we],Ne.flags|=16):Le.push(we)}}function f(Ne,we){if(!o)return null;for(;we!==null;)s(Ne,we),we=we.sibling;return null}function v(Ne,we){for(Ne=new Map;we!==null;)we.key!==null?Ne.set(we.key,we):Ne.set(we.index,we),we=we.sibling;return Ne}function x(Ne,we){return Ne=Zs(Ne,we),Ne.index=0,Ne.sibling=null,Ne}function C(Ne,we,Le){return Ne.index=Le,o?(Le=Ne.alternate,Le!==null?(Le=Le.index,Le<we?(Ne.flags|=2,we):Le):(Ne.flags|=2,we)):(Ne.flags|=1048576,we)}function W(Ne){return o&&Ne.alternate===null&&(Ne.flags|=2),Ne}function ue(Ne,we,Le,Ge){return we===null||we.tag!==6?(we=em(Le,Ne.mode,Ge),we.return=Ne,we):(we=x(we,Le),we.return=Ne,we)}function ve(Ne,we,Le,Ge){var Et=Le.type;return Et===te?He(Ne,we,Le.props.children,Ge,Le.key):we!==null&&(we.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===ne&&Bn(Et)===we.type)?(Ge=x(we,Le.props),Ge.ref=jt(Ne,we,Le),Ge.return=Ne,Ge):(Ge=Jd(Le.type,Le.key,Le.props,null,Ne.mode,Ge),Ge.ref=jt(Ne,we,Le),Ge.return=Ne,Ge)}function Te(Ne,we,Le,Ge){return we===null||we.tag!==4||we.stateNode.containerInfo!==Le.containerInfo||we.stateNode.implementation!==Le.implementation?(we=tm(Le,Ne.mode,Ge),we.return=Ne,we):(we=x(we,Le.children||[]),we.return=Ne,we)}function He(Ne,we,Le,Ge,Et){return we===null||we.tag!==7?(we=Wl(Le,Ne.mode,Ge,Et),we.return=Ne,we):(we=x(we,Le),we.return=Ne,we)}function Ye(Ne,we,Le){if(typeof we=="string"&&we!==""||typeof we=="number")return we=em(""+we,Ne.mode,Le),we.return=Ne,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case ee:return Le=Jd(we.type,we.key,we.props,null,Ne.mode,Le),Le.ref=jt(Ne,null,we),Le.return=Ne,Le;case U:return we=tm(we,Ne.mode,Le),we.return=Ne,we;case ne:var Ge=we._init;return Ye(Ne,Ge(we._payload),Le)}if(ht(we)||de(we))return we=Wl(we,Ne.mode,Le,null),we.return=Ne,we;Zt(Ne,we)}return null}function We(Ne,we,Le,Ge){var Et=we!==null?we.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Et!==null?null:ue(Ne,we,""+Le,Ge);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case ee:return Le.key===Et?ve(Ne,we,Le,Ge):null;case U:return Le.key===Et?Te(Ne,we,Le,Ge):null;case ne:return Et=Le._init,We(Ne,we,Et(Le._payload),Ge)}if(ht(Le)||de(Le))return Et!==null?null:He(Ne,we,Le,Ge,null);Zt(Ne,Le)}return null}function at(Ne,we,Le,Ge,Et){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Ne=Ne.get(Le)||null,ue(we,Ne,""+Ge,Et);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case ee:return Ne=Ne.get(Ge.key===null?Le:Ge.key)||null,ve(we,Ne,Ge,Et);case U:return Ne=Ne.get(Ge.key===null?Le:Ge.key)||null,Te(we,Ne,Ge,Et);case ne:var Pt=Ge._init;return at(Ne,we,Le,Pt(Ge._payload),Et)}if(ht(Ge)||de(Ge))return Ne=Ne.get(Le)||null,He(we,Ne,Ge,Et,null);Zt(we,Ge)}return null}function pt(Ne,we,Le,Ge){for(var Et=null,Pt=null,Tt=we,zt=we=0,Zr=null;Tt!==null&&zt<Le.length;zt++){Tt.index>zt?(Zr=Tt,Tt=null):Zr=Tt.sibling;var bn=We(Ne,Tt,Le[zt],Ge);if(bn===null){Tt===null&&(Tt=Zr);break}o&&Tt&&bn.alternate===null&&s(Ne,Tt),we=C(bn,we,zt),Pt===null?Et=bn:Pt.sibling=bn,Pt=bn,Tt=Zr}if(zt===Le.length)return f(Ne,Tt),je&&be(Ne,zt),Et;if(Tt===null){for(;zt<Le.length;zt++)Tt=Ye(Ne,Le[zt],Ge),Tt!==null&&(we=C(Tt,we,zt),Pt===null?Et=Tt:Pt.sibling=Tt,Pt=Tt);return je&&be(Ne,zt),Et}for(Tt=v(Ne,Tt);zt<Le.length;zt++)Zr=at(Tt,Ne,zt,Le[zt],Ge),Zr!==null&&(o&&Zr.alternate!==null&&Tt.delete(Zr.key===null?zt:Zr.key),we=C(Zr,we,zt),Pt===null?Et=Zr:Pt.sibling=Zr,Pt=Zr);return o&&Tt.forEach(function(el){return s(Ne,el)}),je&&be(Ne,zt),Et}function bt(Ne,we,Le,Ge){var Et=de(Le);if(typeof Et!="function")throw Error(n(150));if(Le=Et.call(Le),Le==null)throw Error(n(151));for(var Pt=Et=null,Tt=we,zt=we=0,Zr=null,bn=Le.next();Tt!==null&&!bn.done;zt++,bn=Le.next()){Tt.index>zt?(Zr=Tt,Tt=null):Zr=Tt.sibling;var el=We(Ne,Tt,bn.value,Ge);if(el===null){Tt===null&&(Tt=Zr);break}o&&Tt&&el.alternate===null&&s(Ne,Tt),we=C(el,we,zt),Pt===null?Et=el:Pt.sibling=el,Pt=el,Tt=Zr}if(bn.done)return f(Ne,Tt),je&&be(Ne,zt),Et;if(Tt===null){for(;!bn.done;zt++,bn=Le.next())bn=Ye(Ne,bn.value,Ge),bn!==null&&(we=C(bn,we,zt),Pt===null?Et=bn:Pt.sibling=bn,Pt=bn);return je&&be(Ne,zt),Et}for(Tt=v(Ne,Tt);!bn.done;zt++,bn=Le.next())bn=at(Tt,Ne,zt,bn.value,Ge),bn!==null&&(o&&bn.alternate!==null&&Tt.delete(bn.key===null?zt:bn.key),we=C(bn,we,zt),Pt===null?Et=bn:Pt.sibling=bn,Pt=bn);return o&&Tt.forEach(function(Pb){return s(Ne,Pb)}),je&&be(Ne,zt),Et}function Ar(Ne,we,Le,Ge){if(typeof Le=="object"&&Le!==null&&Le.type===te&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case ee:e:{for(var Et=Le.key,Pt=we;Pt!==null;){if(Pt.key===Et){if(Et=Le.type,Et===te){if(Pt.tag===7){f(Ne,Pt.sibling),we=x(Pt,Le.props.children),we.return=Ne,Ne=we;break e}}else if(Pt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===ne&&Bn(Et)===Pt.type){f(Ne,Pt.sibling),we=x(Pt,Le.props),we.ref=jt(Ne,Pt,Le),we.return=Ne,Ne=we;break e}f(Ne,Pt);break}else s(Ne,Pt);Pt=Pt.sibling}Le.type===te?(we=Wl(Le.props.children,Ne.mode,Ge,Le.key),we.return=Ne,Ne=we):(Ge=Jd(Le.type,Le.key,Le.props,null,Ne.mode,Ge),Ge.ref=jt(Ne,we,Le),Ge.return=Ne,Ne=Ge)}return W(Ne);case U:e:{for(Pt=Le.key;we!==null;){if(we.key===Pt)if(we.tag===4&&we.stateNode.containerInfo===Le.containerInfo&&we.stateNode.implementation===Le.implementation){f(Ne,we.sibling),we=x(we,Le.children||[]),we.return=Ne,Ne=we;break e}else{f(Ne,we);break}else s(Ne,we);we=we.sibling}we=tm(Le,Ne.mode,Ge),we.return=Ne,Ne=we}return W(Ne);case ne:return Pt=Le._init,Ar(Ne,we,Pt(Le._payload),Ge)}if(ht(Le))return pt(Ne,we,Le,Ge);if(de(Le))return bt(Ne,we,Le,Ge);Zt(Ne,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,we!==null&&we.tag===6?(f(Ne,we.sibling),we=x(we,Le),we.return=Ne,Ne=we):(f(Ne,we),we=em(Le,Ne.mode,Ge),we.return=Ne,Ne=we),W(Ne)):f(Ne,we)}return Ar}var pr=Dr(!0),Gn=Dr(!1),kr=mo(null),Or=null,Hn=null,on=null;function mn(){on=Hn=Or=null}function $n(o){var s=kr.current;kn(kr),o._currentValue=s}function pn(o,s,f){for(;o!==null;){var v=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,v!==null&&(v.childLanes|=s)):v!==null&&(v.childLanes&s)!==s&&(v.childLanes|=s),o===f)break;o=o.return}}function er(o,s){Or=o,on=Hn=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&s)!==0&&(Ka=!0),o.firstContext=null)}function tr(o){var s=o._currentValue;if(on!==o)if(o={context:o,memoizedValue:s,next:null},Hn===null){if(Or===null)throw Error(n(308));Hn=o,Or.dependencies={lanes:0,firstContext:o}}else Hn=Hn.next=o;return s}var Tn=null;function Kr(o){Tn===null?Tn=[o]:Tn.push(o)}function An(o,s,f,v){var x=s.interleaved;return x===null?(f.next=f,Kr(s)):(f.next=x.next,x.next=f),s.interleaved=f,Mn(o,v)}function Mn(o,s){o.lanes|=s;var f=o.alternate;for(f!==null&&(f.lanes|=s),f=o,o=o.return;o!==null;)o.childLanes|=s,f=o.alternate,f!==null&&(f.childLanes|=s),f=o,o=o.return;return f.tag===3?f.stateNode:null}var gr=!1;function qr(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xa(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function lr(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function cr(o,s,f){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(gn&2)!==0){var x=v.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),v.pending=s,Mn(o,f)}return x=v.interleaved,x===null?(s.next=s,Kr(v)):(s.next=x.next,x.next=s),v.interleaved=s,Mn(o,f)}function Xr(o,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var v=s.lanes;v&=o.pendingLanes,f|=v,s.lanes=f,ks(o,f)}}function Rn(o,s){var f=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var x=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var W={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};C===null?x=C=W:C=C.next=W,f=f.next}while(f!==null);C===null?x=C=s:C=C.next=s}else x=C=s;f={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:v.shared,effects:v.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=s:o.next=s,f.lastBaseUpdate=s}function Jr(o,s,f,v){var x=o.updateQueue;gr=!1;var C=x.firstBaseUpdate,W=x.lastBaseUpdate,ue=x.shared.pending;if(ue!==null){x.shared.pending=null;var ve=ue,Te=ve.next;ve.next=null,W===null?C=Te:W.next=Te,W=ve;var He=o.alternate;He!==null&&(He=He.updateQueue,ue=He.lastBaseUpdate,ue!==W&&(ue===null?He.firstBaseUpdate=Te:ue.next=Te,He.lastBaseUpdate=ve))}if(C!==null){var Ye=x.baseState;W=0,He=Te=ve=null,ue=C;do{var We=ue.lane,at=ue.eventTime;if((v&We)===We){He!==null&&(He=He.next={eventTime:at,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var pt=o,bt=ue;switch(We=s,at=f,bt.tag){case 1:if(pt=bt.payload,typeof pt=="function"){Ye=pt.call(at,Ye,We);break e}Ye=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=bt.payload,We=typeof pt=="function"?pt.call(at,Ye,We):pt,We==null)break e;Ye=ye({},Ye,We);break e;case 2:gr=!0}}ue.callback!==null&&ue.lane!==0&&(o.flags|=64,We=x.effects,We===null?x.effects=[ue]:We.push(ue))}else at={eventTime:at,lane:We,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},He===null?(Te=He=at,ve=Ye):He=He.next=at,W|=We;if(ue=ue.next,ue===null){if(ue=x.shared.pending,ue===null)break;We=ue,ue=We.next,We.next=null,x.lastBaseUpdate=We,x.shared.pending=null}}while(!0);if(He===null&&(ve=Ye),x.baseState=ve,x.firstBaseUpdate=Te,x.lastBaseUpdate=He,s=x.shared.interleaved,s!==null){x=s;do W|=x.lane,x=x.next;while(x!==s)}else C===null&&(x.shared.lanes=0);Bl|=W,o.lanes=W,o.memoizedState=Ye}}function Ga(o,s,f){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var v=o[s],x=v.callback;if(x!==null){if(v.callback=null,v=f,typeof x!="function")throw Error(n(191,x));x.call(v)}}}var po={},Ir=mo(po),ur=mo(po),Pi=mo(po);function si(o){if(o===po)throw Error(n(174));return o}function Hs(o,s){switch(Nn(Pi,s),Nn(ur,o),Nn(Ir,po),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Yt(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=Yt(s,o)}kn(Ir),Nn(Ir,s)}function Do(){kn(Ir),kn(ur),kn(Pi)}function Md(o){si(Pi.current);var s=si(Ir.current),f=Yt(s,o.type);s!==f&&(Nn(ur,o),Nn(Ir,f))}function Cu(o){ur.current===o&&(kn(Ir),kn(ur))}var Un=mo(0);function go(o){for(var s=o;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lu=[];function Pu(){for(var o=0;o<Lu.length;o++)Lu[o]._workInProgressVersionPrimary=null;Lu.length=0}var Lc=I.ReactCurrentDispatcher,Pc=I.ReactCurrentBatchConfig,Oo=0,Vn=null,vr=null,dr=null,$s=!1,li=!1,Vs=0,Nh=0;function Nr(){throw Error(n(321))}function Tc(o,s){if(s===null)return!1;for(var f=0;f<s.length&&f<o.length;f++)if(!Sr(o[f],s[f]))return!1;return!0}function Ol(o,s,f,v,x,C){if(Oo=C,Vn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Lc.current=o===null||o.memoizedState===null?nb:rb,o=f(v,x),li){C=0;do{if(li=!1,Vs=0,25<=C)throw Error(n(301));C+=1,dr=vr=null,s.updateQueue=null,Lc.current=ab,o=f(v,x)}while(li)}if(Lc.current=Id,s=vr!==null&&vr.next!==null,Oo=0,dr=vr=Vn=null,$s=!1,s)throw Error(n(300));return o}function Io(){var o=Vs!==0;return Vs=0,o}function vo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Vn.memoizedState=dr=o:dr=dr.next=o,dr}function Oa(){if(vr===null){var o=Vn.alternate;o=o!==null?o.memoizedState:null}else o=vr.next;var s=dr===null?Vn.memoizedState:dr.next;if(s!==null)dr=s,vr=o;else{if(o===null)throw Error(n(310));vr=o,o={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},dr===null?Vn.memoizedState=dr=o:dr=dr.next=o}return dr}function Il(o,s){return typeof s=="function"?s(o):s}function Mc(o){var s=Oa(),f=s.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var v=vr,x=v.baseQueue,C=f.pending;if(C!==null){if(x!==null){var W=x.next;x.next=C.next,C.next=W}v.baseQueue=x=C,f.pending=null}if(x!==null){C=x.next,v=v.baseState;var ue=W=null,ve=null,Te=C;do{var He=Te.lane;if((Oo&He)===He)ve!==null&&(ve=ve.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),v=Te.hasEagerState?Te.eagerState:o(v,Te.action);else{var Ye={lane:He,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};ve===null?(ue=ve=Ye,W=v):ve=ve.next=Ye,Vn.lanes|=He,Bl|=He}Te=Te.next}while(Te!==null&&Te!==C);ve===null?W=v:ve.next=ue,Sr(v,s.memoizedState)||(Ka=!0),s.memoizedState=v,s.baseState=W,s.baseQueue=ve,f.lastRenderedState=v}if(o=f.interleaved,o!==null){x=o;do C=x.lane,Vn.lanes|=C,Bl|=C,x=x.next;while(x!==o)}else x===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Ti(o){var s=Oa(),f=s.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var v=f.dispatch,x=f.pending,C=s.memoizedState;if(x!==null){f.pending=null;var W=x=x.next;do C=o(C,W.action),W=W.next;while(W!==x);Sr(C,s.memoizedState)||(Ka=!0),s.memoizedState=C,s.baseQueue===null&&(s.baseState=C),f.lastRenderedState=C}return[C,v]}function Rd(){}function Tu(o,s){var f=Vn,v=Oa(),x=s(),C=!Sr(v.memoizedState,x);if(C&&(v.memoizedState=x,Ka=!0),v=v.queue,Dc(Dd.bind(null,f,v,o),[o]),v.getSnapshot!==s||C||dr!==null&&dr.memoizedState.tag&1){if(f.flags|=2048,Ia(9,Mu.bind(null,f,v,x,s),void 0,null),Qr===null)throw Error(n(349));(Oo&30)!==0||Fd(f,s,x)}return x}function Fd(o,s,f){o.flags|=16384,o={getSnapshot:s,value:f},s=Vn.updateQueue,s===null?(s={lastEffect:null,stores:null},Vn.updateQueue=s,s.stores=[o]):(f=s.stores,f===null?s.stores=[o]:f.push(o))}function Mu(o,s,f,v){s.value=f,s.getSnapshot=v,Ys(s)&&Rc(o)}function Dd(o,s,f){return f(function(){Ys(s)&&Rc(o)})}function Ys(o){var s=o.getSnapshot;o=o.value;try{var f=s();return!Sr(o,f)}catch{return!0}}function Rc(o){var s=Mn(o,1);s!==null&&hi(s,o,1,-1)}function jl(o){var s=vo();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:o},s.queue=o,o=o.dispatch=tb.bind(null,Vn,o),[s.memoizedState,o]}function Ia(o,s,f,v){return o={tag:o,create:s,destroy:f,deps:v,next:null},s=Vn.updateQueue,s===null?(s={lastEffect:null,stores:null},Vn.updateQueue=s,s.lastEffect=o.next=o):(f=s.lastEffect,f===null?s.lastEffect=o.next=o:(v=f.next,f.next=o,o.next=v,s.lastEffect=o)),o}function ci(){return Oa().memoizedState}function yo(o,s,f,v){var x=vo();Vn.flags|=o,x.memoizedState=Ia(1|s,f,void 0,v===void 0?null:v)}function hs(o,s,f,v){var x=Oa();v=v===void 0?null:v;var C=void 0;if(vr!==null){var W=vr.memoizedState;if(C=W.destroy,v!==null&&Tc(v,W.deps)){x.memoizedState=Ia(s,f,C,v);return}}Vn.flags|=o,x.memoizedState=Ia(1|s,f,C,v)}function Fc(o,s){return yo(8390656,8,o,s)}function Dc(o,s){return hs(2048,8,o,s)}function Od(o,s){return hs(4,2,o,s)}function Oc(o,s){return hs(4,4,o,s)}function Ic(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function ng(o,s,f){return f=f!=null?f.concat([o]):null,hs(4,4,Ic.bind(null,s,o),f)}function Ah(){}function rg(o,s){var f=Oa();s=s===void 0?null:s;var v=f.memoizedState;return v!==null&&s!==null&&Tc(s,v[1])?v[0]:(f.memoizedState=[o,s],o)}function ag(o,s){var f=Oa();s=s===void 0?null:s;var v=f.memoizedState;return v!==null&&s!==null&&Tc(s,v[1])?v[0]:(o=o(),f.memoizedState=[o,s],o)}function og(o,s,f){return(Oo&21)===0?(o.baseState&&(o.baseState=!1,Ka=!0),o.memoizedState=f):(Sr(f,s)||(f=dc(),Vn.lanes|=f,Bl|=f,o.baseState=!0),s)}function Zy(o,s){var f=dn;dn=f!==0&&4>f?f:4,o(!0);var v=Pc.transition;Pc.transition={};try{o(!1),s()}finally{dn=f,Pc.transition=v}}function ig(){return Oa().memoizedState}function eb(o,s,f){var v=Js(o);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},sg(o))lg(s,f);else if(f=An(o,s,f,v),f!==null){var x=Ba();hi(f,o,v,x),cg(f,s,v)}}function tb(o,s,f){var v=Js(o),x={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(sg(o))lg(s,x);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=s.lastRenderedReducer,C!==null))try{var W=s.lastRenderedState,ue=C(W,f);if(x.hasEagerState=!0,x.eagerState=ue,Sr(ue,W)){var ve=s.interleaved;ve===null?(x.next=x,Kr(s)):(x.next=ve.next,ve.next=x),s.interleaved=x;return}}catch{}finally{}f=An(o,s,x,v),f!==null&&(x=Ba(),hi(f,o,v,x),cg(f,s,v))}}function sg(o){var s=o.alternate;return o===Vn||s!==null&&s===Vn}function lg(o,s){li=$s=!0;var f=o.pending;f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s}function cg(o,s,f){if((f&4194240)!==0){var v=s.lanes;v&=o.pendingLanes,f|=v,s.lanes=f,ks(o,f)}}var Id={readContext:tr,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},nb={readContext:tr,useCallback:function(o,s){return vo().memoizedState=[o,s===void 0?null:s],o},useContext:tr,useEffect:Fc,useImperativeHandle:function(o,s,f){return f=f!=null?f.concat([o]):null,yo(4194308,4,Ic.bind(null,s,o),f)},useLayoutEffect:function(o,s){return yo(4194308,4,o,s)},useInsertionEffect:function(o,s){return yo(4,2,o,s)},useMemo:function(o,s){var f=vo();return s=s===void 0?null:s,o=o(),f.memoizedState=[o,s],o},useReducer:function(o,s,f){var v=vo();return s=f!==void 0?f(s):s,v.memoizedState=v.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},v.queue=o,o=o.dispatch=eb.bind(null,Vn,o),[v.memoizedState,o]},useRef:function(o){var s=vo();return o={current:o},s.memoizedState=o},useState:jl,useDebugValue:Ah,useDeferredValue:function(o){return vo().memoizedState=o},useTransition:function(){var o=jl(!1),s=o[0];return o=Zy.bind(null,o[1]),vo().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,f){var v=Vn,x=vo();if(je){if(f===void 0)throw Error(n(407));f=f()}else{if(f=s(),Qr===null)throw Error(n(349));(Oo&30)!==0||Fd(v,s,f)}x.memoizedState=f;var C={value:f,getSnapshot:s};return x.queue=C,Fc(Dd.bind(null,v,C,o),[o]),v.flags|=2048,Ia(9,Mu.bind(null,v,C,f,s),void 0,null),f},useId:function(){var o=vo(),s=Qr.identifierPrefix;if(je){var f=oe,v=ke;f=(v&~(1<<32-xr(v)-1)).toString(32)+f,s=":"+s+"R"+f,f=Vs++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=Nh++,s=":"+s+"r"+f.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},rb={readContext:tr,useCallback:rg,useContext:tr,useEffect:Dc,useImperativeHandle:ng,useInsertionEffect:Od,useLayoutEffect:Oc,useMemo:ag,useReducer:Mc,useRef:ci,useState:function(){return Mc(Il)},useDebugValue:Ah,useDeferredValue:function(o){var s=Oa();return og(s,vr.memoizedState,o)},useTransition:function(){var o=Mc(Il)[0],s=Oa().memoizedState;return[o,s]},useMutableSource:Rd,useSyncExternalStore:Tu,useId:ig,unstable_isNewReconciler:!1},ab={readContext:tr,useCallback:rg,useContext:tr,useEffect:Dc,useImperativeHandle:ng,useInsertionEffect:Od,useLayoutEffect:Oc,useMemo:ag,useReducer:Ti,useRef:ci,useState:function(){return Ti(Il)},useDebugValue:Ah,useDeferredValue:function(o){var s=Oa();return vr===null?s.memoizedState=o:og(s,vr.memoizedState,o)},useTransition:function(){var o=Ti(Il)[0],s=Oa().memoizedState;return[o,s]},useMutableSource:Rd,useSyncExternalStore:Tu,useId:ig,unstable_isNewReconciler:!1};function ui(o,s){if(o&&o.defaultProps){s=ye({},s),o=o.defaultProps;for(var f in o)s[f]===void 0&&(s[f]=o[f]);return s}return s}function Ch(o,s,f,v){s=o.memoizedState,f=f(v,s),f=f==null?s:ye({},s,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var jd={isMounted:function(o){return(o=o._reactInternals)?Kt(o)===o:!1},enqueueSetState:function(o,s,f){o=o._reactInternals;var v=Ba(),x=Js(o),C=lr(v,x);C.payload=s,f!=null&&(C.callback=f),s=cr(o,C,x),s!==null&&(hi(s,o,x,v),Xr(s,o,x))},enqueueReplaceState:function(o,s,f){o=o._reactInternals;var v=Ba(),x=Js(o),C=lr(v,x);C.tag=1,C.payload=s,f!=null&&(C.callback=f),s=cr(o,C,x),s!==null&&(hi(s,o,x,v),Xr(s,o,x))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var f=Ba(),v=Js(o),x=lr(f,v);x.tag=2,s!=null&&(x.callback=s),s=cr(o,x,v),s!==null&&(hi(s,o,v,f),Xr(s,o,v))}};function ug(o,s,f,v,x,C,W){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,C,W):s.prototype&&s.prototype.isPureReactComponent?!Mo(f,v)||!Mo(x,C):!0}function dg(o,s,f){var v=!1,x=Li,C=s.contextType;return typeof C=="object"&&C!==null?C=tr(C):(x=wa(s)?ds:Ur.current,v=s.contextTypes,C=(v=v!=null)?Ws(o,x):Li),s=new s(f,C),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=jd,o.stateNode=s,s._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=C),s}function fg(o,s,f,v){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,v),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,v),s.state!==o&&jd.enqueueReplaceState(s,s.state,null)}function Lh(o,s,f,v){var x=o.stateNode;x.props=f,x.state=o.memoizedState,x.refs={},qr(o);var C=s.contextType;typeof C=="object"&&C!==null?x.context=tr(C):(C=wa(s)?ds:Ur.current,x.context=Ws(o,C)),x.state=o.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Ch(o,s,C,f),x.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&jd.enqueueReplaceState(x,x.state,null),Jr(o,f,x,v),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function jc(o,s){try{var f="",v=s;do f+=se(v),v=v.return;while(v);var x=f}catch(C){x=`
Error generating stack: `+C.message+`
`+C.stack}return{value:o,source:s,stack:x,digest:null}}function Ph(o,s,f){return{value:o,source:null,stack:f??null,digest:s??null}}function Th(o,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var ob=typeof WeakMap=="function"?WeakMap:Map;function hg(o,s,f){f=lr(-1,f),f.tag=3,f.payload={element:null};var v=s.value;return f.callback=function(){$d||($d=!0,Vh=v),Th(o,s)},f}function mg(o,s,f){f=lr(-1,f),f.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var x=s.value;f.payload=function(){return v(x)},f.callback=function(){Th(o,s)}}var C=o.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(f.callback=function(){Th(o,s),typeof v!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var W=s.stack;this.componentDidCatch(s.value,{componentStack:W!==null?W:""})}),f}function pg(o,s,f){var v=o.pingCache;if(v===null){v=o.pingCache=new ob;var x=new Set;v.set(s,x)}else x=v.get(s),x===void 0&&(x=new Set,v.set(s,x));x.has(f)||(x.add(f),o=bb.bind(null,o,s,f),s.then(o,o))}function gg(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function vg(o,s,f,v,x){return(o.mode&1)===0?(o===s?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=lr(-1,1),s.tag=2,cr(f,s,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var ib=I.ReactCurrentOwner,Ka=!1;function ja(o,s,f,v){s.child=o===null?Gn(s,null,f,v):pr(s,o.child,f,v)}function yg(o,s,f,v,x){f=f.render;var C=s.ref;return er(s,x),v=Ol(o,s,f,v,C,x),f=Io(),o!==null&&!Ka?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~x,ms(o,s,x)):(je&&f&&Oe(s),s.flags|=1,ja(o,s,v,x),s.child)}function bg(o,s,f,v,x){if(o===null){var C=f.type;return typeof C=="function"&&!Zh(C)&&C.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=C,wg(o,s,C,v,x)):(o=Jd(f.type,null,v,s,s.mode,x),o.ref=s.ref,o.return=s,s.child=o)}if(C=o.child,(o.lanes&x)===0){var W=C.memoizedProps;if(f=f.compare,f=f!==null?f:Mo,f(W,v)&&o.ref===s.ref)return ms(o,s,x)}return s.flags|=1,o=Zs(C,v),o.ref=s.ref,o.return=s,s.child=o}function wg(o,s,f,v,x){if(o!==null){var C=o.memoizedProps;if(Mo(C,v)&&o.ref===s.ref)if(Ka=!1,s.pendingProps=v=C,(o.lanes&x)!==0)(o.flags&131072)!==0&&(Ka=!0);else return s.lanes=o.lanes,ms(o,s,x)}return Mh(o,s,f,v,x)}function xg(o,s,f){var v=s.pendingProps,x=v.children,C=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nn(zc,bo),bo|=f;else{if((f&1073741824)===0)return o=C!==null?C.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,Nn(zc,bo),bo|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:f,Nn(zc,bo),bo|=v}else C!==null?(v=C.baseLanes|f,s.memoizedState=null):v=f,Nn(zc,bo),bo|=v;return ja(o,s,x,f),s.child}function Eg(o,s){var f=s.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Mh(o,s,f,v,x){var C=wa(f)?ds:Ur.current;return C=Ws(s,C),er(s,x),f=Ol(o,s,f,v,C,x),v=Io(),o!==null&&!Ka?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~x,ms(o,s,x)):(je&&v&&Oe(s),s.flags|=1,ja(o,s,f,x),s.child)}function _g(o,s,f,v,x){if(wa(f)){var C=!0;fs(s)}else C=!1;if(er(s,x),s.stateNode===null)zd(o,s),dg(s,f,v),Lh(s,f,v,x),v=!0;else if(o===null){var W=s.stateNode,ue=s.memoizedProps;W.props=ue;var ve=W.context,Te=f.contextType;typeof Te=="object"&&Te!==null?Te=tr(Te):(Te=wa(f)?ds:Ur.current,Te=Ws(s,Te));var He=f.getDerivedStateFromProps,Ye=typeof He=="function"||typeof W.getSnapshotBeforeUpdate=="function";Ye||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ue!==v||ve!==Te)&&fg(s,W,v,Te),gr=!1;var We=s.memoizedState;W.state=We,Jr(s,v,W,x),ve=s.memoizedState,ue!==v||We!==ve||ba.current||gr?(typeof He=="function"&&(Ch(s,f,He,v),ve=s.memoizedState),(ue=gr||ug(s,f,ue,v,We,ve,Te))?(Ye||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(s.flags|=4194308)):(typeof W.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=v,s.memoizedState=ve),W.props=v,W.state=ve,W.context=Te,v=ue):(typeof W.componentDidMount=="function"&&(s.flags|=4194308),v=!1)}else{W=s.stateNode,xa(o,s),ue=s.memoizedProps,Te=s.type===s.elementType?ue:ui(s.type,ue),W.props=Te,Ye=s.pendingProps,We=W.context,ve=f.contextType,typeof ve=="object"&&ve!==null?ve=tr(ve):(ve=wa(f)?ds:Ur.current,ve=Ws(s,ve));var at=f.getDerivedStateFromProps;(He=typeof at=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ue!==Ye||We!==ve)&&fg(s,W,v,ve),gr=!1,We=s.memoizedState,W.state=We,Jr(s,v,W,x);var pt=s.memoizedState;ue!==Ye||We!==pt||ba.current||gr?(typeof at=="function"&&(Ch(s,f,at,v),pt=s.memoizedState),(Te=gr||ug(s,f,Te,v,We,pt,ve)||!1)?(He||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(v,pt,ve),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(v,pt,ve)),typeof W.componentDidUpdate=="function"&&(s.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof W.componentDidUpdate!="function"||ue===o.memoizedProps&&We===o.memoizedState||(s.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===o.memoizedProps&&We===o.memoizedState||(s.flags|=1024),s.memoizedProps=v,s.memoizedState=pt),W.props=v,W.state=pt,W.context=ve,v=Te):(typeof W.componentDidUpdate!="function"||ue===o.memoizedProps&&We===o.memoizedState||(s.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===o.memoizedProps&&We===o.memoizedState||(s.flags|=1024),v=!1)}return Rh(o,s,f,v,C,x)}function Rh(o,s,f,v,x,C){Eg(o,s);var W=(s.flags&128)!==0;if(!v&&!W)return x&&Td(s,f,!1),ms(o,s,C);v=s.stateNode,ib.current=s;var ue=W&&typeof f.getDerivedStateFromError!="function"?null:v.render();return s.flags|=1,o!==null&&W?(s.child=pr(s,o.child,null,C),s.child=pr(s,null,ue,C)):ja(o,s,ue,C),s.memoizedState=v.state,x&&Td(s,f,!0),s.child}function Sg(o){var s=o.stateNode;s.pendingContext?Pd(o,s.pendingContext,s.pendingContext!==s.context):s.context&&Pd(o,s.context,!1),Hs(o,s.containerInfo)}function kg(o,s,f,v,x){return st(),Je(x),s.flags|=256,ja(o,s,f,v),s.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Dh(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ng(o,s,f){var v=s.pendingProps,x=Un.current,C=!1,W=(s.flags&128)!==0,ue;if((ue=W)||(ue=o!==null&&o.memoizedState===null?!1:(x&2)!==0),ue?(C=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Nn(Un,x&1),o===null)return ft(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((s.mode&1)===0?s.lanes=1:o.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(W=v.children,o=v.fallback,C?(v=s.mode,C=s.child,W={mode:"hidden",children:W},(v&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=W):C=Qd(W,v,0,null),o=Wl(o,v,f,null),C.return=s,o.return=s,C.sibling=o,s.child=C,s.child.memoizedState=Dh(f),s.memoizedState=Fh,o):Oh(s,W));if(x=o.memoizedState,x!==null&&(ue=x.dehydrated,ue!==null))return sb(o,s,W,v,ue,x,f);if(C){C=v.fallback,W=s.mode,x=o.child,ue=x.sibling;var ve={mode:"hidden",children:v.children};return(W&1)===0&&s.child!==x?(v=s.child,v.childLanes=0,v.pendingProps=ve,s.deletions=null):(v=Zs(x,ve),v.subtreeFlags=x.subtreeFlags&14680064),ue!==null?C=Zs(ue,C):(C=Wl(C,W,f,null),C.flags|=2),C.return=s,v.return=s,v.sibling=C,s.child=v,v=C,C=s.child,W=o.child.memoizedState,W=W===null?Dh(f):{baseLanes:W.baseLanes|f,cachePool:null,transitions:W.transitions},C.memoizedState=W,C.childLanes=o.childLanes&~f,s.memoizedState=Fh,v}return C=o.child,o=C.sibling,v=Zs(C,{mode:"visible",children:v.children}),(s.mode&1)===0&&(v.lanes=f),v.return=s,v.sibling=null,o!==null&&(f=s.deletions,f===null?(s.deletions=[o],s.flags|=16):f.push(o)),s.child=v,s.memoizedState=null,v}function Oh(o,s){return s=Qd({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function Bd(o,s,f,v){return v!==null&&Je(v),pr(s,o.child,null,f),o=Oh(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function sb(o,s,f,v,x,C,W){if(f)return s.flags&256?(s.flags&=-257,v=Ph(Error(n(422))),Bd(o,s,W,v)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(C=v.fallback,x=s.mode,v=Qd({mode:"visible",children:v.children},x,0,null),C=Wl(C,x,W,null),C.flags|=2,v.return=s,C.return=s,v.sibling=C,s.child=v,(s.mode&1)!==0&&pr(s,o.child,null,W),s.child.memoizedState=Dh(W),s.memoizedState=Fh,C);if((s.mode&1)===0)return Bd(o,s,W,null);if(x.data==="$!"){if(v=x.nextSibling&&x.nextSibling.dataset,v)var ue=v.dgst;return v=ue,C=Error(n(419)),v=Ph(C,v,void 0),Bd(o,s,W,v)}if(ue=(W&o.childLanes)!==0,Ka||ue){if(v=Qr,v!==null){switch(W&-W){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(v.suspendedLanes|W))!==0?0:x,x!==0&&x!==C.retryLane&&(C.retryLane=x,Mn(o,x),hi(v,o,x,-1))}return Qh(),v=Ph(Error(n(421))),Bd(o,s,W,v)}return x.data==="$?"?(s.flags|=128,s.child=o.child,s=wb.bind(null,o),x._reactRetry=s,null):(o=C.treeContext,De=sa(x.nextSibling),Fe=s,je=!0,Be=null,o!==null&&(Q[ae++]=ke,Q[ae++]=oe,Q[ae++]=ge,ke=o.id,oe=o.overflow,ge=s),s=Oh(s,v.children),s.flags|=4096,s)}function Ag(o,s,f){o.lanes|=s;var v=o.alternate;v!==null&&(v.lanes|=s),pn(o.return,s,f)}function Ih(o,s,f,v,x){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:x}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=f,C.tailMode=x)}function Cg(o,s,f){var v=s.pendingProps,x=v.revealOrder,C=v.tail;if(ja(o,s,v.children,f),v=Un.current,(v&2)!==0)v=v&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ag(o,f,s);else if(o.tag===19)Ag(o,f,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(Nn(Un,v),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(f=s.child,x=null;f!==null;)o=f.alternate,o!==null&&go(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=s.child,s.child=null):(x=f.sibling,f.sibling=null),Ih(s,!1,x,f,C);break;case"backwards":for(f=null,x=s.child,s.child=null;x!==null;){if(o=x.alternate,o!==null&&go(o)===null){s.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}Ih(s,!0,f,null,C);break;case"together":Ih(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zd(o,s){(s.mode&1)===0&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function ms(o,s,f){if(o!==null&&(s.dependencies=o.dependencies),Bl|=s.lanes,(f&s.childLanes)===0)return null;if(o!==null&&s.child!==o.child)throw Error(n(153));if(s.child!==null){for(o=s.child,f=Zs(o,o.pendingProps),s.child=f,f.return=s;o.sibling!==null;)o=o.sibling,f=f.sibling=Zs(o,o.pendingProps),f.return=s;f.sibling=null}return s.child}function lb(o,s,f){switch(s.tag){case 3:Sg(s),st();break;case 5:Md(s);break;case 1:wa(s.type)&&fs(s);break;case 4:Hs(s,s.stateNode.containerInfo);break;case 10:var v=s.type._context,x=s.memoizedProps.value;Nn(kr,v._currentValue),v._currentValue=x;break;case 13:if(v=s.memoizedState,v!==null)return v.dehydrated!==null?(Nn(Un,Un.current&1),s.flags|=128,null):(f&s.child.childLanes)!==0?Ng(o,s,f):(Nn(Un,Un.current&1),o=ms(o,s,f),o!==null?o.sibling:null);Nn(Un,Un.current&1);break;case 19:if(v=(f&s.childLanes)!==0,(o.flags&128)!==0){if(v)return Cg(o,s,f);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Nn(Un,Un.current),v)break;return null;case 22:case 23:return s.lanes=0,xg(o,s,f)}return ms(o,s,f)}var Lg,jh,Pg,Tg;Lg=function(o,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},jh=function(){},Pg=function(o,s,f,v){var x=o.memoizedProps;if(x!==v){o=s.stateNode,si(Ir.current);var C=null;switch(f){case"input":x=Re(o,x),v=Re(o,v),C=[];break;case"select":x=ye({},x,{value:void 0}),v=ye({},v,{value:void 0}),C=[];break;case"textarea":x=Ct(o,x),v=Ct(o,v),C=[];break;default:typeof x.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=zs)}un(f,v);var W;f=null;for(Te in x)if(!v.hasOwnProperty(Te)&&x.hasOwnProperty(Te)&&x[Te]!=null)if(Te==="style"){var ue=x[Te];for(W in ue)ue.hasOwnProperty(W)&&(f||(f={}),f[W]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(a.hasOwnProperty(Te)?C||(C=[]):(C=C||[]).push(Te,null));for(Te in v){var ve=v[Te];if(ue=x?.[Te],v.hasOwnProperty(Te)&&ve!==ue&&(ve!=null||ue!=null))if(Te==="style")if(ue){for(W in ue)!ue.hasOwnProperty(W)||ve&&ve.hasOwnProperty(W)||(f||(f={}),f[W]="");for(W in ve)ve.hasOwnProperty(W)&&ue[W]!==ve[W]&&(f||(f={}),f[W]=ve[W])}else f||(C||(C=[]),C.push(Te,f)),f=ve;else Te==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ue=ue?ue.__html:void 0,ve!=null&&ue!==ve&&(C=C||[]).push(Te,ve)):Te==="children"?typeof ve!="string"&&typeof ve!="number"||(C=C||[]).push(Te,""+ve):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(a.hasOwnProperty(Te)?(ve!=null&&Te==="onScroll"&&Pn("scroll",o),C||ue===ve||(C=[])):(C=C||[]).push(Te,ve))}f&&(C=C||[]).push("style",f);var Te=C;(s.updateQueue=Te)&&(s.flags|=4)}},Tg=function(o,s,f,v){f!==v&&(s.flags|=4)};function Ru(o,s){if(!je)switch(o.tailMode){case"hidden":s=o.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Ea(o){var s=o.alternate!==null&&o.alternate.child===o.child,f=0,v=0;if(s)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,v|=x.subtreeFlags&14680064,v|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=v,o.childLanes=f,s}function cb(o,s,f){var v=s.pendingProps;switch(Ae(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ea(s),null;case 1:return wa(s.type)&&Cc(),Ea(s),null;case 3:return v=s.stateNode,Do(),kn(ba),kn(Ur),Pu(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(Zn(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Be!==null&&(Kh(Be),Be=null))),jh(o,s),Ea(s),null;case 5:Cu(s);var x=si(Pi.current);if(f=s.type,o!==null&&s.stateNode!=null)Pg(o,s,f,v,x),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!v){if(s.stateNode===null)throw Error(n(166));return Ea(s),null}if(o=si(Ir.current),Zn(s)){v=s.stateNode,f=s.type;var C=s.memoizedProps;switch(v[Fo]=s,v[Us]=C,o=(s.mode&1)!==0,f){case"dialog":Pn("cancel",v),Pn("close",v);break;case"iframe":case"object":case"embed":Pn("load",v);break;case"video":case"audio":for(x=0;x<Ai.length;x++)Pn(Ai[x],v);break;case"source":Pn("error",v);break;case"img":case"image":case"link":Pn("error",v),Pn("load",v);break;case"details":Pn("toggle",v);break;case"input":le(v,C),Pn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},Pn("invalid",v);break;case"textarea":vt(v,C),Pn("invalid",v)}un(f,C),x=null;for(var W in C)if(C.hasOwnProperty(W)){var ue=C[W];W==="children"?typeof ue=="string"?v.textContent!==ue&&(C.suppressHydrationWarning!==!0&&Ac(v.textContent,ue,o),x=["children",ue]):typeof ue=="number"&&v.textContent!==""+ue&&(C.suppressHydrationWarning!==!0&&Ac(v.textContent,ue,o),x=["children",""+ue]):a.hasOwnProperty(W)&&ue!=null&&W==="onScroll"&&Pn("scroll",v)}switch(f){case"input":qe(v),kt(v,C,!0);break;case"textarea":qe(v),Dt(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=zs)}v=x,s.updateQueue=v,v!==null&&(s.flags|=4)}else{W=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Nt(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=W.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=W.createElement(f,{is:v.is}):(o=W.createElement(f),f==="select"&&(W=o,v.multiple?W.multiple=!0:v.size&&(W.size=v.size))):o=W.createElementNS(o,f),o[Fo]=s,o[Us]=v,Lg(o,s,!1,!1),s.stateNode=o;e:{switch(W=St(f,v),f){case"dialog":Pn("cancel",o),Pn("close",o),x=v;break;case"iframe":case"object":case"embed":Pn("load",o),x=v;break;case"video":case"audio":for(x=0;x<Ai.length;x++)Pn(Ai[x],o);x=v;break;case"source":Pn("error",o),x=v;break;case"img":case"image":case"link":Pn("error",o),Pn("load",o),x=v;break;case"details":Pn("toggle",o),x=v;break;case"input":le(o,v),x=Re(o,v),Pn("invalid",o);break;case"option":x=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},x=ye({},v,{value:void 0}),Pn("invalid",o);break;case"textarea":vt(o,v),x=Ct(o,v),Pn("invalid",o);break;default:x=v}un(f,x),ue=x;for(C in ue)if(ue.hasOwnProperty(C)){var ve=ue[C];C==="style"?mt(o,ve):C==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&yt(o,ve)):C==="children"?typeof ve=="string"?(f!=="textarea"||ve!=="")&&At(o,ve):typeof ve=="number"&&At(o,""+ve):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?ve!=null&&C==="onScroll"&&Pn("scroll",o):ve!=null&&R(o,C,ve,W))}switch(f){case"input":qe(o),kt(o,v,!1);break;case"textarea":qe(o),Dt(o);break;case"option":v.value!=null&&o.setAttribute("value",""+Ce(v.value));break;case"select":o.multiple=!!v.multiple,C=v.value,C!=null?Qe(o,!!v.multiple,C,!1):v.defaultValue!=null&&Qe(o,!!v.multiple,v.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=zs)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ea(s),null;case 6:if(o&&s.stateNode!=null)Tg(o,s,o.memoizedProps,v);else{if(typeof v!="string"&&s.stateNode===null)throw Error(n(166));if(f=si(Pi.current),si(Ir.current),Zn(s)){if(v=s.stateNode,f=s.memoizedProps,v[Fo]=s,(C=v.nodeValue!==f)&&(o=Fe,o!==null))switch(o.tag){case 3:Ac(v.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ac(v.nodeValue,f,(o.mode&1)!==0)}C&&(s.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Fo]=s,s.stateNode=v}return Ea(s),null;case 13:if(kn(Un),v=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(je&&De!==null&&(s.mode&1)!==0&&(s.flags&128)===0)$t(),st(),s.flags|=98560,C=!1;else if(C=Zn(s),v!==null&&v.dehydrated!==null){if(o===null){if(!C)throw Error(n(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Fo]=s}else st(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ea(s),C=!1}else Be!==null&&(Kh(Be),Be=null),C=!0;if(!C)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=f,s):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(s.child.flags|=8192,(s.mode&1)!==0&&(o===null||(Un.current&1)!==0?Wr===0&&(Wr=3):Qh())),s.updateQueue!==null&&(s.flags|=4),Ea(s),null);case 4:return Do(),jh(o,s),o===null&&ss(s.stateNode.containerInfo),Ea(s),null;case 10:return $n(s.type._context),Ea(s),null;case 17:return wa(s.type)&&Cc(),Ea(s),null;case 19:if(kn(Un),C=s.memoizedState,C===null)return Ea(s),null;if(v=(s.flags&128)!==0,W=C.rendering,W===null)if(v)Ru(C,!1);else{if(Wr!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(W=go(o),W!==null){for(s.flags|=128,Ru(C,!1),v=W.updateQueue,v!==null&&(s.updateQueue=v,s.flags|=4),s.subtreeFlags=0,v=f,f=s.child;f!==null;)C=f,o=v,C.flags&=14680066,W=C.alternate,W===null?(C.childLanes=0,C.lanes=o,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=W.childLanes,C.lanes=W.lanes,C.child=W.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=W.memoizedProps,C.memoizedState=W.memoizedState,C.updateQueue=W.updateQueue,C.type=W.type,o=W.dependencies,C.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Nn(Un,Un.current&1|2),s.child}o=o.sibling}C.tail!==null&&fn()>Uc&&(s.flags|=128,v=!0,Ru(C,!1),s.lanes=4194304)}else{if(!v)if(o=go(W),o!==null){if(s.flags|=128,v=!0,f=o.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),Ru(C,!0),C.tail===null&&C.tailMode==="hidden"&&!W.alternate&&!je)return Ea(s),null}else 2*fn()-C.renderingStartTime>Uc&&f!==1073741824&&(s.flags|=128,v=!0,Ru(C,!1),s.lanes=4194304);C.isBackwards?(W.sibling=s.child,s.child=W):(f=C.last,f!==null?f.sibling=W:s.child=W,C.last=W)}return C.tail!==null?(s=C.tail,C.rendering=s,C.tail=s.sibling,C.renderingStartTime=fn(),s.sibling=null,f=Un.current,Nn(Un,v?f&1|2:f&1),s):(Ea(s),null);case 22:case 23:return Jh(),v=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(s.flags|=8192),v&&(s.mode&1)!==0?(bo&1073741824)!==0&&(Ea(s),s.subtreeFlags&6&&(s.flags|=8192)):Ea(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function ub(o,s){switch(Ae(s),s.tag){case 1:return wa(s.type)&&Cc(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Do(),kn(ba),kn(Ur),Pu(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 5:return Cu(s),null;case 13:if(kn(Un),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(n(340));st()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return kn(Un),null;case 4:return Do(),null;case 10:return $n(s.type._context),null;case 22:case 23:return Jh(),null;case 24:return null;default:return null}}var Ud=!1,_a=!1,db=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Bc(o,s){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){yr(o,s,v)}else f.current=null}function Bh(o,s,f){try{f()}catch(v){yr(o,s,v)}}var Mg=!1;function fb(o,s){if(Rl=Ls,o=mu(),xc(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var x=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var W=0,ue=-1,ve=-1,Te=0,He=0,Ye=o,We=null;t:for(;;){for(var at;Ye!==f||x!==0&&Ye.nodeType!==3||(ue=W+x),Ye!==C||v!==0&&Ye.nodeType!==3||(ve=W+v),Ye.nodeType===3&&(W+=Ye.nodeValue.length),(at=Ye.firstChild)!==null;)We=Ye,Ye=at;for(;;){if(Ye===o)break t;if(We===f&&++Te===x&&(ue=W),We===C&&++He===v&&(ve=W),(at=Ye.nextSibling)!==null)break;Ye=We,We=Ye.parentNode}Ye=at}f=ue===-1||ve===-1?null:{start:ue,end:ve}}else f=null}f=f||{start:0,end:0}}else f=null;for(cs={focusedElem:o,selectionRange:f},Ls=!1,ut=s;ut!==null;)if(s=ut,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,ut=o;else for(;ut!==null;){s=ut;try{var pt=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var bt=pt.memoizedProps,Ar=pt.memoizedState,Ne=s.stateNode,we=Ne.getSnapshotBeforeUpdate(s.elementType===s.type?bt:ui(s.type,bt),Ar);Ne.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Le=s.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ge){yr(s,s.return,Ge)}if(o=s.sibling,o!==null){o.return=s.return,ut=o;break}ut=s.return}return pt=Mg,Mg=!1,pt}function Fu(o,s,f){var v=s.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var x=v=v.next;do{if((x.tag&o)===o){var C=x.destroy;x.destroy=void 0,C!==void 0&&Bh(s,f,C)}x=x.next}while(x!==v)}}function qd(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&o)===o){var v=f.create;f.destroy=v()}f=f.next}while(f!==s)}}function zh(o){var s=o.ref;if(s!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof s=="function"?s(o):s.current=o}}function Rg(o){var s=o.alternate;s!==null&&(o.alternate=null,Rg(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[Fo],delete s[Us],delete s[ya],delete s[Sh],delete s[kh])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Fg(o){return o.tag===5||o.tag===3||o.tag===4}function Dg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Fg(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Uh(o,s,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(o,s):f.insertBefore(o,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(o,f)):(s=f,s.appendChild(o)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=zs));else if(v!==4&&(o=o.child,o!==null))for(Uh(o,s,f),o=o.sibling;o!==null;)Uh(o,s,f),o=o.sibling}function qh(o,s,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,s?f.insertBefore(o,s):f.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(qh(o,s,f),o=o.sibling;o!==null;)qh(o,s,f),o=o.sibling}var la=null,di=!1;function Gs(o,s,f){for(f=f.child;f!==null;)Og(o,s,f),f=f.sibling}function Og(o,s,f){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ra,f)}catch{}switch(f.tag){case 5:_a||Bc(f,s);case 6:var v=la,x=di;la=null,Gs(o,s,f),la=v,di=x,la!==null&&(di?(o=la,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):la.removeChild(f.stateNode));break;case 18:la!==null&&(di?(o=la,f=f.stateNode,o.nodeType===8?ku(o.parentNode,f):o.nodeType===1&&ku(o,f),Ao(o)):ku(la,f.stateNode));break;case 4:v=la,x=di,la=f.stateNode.containerInfo,di=!0,Gs(o,s,f),la=v,di=x;break;case 0:case 11:case 14:case 15:if(!_a&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){x=v=v.next;do{var C=x,W=C.destroy;C=C.tag,W!==void 0&&((C&2)!==0||(C&4)!==0)&&Bh(f,s,W),x=x.next}while(x!==v)}Gs(o,s,f);break;case 1:if(!_a&&(Bc(f,s),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(ue){yr(f,s,ue)}Gs(o,s,f);break;case 21:Gs(o,s,f);break;case 22:f.mode&1?(_a=(v=_a)||f.memoizedState!==null,Gs(o,s,f),_a=v):Gs(o,s,f);break;default:Gs(o,s,f)}}function Ig(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new db),s.forEach(function(v){var x=xb.bind(null,o,v);f.has(v)||(f.add(v),v.then(x,x))})}}function fi(o,s){var f=s.deletions;if(f!==null)for(var v=0;v<f.length;v++){var x=f[v];try{var C=o,W=s,ue=W;e:for(;ue!==null;){switch(ue.tag){case 5:la=ue.stateNode,di=!1;break e;case 3:la=ue.stateNode.containerInfo,di=!0;break e;case 4:la=ue.stateNode.containerInfo,di=!0;break e}ue=ue.return}if(la===null)throw Error(n(160));Og(C,W,x),la=null,di=!1;var ve=x.alternate;ve!==null&&(ve.return=null),x.return=null}catch(Te){yr(x,s,Te)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)jg(s,o),s=s.sibling}function jg(o,s){var f=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(fi(s,o),Mi(o),v&4){try{Fu(3,o,o.return),qd(3,o)}catch(bt){yr(o,o.return,bt)}try{Fu(5,o,o.return)}catch(bt){yr(o,o.return,bt)}}break;case 1:fi(s,o),Mi(o),v&512&&f!==null&&Bc(f,f.return);break;case 5:if(fi(s,o),Mi(o),v&512&&f!==null&&Bc(f,f.return),o.flags&32){var x=o.stateNode;try{At(x,"")}catch(bt){yr(o,o.return,bt)}}if(v&4&&(x=o.stateNode,x!=null)){var C=o.memoizedProps,W=f!==null?f.memoizedProps:C,ue=o.type,ve=o.updateQueue;if(o.updateQueue=null,ve!==null)try{ue==="input"&&C.type==="radio"&&C.name!=null&&Xt(x,C),St(ue,W);var Te=St(ue,C);for(W=0;W<ve.length;W+=2){var He=ve[W],Ye=ve[W+1];He==="style"?mt(x,Ye):He==="dangerouslySetInnerHTML"?yt(x,Ye):He==="children"?At(x,Ye):R(x,He,Ye,Te)}switch(ue){case"input":It(x,C);break;case"textarea":rn(x,C);break;case"select":var We=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!C.multiple;var at=C.value;at!=null?Qe(x,!!C.multiple,at,!1):We!==!!C.multiple&&(C.defaultValue!=null?Qe(x,!!C.multiple,C.defaultValue,!0):Qe(x,!!C.multiple,C.multiple?[]:"",!1))}x[Us]=C}catch(bt){yr(o,o.return,bt)}}break;case 6:if(fi(s,o),Mi(o),v&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,C=o.memoizedProps;try{x.nodeValue=C}catch(bt){yr(o,o.return,bt)}}break;case 3:if(fi(s,o),Mi(o),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Ao(s.containerInfo)}catch(bt){yr(o,o.return,bt)}break;case 4:fi(s,o),Mi(o);break;case 13:fi(s,o),Mi(o),x=o.child,x.flags&8192&&(C=x.memoizedState!==null,x.stateNode.isHidden=C,!C||x.alternate!==null&&x.alternate.memoizedState!==null||($h=fn())),v&4&&Ig(o);break;case 22:if(He=f!==null&&f.memoizedState!==null,o.mode&1?(_a=(Te=_a)||He,fi(s,o),_a=Te):fi(s,o),Mi(o),v&8192){if(Te=o.memoizedState!==null,(o.stateNode.isHidden=Te)&&!He&&(o.mode&1)!==0)for(ut=o,He=o.child;He!==null;){for(Ye=ut=He;ut!==null;){switch(We=ut,at=We.child,We.tag){case 0:case 11:case 14:case 15:Fu(4,We,We.return);break;case 1:Bc(We,We.return);var pt=We.stateNode;if(typeof pt.componentWillUnmount=="function"){v=We,f=We.return;try{s=v,pt.props=s.memoizedProps,pt.state=s.memoizedState,pt.componentWillUnmount()}catch(bt){yr(v,f,bt)}}break;case 5:Bc(We,We.return);break;case 22:if(We.memoizedState!==null){Ug(Ye);continue}}at!==null?(at.return=We,ut=at):Ug(Ye)}He=He.sibling}e:for(He=null,Ye=o;;){if(Ye.tag===5){if(He===null){He=Ye;try{x=Ye.stateNode,Te?(C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(ue=Ye.stateNode,ve=Ye.memoizedProps.style,W=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,ue.style.display=an("display",W))}catch(bt){yr(o,o.return,bt)}}}else if(Ye.tag===6){if(He===null)try{Ye.stateNode.nodeValue=Te?"":Ye.memoizedProps}catch(bt){yr(o,o.return,bt)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===o)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===o)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===o)break e;He===Ye&&(He=null),Ye=Ye.return}He===Ye&&(He=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:fi(s,o),Mi(o),v&4&&Ig(o);break;case 21:break;default:fi(s,o),Mi(o)}}function Mi(o){var s=o.flags;if(s&2){try{e:{for(var f=o.return;f!==null;){if(Fg(f)){var v=f;break e}f=f.return}throw Error(n(160))}switch(v.tag){case 5:var x=v.stateNode;v.flags&32&&(At(x,""),v.flags&=-33);var C=Dg(o);qh(o,C,x);break;case 3:case 4:var W=v.stateNode.containerInfo,ue=Dg(o);Uh(o,ue,W);break;default:throw Error(n(161))}}catch(ve){yr(o,o.return,ve)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function hb(o,s,f){ut=o,Bg(o)}function Bg(o,s,f){for(var v=(o.mode&1)!==0;ut!==null;){var x=ut,C=x.child;if(x.tag===22&&v){var W=x.memoizedState!==null||Ud;if(!W){var ue=x.alternate,ve=ue!==null&&ue.memoizedState!==null||_a;ue=Ud;var Te=_a;if(Ud=W,(_a=ve)&&!Te)for(ut=x;ut!==null;)W=ut,ve=W.child,W.tag===22&&W.memoizedState!==null?qg(x):ve!==null?(ve.return=W,ut=ve):qg(x);for(;C!==null;)ut=C,Bg(C),C=C.sibling;ut=x,Ud=ue,_a=Te}zg(o)}else(x.subtreeFlags&8772)!==0&&C!==null?(C.return=x,ut=C):zg(o)}}function zg(o){for(;ut!==null;){var s=ut;if((s.flags&8772)!==0){var f=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:_a||qd(5,s);break;case 1:var v=s.stateNode;if(s.flags&4&&!_a)if(f===null)v.componentDidMount();else{var x=s.elementType===s.type?f.memoizedProps:ui(s.type,f.memoizedProps);v.componentDidUpdate(x,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=s.updateQueue;C!==null&&Ga(s,C,v);break;case 3:var W=s.updateQueue;if(W!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}Ga(s,W,f)}break;case 5:var ue=s.stateNode;if(f===null&&s.flags&4){f=ue;var ve=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&f.focus();break;case"img":ve.src&&(f.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Te=s.alternate;if(Te!==null){var He=Te.memoizedState;if(He!==null){var Ye=He.dehydrated;Ye!==null&&Ao(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_a||s.flags&512&&zh(s)}catch(We){yr(s,s.return,We)}}if(s===o){ut=null;break}if(f=s.sibling,f!==null){f.return=s.return,ut=f;break}ut=s.return}}function Ug(o){for(;ut!==null;){var s=ut;if(s===o){ut=null;break}var f=s.sibling;if(f!==null){f.return=s.return,ut=f;break}ut=s.return}}function qg(o){for(;ut!==null;){var s=ut;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{qd(4,s)}catch(ve){yr(s,f,ve)}break;case 1:var v=s.stateNode;if(typeof v.componentDidMount=="function"){var x=s.return;try{v.componentDidMount()}catch(ve){yr(s,x,ve)}}var C=s.return;try{zh(s)}catch(ve){yr(s,C,ve)}break;case 5:var W=s.return;try{zh(s)}catch(ve){yr(s,W,ve)}}}catch(ve){yr(s,s.return,ve)}if(s===o){ut=null;break}var ue=s.sibling;if(ue!==null){ue.return=s.return,ut=ue;break}ut=s.return}}var mb=Math.ceil,Wd=I.ReactCurrentDispatcher,Wh=I.ReactCurrentOwner,jo=I.ReactCurrentBatchConfig,gn=0,Qr=null,jr=null,ca=0,bo=0,zc=mo(0),Wr=0,Du=null,Bl=0,Hd=0,Hh=0,Ou=null,Xa=null,$h=0,Uc=1/0,ps=null,$d=!1,Vh=null,Ks=null,Vd=!1,Xs=null,Yd=0,Iu=0,Yh=null,Gd=-1,Kd=0;function Ba(){return(gn&6)!==0?fn():Gd!==-1?Gd:Gd=fn()}function Js(o){return(o.mode&1)===0?1:(gn&2)!==0&&ca!==0?ca&-ca:sr.transition!==null?(Kd===0&&(Kd=dc()),Kd):(o=dn,o!==0||(o=window.event,o=o===void 0?16:es(o.type)),o)}function hi(o,s,f,v){if(50<Iu)throw Iu=0,Yh=null,Error(n(185));Xi(o,f,v),((gn&2)===0||o!==Qr)&&(o===Qr&&((gn&2)===0&&(Hd|=f),Wr===4&&Qs(o,ca)),Ja(o,v),f===1&&gn===0&&(s.mode&1)===0&&(Uc=fn()+500,Dl&&L()))}function Ja(o,s){var f=o.callbackNode;ar(o,s);var v=da(o,o===Qr?ca:0);if(v===0)f!==null&&Vr(f),o.callbackNode=null,o.callbackPriority=0;else if(s=v&-v,o.callbackPriority!==s){if(f!=null&&Vr(f),s===1)o.tag===0?k(Hg.bind(null,o)):b(Hg.bind(null,o)),Eh(function(){(gn&6)===0&&L()}),f=null;else{switch(Go(v)){case 1:f=oo;break;case 4:f=Rr;break;case 16:f=Qt;break;case 536870912:f=io;break;default:f=Qt}f=Qg(f,Wg.bind(null,o))}o.callbackPriority=s,o.callbackNode=f}}function Wg(o,s){if(Gd=-1,Kd=0,(gn&6)!==0)throw Error(n(327));var f=o.callbackNode;if(qc()&&o.callbackNode!==f)return null;var v=da(o,o===Qr?ca:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||s)s=Xd(o,v);else{s=v;var x=gn;gn|=2;var C=Vg();(Qr!==o||ca!==s)&&(ps=null,Uc=fn()+500,Ul(o,s));do try{vb();break}catch(ue){$g(o,ue)}while(!0);mn(),Wd.current=C,gn=x,jr!==null?s=0:(Qr=null,ca=0,s=Wr)}if(s!==0){if(s===2&&(x=Ki(o),x!==0&&(v=x,s=Gh(o,x))),s===1)throw f=Du,Ul(o,0),Qs(o,v),Ja(o,fn()),f;if(s===6)Qs(o,v);else{if(x=o.current.alternate,(v&30)===0&&!pb(x)&&(s=Xd(o,v),s===2&&(C=Ki(o),C!==0&&(v=C,s=Gh(o,C))),s===1))throw f=Du,Ul(o,0),Qs(o,v),Ja(o,fn()),f;switch(o.finishedWork=x,o.finishedLanes=v,s){case 0:case 1:throw Error(n(345));case 2:ql(o,Xa,ps);break;case 3:if(Qs(o,v),(v&130023424)===v&&(s=$h+500-fn(),10<s)){if(da(o,0)!==0)break;if(x=o.suspendedLanes,(x&v)!==v){Ba(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Su(ql.bind(null,o,Xa,ps),s);break}ql(o,Xa,ps);break;case 4:if(Qs(o,v),(v&4194240)===v)break;for(s=o.eventTimes,x=-1;0<v;){var W=31-xr(v);C=1<<W,W=s[W],W>x&&(x=W),v&=~C}if(v=x,v=fn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*mb(v/1960))-v,10<v){o.timeoutHandle=Su(ql.bind(null,o,Xa,ps),v);break}ql(o,Xa,ps);break;case 5:ql(o,Xa,ps);break;default:throw Error(n(329))}}}return Ja(o,fn()),o.callbackNode===f?Wg.bind(null,o):null}function Gh(o,s){var f=Ou;return o.current.memoizedState.isDehydrated&&(Ul(o,s).flags|=256),o=Xd(o,s),o!==2&&(s=Xa,Xa=f,s!==null&&Kh(s)),o}function Kh(o){Xa===null?Xa=o:Xa.push.apply(Xa,o)}function pb(o){for(var s=o;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var x=f[v],C=x.getSnapshot;x=x.value;try{if(!Sr(C(),x))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qs(o,s){for(s&=~Hh,s&=~Hd,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var f=31-xr(s),v=1<<f;o[f]=-1,s&=~v}}function Hg(o){if((gn&6)!==0)throw Error(n(327));qc();var s=da(o,0);if((s&1)===0)return Ja(o,fn()),null;var f=Xd(o,s);if(o.tag!==0&&f===2){var v=Ki(o);v!==0&&(s=v,f=Gh(o,v))}if(f===1)throw f=Du,Ul(o,0),Qs(o,s),Ja(o,fn()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,ql(o,Xa,ps),Ja(o,fn()),null}function Xh(o,s){var f=gn;gn|=1;try{return o(s)}finally{gn=f,gn===0&&(Uc=fn()+500,Dl&&L())}}function zl(o){Xs!==null&&Xs.tag===0&&(gn&6)===0&&qc();var s=gn;gn|=1;var f=jo.transition,v=dn;try{if(jo.transition=null,dn=1,o)return o()}finally{dn=v,jo.transition=f,gn=s,(gn&6)===0&&L()}}function Jh(){bo=zc.current,kn(zc)}function Ul(o,s){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,Cd(f)),jr!==null)for(f=jr.return;f!==null;){var v=f;switch(Ae(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Cc();break;case 3:Do(),kn(ba),kn(Ur),Pu();break;case 5:Cu(v);break;case 4:Do();break;case 13:kn(Un);break;case 19:kn(Un);break;case 10:$n(v.type._context);break;case 22:case 23:Jh()}f=f.return}if(Qr=o,jr=o=Zs(o.current,null),ca=bo=s,Wr=0,Du=null,Hh=Hd=Bl=0,Xa=Ou=null,Tn!==null){for(s=0;s<Tn.length;s++)if(f=Tn[s],v=f.interleaved,v!==null){f.interleaved=null;var x=v.next,C=f.pending;if(C!==null){var W=C.next;C.next=x,v.next=W}f.pending=v}Tn=null}return o}function $g(o,s){do{var f=jr;try{if(mn(),Lc.current=Id,$s){for(var v=Vn.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}$s=!1}if(Oo=0,dr=vr=Vn=null,li=!1,Vs=0,Wh.current=null,f===null||f.return===null){Wr=1,Du=s,jr=null;break}e:{var C=o,W=f.return,ue=f,ve=s;if(s=ca,ue.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Te=ve,He=ue,Ye=He.tag;if((He.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var We=He.alternate;We?(He.updateQueue=We.updateQueue,He.memoizedState=We.memoizedState,He.lanes=We.lanes):(He.updateQueue=null,He.memoizedState=null)}var at=gg(W);if(at!==null){at.flags&=-257,vg(at,W,ue,C,s),at.mode&1&&pg(C,Te,s),s=at,ve=Te;var pt=s.updateQueue;if(pt===null){var bt=new Set;bt.add(ve),s.updateQueue=bt}else pt.add(ve);break e}else{if((s&1)===0){pg(C,Te,s),Qh();break e}ve=Error(n(426))}}else if(je&&ue.mode&1){var Ar=gg(W);if(Ar!==null){(Ar.flags&65536)===0&&(Ar.flags|=256),vg(Ar,W,ue,C,s),Je(jc(ve,ue));break e}}C=ve=jc(ve,ue),Wr!==4&&(Wr=2),Ou===null?Ou=[C]:Ou.push(C),C=W;do{switch(C.tag){case 3:C.flags|=65536,s&=-s,C.lanes|=s;var Ne=hg(C,ve,s);Rn(C,Ne);break e;case 1:ue=ve;var we=C.type,Le=C.stateNode;if((C.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(Ks===null||!Ks.has(Le)))){C.flags|=65536,s&=-s,C.lanes|=s;var Ge=mg(C,ue,s);Rn(C,Ge);break e}}C=C.return}while(C!==null)}Gg(f)}catch(Et){s=Et,jr===f&&f!==null&&(jr=f=f.return);continue}break}while(!0)}function Vg(){var o=Wd.current;return Wd.current=Id,o===null?Id:o}function Qh(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),Qr===null||(Bl&268435455)===0&&(Hd&268435455)===0||Qs(Qr,ca)}function Xd(o,s){var f=gn;gn|=2;var v=Vg();(Qr!==o||ca!==s)&&(ps=null,Ul(o,s));do try{gb();break}catch(x){$g(o,x)}while(!0);if(mn(),gn=f,Wd.current=v,jr!==null)throw Error(n(261));return Qr=null,ca=0,Wr}function gb(){for(;jr!==null;)Yg(jr)}function vb(){for(;jr!==null&&!Br();)Yg(jr)}function Yg(o){var s=Jg(o.alternate,o,bo);o.memoizedProps=o.pendingProps,s===null?Gg(o):jr=s,Wh.current=null}function Gg(o){var s=o;do{var f=s.alternate;if(o=s.return,(s.flags&32768)===0){if(f=cb(f,s,bo),f!==null){jr=f;return}}else{if(f=ub(f,s),f!==null){f.flags&=32767,jr=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Wr=6,jr=null;return}}if(s=s.sibling,s!==null){jr=s;return}jr=s=o}while(s!==null);Wr===0&&(Wr=5)}function ql(o,s,f){var v=dn,x=jo.transition;try{jo.transition=null,dn=1,yb(o,s,f,v)}finally{jo.transition=x,dn=v}return null}function yb(o,s,f,v){do qc();while(Xs!==null);if((gn&6)!==0)throw Error(n(327));f=o.finishedWork;var x=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var C=f.lanes|f.childLanes;if(So(o,C),o===Qr&&(jr=Qr=null,ca=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Vd||(Vd=!0,Qg(Qt,function(){return qc(),null})),C=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||C){C=jo.transition,jo.transition=null;var W=dn;dn=1;var ue=gn;gn|=4,Wh.current=null,fb(o,f),jg(f,o),_d(cs),Ls=!!Rl,cs=Rl=null,o.current=f,hb(f),Vi(),gn=ue,dn=W,jo.transition=C}else o.current=f;if(Vd&&(Vd=!1,Xs=o,Yd=x),C=o.pendingLanes,C===0&&(Ks=null),Yo(f.stateNode),Ja(o,fn()),s!==null)for(v=o.onRecoverableError,f=0;f<s.length;f++)x=s[f],v(x.value,{componentStack:x.stack,digest:x.digest});if($d)throw $d=!1,o=Vh,Vh=null,o;return(Yd&1)!==0&&o.tag!==0&&qc(),C=o.pendingLanes,(C&1)!==0?o===Yh?Iu++:(Iu=0,Yh=o):Iu=0,L(),null}function qc(){if(Xs!==null){var o=Go(Yd),s=jo.transition,f=dn;try{if(jo.transition=null,dn=16>o?16:o,Xs===null)var v=!1;else{if(o=Xs,Xs=null,Yd=0,(gn&6)!==0)throw Error(n(331));var x=gn;for(gn|=4,ut=o.current;ut!==null;){var C=ut,W=C.child;if((ut.flags&16)!==0){var ue=C.deletions;if(ue!==null){for(var ve=0;ve<ue.length;ve++){var Te=ue[ve];for(ut=Te;ut!==null;){var He=ut;switch(He.tag){case 0:case 11:case 15:Fu(8,He,C)}var Ye=He.child;if(Ye!==null)Ye.return=He,ut=Ye;else for(;ut!==null;){He=ut;var We=He.sibling,at=He.return;if(Rg(He),He===Te){ut=null;break}if(We!==null){We.return=at,ut=We;break}ut=at}}}var pt=C.alternate;if(pt!==null){var bt=pt.child;if(bt!==null){pt.child=null;do{var Ar=bt.sibling;bt.sibling=null,bt=Ar}while(bt!==null)}}ut=C}}if((C.subtreeFlags&2064)!==0&&W!==null)W.return=C,ut=W;else e:for(;ut!==null;){if(C=ut,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Fu(9,C,C.return)}var Ne=C.sibling;if(Ne!==null){Ne.return=C.return,ut=Ne;break e}ut=C.return}}var we=o.current;for(ut=we;ut!==null;){W=ut;var Le=W.child;if((W.subtreeFlags&2064)!==0&&Le!==null)Le.return=W,ut=Le;else e:for(W=we;ut!==null;){if(ue=ut,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:qd(9,ue)}}catch(Et){yr(ue,ue.return,Et)}if(ue===W){ut=null;break e}var Ge=ue.sibling;if(Ge!==null){Ge.return=ue.return,ut=Ge;break e}ut=ue.return}}if(gn=x,L(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ra,o)}catch{}v=!0}return v}finally{dn=f,jo.transition=s}}return!1}function Kg(o,s,f){s=jc(f,s),s=hg(o,s,1),o=cr(o,s,1),s=Ba(),o!==null&&(Xi(o,1,s),Ja(o,s))}function yr(o,s,f){if(o.tag===3)Kg(o,o,f);else for(;s!==null;){if(s.tag===3){Kg(s,o,f);break}else if(s.tag===1){var v=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ks===null||!Ks.has(v))){o=jc(f,o),o=mg(s,o,1),s=cr(s,o,1),o=Ba(),s!==null&&(Xi(s,1,o),Ja(s,o));break}}s=s.return}}function bb(o,s,f){var v=o.pingCache;v!==null&&v.delete(s),s=Ba(),o.pingedLanes|=o.suspendedLanes&f,Qr===o&&(ca&f)===f&&(Wr===4||Wr===3&&(ca&130023424)===ca&&500>fn()-$h?Ul(o,0):Hh|=f),Ja(o,s)}function Xg(o,s){s===0&&((o.mode&1)===0?s=1:(s=Wa,Wa<<=1,(Wa&130023424)===0&&(Wa=4194304)));var f=Ba();o=Mn(o,s),o!==null&&(Xi(o,s,f),Ja(o,f))}function wb(o){var s=o.memoizedState,f=0;s!==null&&(f=s.retryLane),Xg(o,f)}function xb(o,s){var f=0;switch(o.tag){case 13:var v=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(s),Xg(o,f)}var Jg;Jg=function(o,s,f){if(o!==null)if(o.memoizedProps!==s.pendingProps||ba.current)Ka=!0;else{if((o.lanes&f)===0&&(s.flags&128)===0)return Ka=!1,lb(o,s,f);Ka=(o.flags&131072)!==0}else Ka=!1,je&&(s.flags&1048576)!==0&&_e(s,J,s.index);switch(s.lanes=0,s.tag){case 2:var v=s.type;zd(o,s),o=s.pendingProps;var x=Ws(s,Ur.current);er(s,f),x=Ol(null,s,v,o,x,f);var C=Io();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wa(v)?(C=!0,fs(s)):C=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,qr(s),x.updater=jd,s.stateNode=x,x._reactInternals=s,Lh(s,v,o,f),s=Rh(null,s,v,!0,C,f)):(s.tag=0,je&&C&&Oe(s),ja(null,s,x,f),s=s.child),s;case 16:v=s.elementType;e:{switch(zd(o,s),o=s.pendingProps,x=v._init,v=x(v._payload),s.type=v,x=s.tag=_b(v),o=ui(v,o),x){case 0:s=Mh(null,s,v,o,f);break e;case 1:s=_g(null,s,v,o,f);break e;case 11:s=yg(null,s,v,o,f);break e;case 14:s=bg(null,s,v,ui(v.type,o),f);break e}throw Error(n(306,v,""))}return s;case 0:return v=s.type,x=s.pendingProps,x=s.elementType===v?x:ui(v,x),Mh(o,s,v,x,f);case 1:return v=s.type,x=s.pendingProps,x=s.elementType===v?x:ui(v,x),_g(o,s,v,x,f);case 3:e:{if(Sg(s),o===null)throw Error(n(387));v=s.pendingProps,C=s.memoizedState,x=C.element,xa(o,s),Jr(s,v,null,f);var W=s.memoizedState;if(v=W.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},s.updateQueue.baseState=C,s.memoizedState=C,s.flags&256){x=jc(Error(n(423)),s),s=kg(o,s,v,f,x);break e}else if(v!==x){x=jc(Error(n(424)),s),s=kg(o,s,v,f,x);break e}else for(De=sa(s.stateNode.containerInfo.firstChild),Fe=s,je=!0,Be=null,f=Gn(s,null,v,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(st(),v===x){s=ms(o,s,f);break e}ja(o,s,v,f)}s=s.child}return s;case 5:return Md(s),o===null&&ft(s),v=s.type,x=s.pendingProps,C=o!==null?o.memoizedProps:null,W=x.children,_u(v,x)?W=null:C!==null&&_u(v,C)&&(s.flags|=32),Eg(o,s),ja(o,s,W,f),s.child;case 6:return o===null&&ft(s),null;case 13:return Ng(o,s,f);case 4:return Hs(s,s.stateNode.containerInfo),v=s.pendingProps,o===null?s.child=pr(s,null,v,f):ja(o,s,v,f),s.child;case 11:return v=s.type,x=s.pendingProps,x=s.elementType===v?x:ui(v,x),yg(o,s,v,x,f);case 7:return ja(o,s,s.pendingProps,f),s.child;case 8:return ja(o,s,s.pendingProps.children,f),s.child;case 12:return ja(o,s,s.pendingProps.children,f),s.child;case 10:e:{if(v=s.type._context,x=s.pendingProps,C=s.memoizedProps,W=x.value,Nn(kr,v._currentValue),v._currentValue=W,C!==null)if(Sr(C.value,W)){if(C.children===x.children&&!ba.current){s=ms(o,s,f);break e}}else for(C=s.child,C!==null&&(C.return=s);C!==null;){var ue=C.dependencies;if(ue!==null){W=C.child;for(var ve=ue.firstContext;ve!==null;){if(ve.context===v){if(C.tag===1){ve=lr(-1,f&-f),ve.tag=2;var Te=C.updateQueue;if(Te!==null){Te=Te.shared;var He=Te.pending;He===null?ve.next=ve:(ve.next=He.next,He.next=ve),Te.pending=ve}}C.lanes|=f,ve=C.alternate,ve!==null&&(ve.lanes|=f),pn(C.return,f,s),ue.lanes|=f;break}ve=ve.next}}else if(C.tag===10)W=C.type===s.type?null:C.child;else if(C.tag===18){if(W=C.return,W===null)throw Error(n(341));W.lanes|=f,ue=W.alternate,ue!==null&&(ue.lanes|=f),pn(W,f,s),W=C.sibling}else W=C.child;if(W!==null)W.return=C;else for(W=C;W!==null;){if(W===s){W=null;break}if(C=W.sibling,C!==null){C.return=W.return,W=C;break}W=W.return}C=W}ja(o,s,x.children,f),s=s.child}return s;case 9:return x=s.type,v=s.pendingProps.children,er(s,f),x=tr(x),v=v(x),s.flags|=1,ja(o,s,v,f),s.child;case 14:return v=s.type,x=ui(v,s.pendingProps),x=ui(v.type,x),bg(o,s,v,x,f);case 15:return wg(o,s,s.type,s.pendingProps,f);case 17:return v=s.type,x=s.pendingProps,x=s.elementType===v?x:ui(v,x),zd(o,s),s.tag=1,wa(v)?(o=!0,fs(s)):o=!1,er(s,f),dg(s,v,x),Lh(s,v,x,f),Rh(null,s,v,!0,o,f);case 19:return Cg(o,s,f);case 22:return xg(o,s,f)}throw Error(n(156,s.tag))};function Qg(o,s){return Ma(o,s)}function Eb(o,s,f,v){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(o,s,f,v){return new Eb(o,s,f,v)}function Zh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _b(o){if(typeof o=="function")return Zh(o)?1:0;if(o!=null){if(o=o.$$typeof,o===M)return 11;if(o===$)return 14}return 2}function Zs(o,s){var f=o.alternate;return f===null?(f=Bo(o.tag,s,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=s,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,s=o.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Jd(o,s,f,v,x,C){var W=2;if(v=o,typeof o=="function")Zh(o)&&(W=1);else if(typeof o=="string")W=5;else e:switch(o){case te:return Wl(f.children,x,C,s);case X:W=8,x|=8;break;case T:return o=Bo(12,f,s,x|2),o.elementType=T,o.lanes=C,o;case j:return o=Bo(13,f,s,x),o.elementType=j,o.lanes=C,o;case D:return o=Bo(19,f,s,x),o.elementType=D,o.lanes=C,o;case ce:return Qd(f,x,C,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Y:W=10;break e;case F:W=9;break e;case M:W=11;break e;case $:W=14;break e;case ne:W=16,v=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return s=Bo(W,f,s,x),s.elementType=o,s.type=v,s.lanes=C,s}function Wl(o,s,f,v){return o=Bo(7,o,v,s),o.lanes=f,o}function Qd(o,s,f,v){return o=Bo(22,o,v,s),o.elementType=ce,o.lanes=f,o.stateNode={isHidden:!1},o}function em(o,s,f){return o=Bo(6,o,null,s),o.lanes=f,o}function tm(o,s,f){return s=Bo(4,o.children!==null?o.children:[],o.key,s),s.lanes=f,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function Sb(o,s,f,v,x){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=v,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function nm(o,s,f,v,x,C,W,ue,ve){return o=new Sb(o,s,f,ue,ve),s===1?(s=1,C===!0&&(s|=8)):s=0,C=Bo(3,null,null,s),o.current=C,C.stateNode=o,C.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},qr(C),o}function kb(o,s,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:v==null?null:""+v,children:o,containerInfo:s,implementation:f}}function Zg(o){if(!o)return Li;o=o._reactInternals;e:{if(Kt(o)!==o||o.tag!==1)throw Error(n(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wa(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(wa(f))return Au(o,f,s)}return s}function e0(o,s,f,v,x,C,W,ue,ve){return o=nm(f,v,!0,o,x,C,W,ue,ve),o.context=Zg(null),f=o.current,v=Ba(),x=Js(f),C=lr(v,x),C.callback=s??null,cr(f,C,x),o.current.lanes=x,Xi(o,x,v),Ja(o,v),o}function Zd(o,s,f,v){var x=s.current,C=Ba(),W=Js(x);return f=Zg(f),s.context===null?s.context=f:s.pendingContext=f,s=lr(C,W),s.payload={element:o},v=v===void 0?null:v,v!==null&&(s.callback=v),o=cr(x,s,W),o!==null&&(hi(o,x,W,C),Xr(o,x,W)),W}function ef(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function t0(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<s?f:s}}function rm(o,s){t0(o,s),(o=o.alternate)&&t0(o,s)}function Nb(){return null}var n0=typeof reportError=="function"?reportError:function(o){console.error(o)};function am(o){this._internalRoot=o}tf.prototype.render=am.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(n(409));Zd(o,s,null,null)},tf.prototype.unmount=am.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;zl(function(){Zd(null,o,null,null)}),s[Gr]=null}};function tf(o){this._internalRoot=o}tf.prototype.unstable_scheduleHydration=function(o){if(o){var s=hc();o={blockedOn:null,target:o,priority:s};for(var f=0;f<No.length&&s!==0&&s<No[f].priority;f++);No.splice(f,0,o),f===0&&pc(o)}};function om(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function nf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function r0(){}function Ab(o,s,f,v,x){if(x){if(typeof v=="function"){var C=v;v=function(){var Te=ef(W);C.call(Te)}}var W=e0(s,v,o,0,null,!1,!1,"",r0);return o._reactRootContainer=W,o[Gr]=W.current,ss(o.nodeType===8?o.parentNode:o),zl(),W}for(;x=o.lastChild;)o.removeChild(x);if(typeof v=="function"){var ue=v;v=function(){var Te=ef(ve);ue.call(Te)}}var ve=nm(o,0,!1,null,null,!1,!1,"",r0);return o._reactRootContainer=ve,o[Gr]=ve.current,ss(o.nodeType===8?o.parentNode:o),zl(function(){Zd(s,ve,f,v)}),ve}function rf(o,s,f,v,x){var C=f._reactRootContainer;if(C){var W=C;if(typeof x=="function"){var ue=x;x=function(){var ve=ef(W);ue.call(ve)}}Zd(s,W,o,x)}else W=Ab(f,s,o,x,v);return ef(W)}Ns=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var f=so(s.pendingLanes);f!==0&&(ks(s,f|1),Ja(s,fn()),(gn&6)===0&&(Uc=fn()+500,L()))}break;case 13:zl(function(){var v=Mn(o,1);if(v!==null){var x=Ba();hi(v,o,1,x)}}),rm(o,1)}},yl=function(o){if(o.tag===13){var s=Mn(o,134217728);if(s!==null){var f=Ba();hi(s,o,134217728,f)}rm(o,134217728)}},fc=function(o){if(o.tag===13){var s=Js(o),f=Mn(o,s);if(f!==null){var v=Ba();hi(f,o,s,v)}rm(o,s)}},hc=function(){return dn},As=function(o,s){var f=dn;try{return dn=o,s()}finally{dn=f}},zn=function(o,s,f){switch(s){case"input":if(It(o,f),s=f.name,f.type==="radio"&&s!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var v=f[s];if(v!==o&&v.form===o.form){var x=Fl(v);if(!x)throw Error(n(90));Ze(v),It(v,x)}}}break;case"textarea":rn(o,f);break;case"select":s=f.value,s!=null&&Qe(o,!!f.multiple,s,!1)}},wr=Xh,Ua=zl;var Cb={usingClientEntryPoint:!1,Events:[qs,us,Fl,en,Ta,Xh]},ju={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lb={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Jt(o),o===null?null:o.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||Nb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Ra=af.inject(Lb),cn=af}catch{}}return Qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cb,Qa.createPortal=function(o,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(s))throw Error(n(200));return kb(o,s,null,f)},Qa.createRoot=function(o,s){if(!om(o))throw Error(n(299));var f=!1,v="",x=n0;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=nm(o,1,!1,null,null,f,!1,v,x),o[Gr]=s.current,ss(o.nodeType===8?o.parentNode:o),new am(s)},Qa.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Jt(s),o=o===null?null:o.stateNode,o},Qa.flushSync=function(o){return zl(o)},Qa.hydrate=function(o,s,f){if(!nf(s))throw Error(n(200));return rf(null,o,s,!0,f)},Qa.hydrateRoot=function(o,s,f){if(!om(o))throw Error(n(405));var v=f!=null&&f.hydratedSources||null,x=!1,C="",W=n0;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(C=f.identifierPrefix),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),s=e0(s,null,o,1,f??null,x,!1,C,W),o[Gr]=s.current,ss(o),v)for(o=0;o<v.length;o++)f=v[o],x=f._getVersion,x=x(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,x]:s.mutableSourceEagerHydrationData.push(f,x);return new tf(s)},Qa.render=function(o,s,f){if(!nf(s))throw Error(n(200));return rf(null,o,s,!1,f)},Qa.unmountComponentAtNode=function(o){if(!nf(o))throw Error(n(40));return o._reactRootContainer?(zl(function(){rf(null,null,o,!1,function(){o._reactRootContainer=null,o[Gr]=null})}),!0):!1},Qa.unstable_batchedUpdates=Xh,Qa.unstable_renderSubtreeIntoContainer=function(o,s,f,v){if(!nf(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return rf(o,s,f,!1,v)},Qa.version="18.3.1-next-f1338f8080-20240426",Qa}var c0;function S5(){if(c0)return sm.exports;c0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sm.exports=Fb(),sm.exports}var u0;function Db(){if(u0)return of;u0=1;var t=S5();return of.createRoot=t.createRoot,of.hydrateRoot=t.hydrateRoot,of}var Ob=Db();const Ib=E5(Ob);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k5=t=>{throw TypeError(t)},jb=(t,e,n)=>e.has(t)||k5("Cannot "+n),um=(t,e,n)=>(jb(t,e,"read from private field"),n?n.call(t):e.get(t)),Bb=(t,e,n)=>e.has(t)?k5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),d0="popstate";function zb(t={}){function e(r,a){let{pathname:i,search:l,hash:c}=r.location;return id("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:dl(a)}return qb(e,n,null,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ub(){return Math.random().toString(36).substring(2,10)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function id(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:n,key:e&&e.key||r||Ub()}}function dl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qb(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,c="POP",u=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function y(){c="POP";let S=h(),A=S==null?null:S-d;d=S,u&&u({action:c,location:_.location,delta:A})}function w(S,A){c="PUSH";let O=id(_.location,S,A);d=h()+1;let R=f0(O,d),I=_.createHref(O);try{l.pushState(R,"",I)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(I)}i&&u&&u({action:c,location:_.location,delta:1})}function g(S,A){c="REPLACE";let O=id(_.location,S,A);d=h();let R=f0(O,d),I=_.createHref(O);l.replaceState(R,"",I),i&&u&&u({action:c,location:_.location,delta:0})}function N(S){return N5(S)}let _={get action(){return c},get location(){return t(a,l)},listen(S){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(d0,y),u=S,()=>{a.removeEventListener(d0,y),u=null}},createHref(S){return e(a,S)},createURL:N,encodeLocation(S){let A=N(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:g,go(S){return l.go(S)}};return _}function N5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:dl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Ju,h0=class{constructor(t){if(Bb(this,Ju,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(um(this,Ju).has(t))return um(this,Ju).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){um(this,Ju).set(t,e)}};Ju=new WeakMap;var Wb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hb(t){return Wb.has(t)}var $b=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Vb(t){return $b.has(t)}function Yb(t){return t.index===!0}function sd(t,e,n=[],r={},a=!1){return t.map((i,l)=>{let c=[...n,String(l)],u=typeof i.id=="string"?i.id:c.join("-");if(sn(i.index!==!0||!i.children,"Cannot specify children on an index route"),sn(a||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),Yb(i)){let d={...i,...e(i),id:u};return r[u]=d,d}else{let d={...i,...e(i),id:u,children:void 0};return r[u]=d,i.children&&(d.children=sd(i.children,e,c,r,a)),d}})}function ol(t,e,n="/"){return Mf(t,e,n,!1)}function Mf(t,e,n,r){let a=typeof e=="string"?ml(e):e,i=Wo(a.pathname||"/",n);if(i==null)return null;let l=A5(t);Kb(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let d=iw(i);c=aw(l[u],d,r)}return c}function Gb(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function A5(t,e=[],n=[],r=""){let a=(i,l,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};u.relativePath.startsWith("/")&&(sn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=qi([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(sn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),A5(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:nw(d,i.index),routesMeta:h})};return t.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))a(i,l);else for(let c of C5(i.path))a(i,l,c)}),e}function C5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=C5(r.join("/")),c=[];return c.push(...l.map(u=>u===""?i:[i,u].join("/"))),a&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function Kb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Xb=/^:[\w-]+$/,Jb=3,Qb=2,Zb=1,ew=10,tw=-2,m0=t=>t==="*";function nw(t,e){let n=t.split("/"),r=n.length;return n.some(m0)&&(r+=tw),e&&(r+=Qb),n.filter(a=>!m0(a)).reduce((a,i)=>a+(Xb.test(i)?Jb:i===""?Zb:ew),r)}function rw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function aw(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",y=$f({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),w=u.route;if(!y&&d&&n&&!r[r.length-1].route.index&&(y=$f({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:qi([i,y.pathname]),pathnameBase:uw(qi([i,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(i=qi([i,y.pathnameBase]))}return l}function $f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ow(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:y},w)=>{if(h==="*"){let N=c[w]||"";l=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const g=c[w];return y&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:t}}function ow(t,e=!1,n=!0){Mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function iw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sw({basename:t,pathname:e}){return e==="/"?t:qi([t,e])}function lw(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?ml(t):t;return{pathname:n?n.startsWith("/")?n:cw(n,e):e,search:dw(r),hash:fw(a)}}function cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kp(t){let e=L5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Np(t,e,n,r=!1){let a;typeof t=="string"?a=ml(t):(a={...t},sn(!a.pathname||!a.pathname.includes("?"),dm("?","pathname","search",a)),sn(!a.pathname||!a.pathname.includes("#"),dm("#","pathname","hash",a)),sn(!a.search||!a.search.includes("#"),dm("#","search","hash",a)));let i=t===""||a.pathname==="",l=i?"/":a.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;a.pathname=w.join("/")}c=y>=0?e[y]:"/"}let u=lw(a,c),d=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var qi=t=>t.join("/").replace(/\/\/+/g,"/"),uw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Vf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ld(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var P5=["POST","PUT","PATCH","DELETE"],hw=new Set(P5),mw=["GET",...P5],pw=new Set(mw),gw=new Set([301,302,303,307,308]),vw=new Set([307,308]),fm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ap=t=>bw.test(t),ww=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),T5="remix-router-transitions",M5=Symbol("ResetLoaderData");function xw(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";sn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||ww,i={},l=sd(t.routes,a,void 0,i),c,u=t.basename||"/",d=t.dataStrategy||Nw,h={unstable_middleware:!1,...t.future},y=null,w=new Set,g=null,N=null,_=null,S=t.hydrationData!=null,A=ol(l,t.history.location,u),O=!1,R=null,I;if(A==null&&!t.patchRoutesOnNavigation){let he=Uo(404,{pathname:t.history.location.pathname}),{matches:pe,route:Pe}=N0(l);I=!0,A=pe,R={[Pe.id]:he}}else if(A&&!t.hydrationData&&en(A,l,t.history.location.pathname).active&&(A=null),A)if(A.some(he=>he.route.lazy))I=!1;else if(!A.some(he=>he.route.loader))I=!0;else{let he=t.hydrationData?t.hydrationData.loaderData:null,pe=t.hydrationData?t.hydrationData.errors:null;if(pe){let Pe=A.findIndex(Ue=>pe[Ue.route.id]!==void 0);I=A.slice(0,Pe+1).every(Ue=>!np(Ue.route,he,pe))}else I=A.every(Pe=>!np(Pe.route,he,pe))}else{I=!1,A=[];let he=en(null,l,t.history.location.pathname);he.active&&he.matches&&(O=!0,A=he.matches)}let ee,U={historyAction:t.history.action,location:t.history.location,matches:A,initialized:I,navigation:fm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},te="POP",X=!1,T,Y=!1,F=new Map,M=null,j=!1,D=!1,$=new Set,ne=new Map,ce=0,re=-1,de=new Map,ye=new Set,G=new Map,P=new Map,K=new Set,Z=new Map,se,fe=null;function xe(){if(y=t.history.listen(({action:he,location:pe,delta:Pe})=>{if(se){se(),se=void 0;return}Mr(Z.size===0||Pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ue=Gt({currentLocation:U.location,nextLocation:pe,historyAction:he});if(Ue&&Pe!=null){let Ve=new Promise(nt=>{se=nt});t.history.go(Pe*-1),St(Ue,{state:"blocked",location:pe,proceed(){St(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Ve.then(()=>t.history.go(Pe))},reset(){let nt=new Map(U.blockers);nt.set(Ue,Bu),Me({blockers:nt})}});return}return Re(he,pe)}),n){Iw(e,F);let he=()=>jw(e,F);e.addEventListener("pagehide",he),M=()=>e.removeEventListener("pagehide",he)}return U.initialized||Re("POP",U.location,{initialHydration:!0}),ee}function Ce(){y&&y(),M&&M(),w.clear(),T&&T.abort(),U.fetchers.forEach((he,pe)=>yt(pe)),U.blockers.forEach((he,pe)=>un(pe))}function Se(he){return w.add(he),()=>w.delete(he)}function Me(he,pe={}){he.matches&&(he.matches=he.matches.map(Ve=>{let nt=i[Ve.route.id],Ke=Ve.route;return Ke.element!==nt.element||Ke.errorElement!==nt.errorElement||Ke.hydrateFallbackElement!==nt.hydrateFallbackElement?{...Ve,route:nt}:Ve})),U={...U,...he};let Pe=[],Ue=[];U.fetchers.forEach((Ve,nt)=>{Ve.state==="idle"&&(K.has(nt)?Pe.push(nt):Ue.push(nt))}),K.forEach(Ve=>{!U.fetchers.has(Ve)&&!ne.has(Ve)&&Pe.push(Ve)}),[...w].forEach(Ve=>Ve(U,{deletedFetchers:Pe,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),Pe.forEach(Ve=>yt(Ve)),Ue.forEach(Ve=>U.fetchers.delete(Ve))}function qe(he,pe,{flushSync:Pe}={}){let Ue=U.actionData!=null&&U.navigation.formMethod!=null&&eo(U.navigation.formMethod)&&U.navigation.state==="loading"&&he.state?._isRedirect!==!0,Ve;pe.actionData?Object.keys(pe.actionData).length>0?Ve=pe.actionData:Ve=null:Ue?Ve=U.actionData:Ve=null;let nt=pe.loaderData?S0(U.loaderData,pe.loaderData,pe.matches||[],pe.errors):U.loaderData,Ke=U.blockers;Ke.size>0&&(Ke=new Map(Ke),Ke.forEach((ct,ot)=>Ke.set(ot,Bu)));let Xe=j?!1:Rt(he,pe.matches||U.matches),tt=X===!0||U.navigation.formMethod!=null&&eo(U.navigation.formMethod)&&he.state?._isRedirect!==!0;c&&(l=c,c=void 0),j||te==="POP"||(te==="PUSH"?t.history.push(he,he.state):te==="REPLACE"&&t.history.replace(he,he.state));let xt;if(te==="POP"){let ct=F.get(U.location.pathname);ct&&ct.has(he.pathname)?xt={currentLocation:U.location,nextLocation:he}:F.has(he.pathname)&&(xt={currentLocation:he,nextLocation:U.location})}else if(Y){let ct=F.get(U.location.pathname);ct?ct.add(he.pathname):(ct=new Set([he.pathname]),F.set(U.location.pathname,ct)),xt={currentLocation:U.location,nextLocation:he}}Me({...pe,actionData:Ve,loaderData:nt,historyAction:te,location:he,initialized:!0,navigation:fm,revalidation:"idle",restoreScrollPosition:Xe,preventScrollReset:tt,blockers:Ke},{viewTransitionOpts:xt,flushSync:Pe===!0}),te="POP",X=!1,Y=!1,j=!1,D=!1,fe?.resolve(),fe=null}async function Ze(he,pe){if(typeof he=="number"){t.history.go(he);return}let Pe=tp(U.location,U.matches,u,he,pe?.fromRouteId,pe?.relative),{path:Ue,submission:Ve,error:nt}=p0(!1,Pe,pe),Ke=U.location,Xe=id(U.location,Ue,pe&&pe.state);Xe={...Xe,...t.history.encodeLocation(Xe)};let tt=pe&&pe.replace!=null?pe.replace:void 0,xt="PUSH";tt===!0?xt="REPLACE":tt===!1||Ve!=null&&eo(Ve.formMethod)&&Ve.formAction===U.location.pathname+U.location.search&&(xt="REPLACE");let ct=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,ot=(pe&&pe.flushSync)===!0,qt=Gt({currentLocation:Ke,nextLocation:Xe,historyAction:xt});if(qt){St(qt,{state:"blocked",location:Xe,proceed(){St(qt,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),Ze(he,pe)},reset(){let Kt=new Map(U.blockers);Kt.set(qt,Bu),Me({blockers:Kt})}});return}await Re(xt,Xe,{submission:Ve,pendingError:nt,preventScrollReset:ct,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:ot})}function et(){fe||(fe=Bw()),Dt(),Me({revalidation:"loading"});let he=fe.promise;return U.navigation.state==="submitting"?he:U.navigation.state==="idle"?(Re(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),he):(Re(te||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:Y===!0}),he)}async function Re(he,pe,Pe){T&&T.abort(),T=null,te=he,j=(Pe&&Pe.startUninterruptedRevalidation)===!0,ln(U.location,U.matches),X=(Pe&&Pe.preventScrollReset)===!0,Y=(Pe&&Pe.enableViewTransition)===!0;let Ue=c||l,Ve=Pe&&Pe.overrideNavigation,nt=Pe?.initialHydration&&U.matches&&U.matches.length>0&&!O?U.matches:ol(Ue,pe,u),Ke=(Pe&&Pe.flushSync)===!0;if(nt&&U.initialized&&!D&&Mw(U.location,pe)&&!(Pe&&Pe.submission&&eo(Pe.submission.formMethod))){qe(pe,{matches:nt},{flushSync:Ke});return}let Xe=en(nt,Ue,pe.pathname);if(Xe.active&&Xe.matches&&(nt=Xe.matches),!nt){let{error:Sn,notFoundMatches:vn,route:Jt}=Mt(pe.pathname);qe(pe,{matches:vn,loaderData:{},errors:{[Jt.id]:Sn}},{flushSync:Ke});return}T=new AbortController;let tt=Kc(t.history,pe,T.signal,Pe&&Pe.submission),xt=new h0(t.unstable_getContext?await t.unstable_getContext():void 0),ct;if(Pe&&Pe.pendingError)ct=[Xl(nt).route.id,{type:"error",error:Pe.pendingError}];else if(Pe&&Pe.submission&&eo(Pe.submission.formMethod)){let Sn=await le(tt,pe,Pe.submission,nt,xt,Xe.active,Pe&&Pe.initialHydration===!0,{replace:Pe.replace,flushSync:Ke});if(Sn.shortCircuited)return;if(Sn.pendingActionResult){let[vn,Jt]=Sn.pendingActionResult;if(xo(Jt)&&ld(Jt.error)&&Jt.error.status===404){T=null,qe(pe,{matches:Sn.matches,loaderData:{},errors:{[vn]:Jt.error}});return}}nt=Sn.matches||nt,ct=Sn.pendingActionResult,Ve=hm(pe,Pe.submission),Ke=!1,Xe.active=!1,tt=Kc(t.history,tt.url,tt.signal)}let{shortCircuited:ot,matches:qt,loaderData:Kt,errors:_n}=await Xt(tt,pe,nt,xt,Xe.active,Ve,Pe&&Pe.submission,Pe&&Pe.fetcherSubmission,Pe&&Pe.replace,Pe&&Pe.initialHydration===!0,Ke,ct);ot||(T=null,qe(pe,{matches:qt||nt,...k0(ct),loaderData:Kt,errors:_n}))}async function le(he,pe,Pe,Ue,Ve,nt,Ke,Xe={}){Dt();let tt=Dw(pe,Pe);if(Me({navigation:tt},{flushSync:Xe.flushSync===!0}),nt){let ot=await Ta(Ue,pe.pathname,he.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let qt=Xl(ot.partialMatches).route.id;return{matches:ot.partialMatches,pendingActionResult:[qt,{type:"error",error:ot.error}]}}else if(ot.matches)Ue=ot.matches;else{let{notFoundMatches:qt,error:Kt,route:_n}=Mt(pe.pathname);return{matches:qt,pendingActionResult:[_n.id,{type:"error",error:Kt}]}}}let xt,ct=Rf(Ue,pe);if(!ct.route.action&&!ct.route.lazy)xt={type:"error",error:Uo(405,{method:he.method,pathname:pe.pathname,routeId:ct.route.id})};else{let ot=Zc(a,i,he,Ue,ct,Ke?[]:r,Ve),qt=await vt(he,ot,Ve,null);if(xt=qt[ct.route.id],!xt){for(let Kt of Ue)if(qt[Kt.route.id]){xt=qt[Kt.route.id];break}}if(he.signal.aborted)return{shortCircuited:!0}}if(Ql(xt)){let ot;return Xe&&Xe.replace!=null?ot=Xe.replace:ot=x0(xt.response.headers.get("Location"),new URL(he.url),u)===U.location.pathname+U.location.search,await Ct(he,xt,!0,{submission:Pe,replace:ot}),{shortCircuited:!0}}if(xo(xt)){let ot=Xl(Ue,ct.route.id);return(Xe&&Xe.replace)!==!0&&(te="PUSH"),{matches:Ue,pendingActionResult:[ot.route.id,xt,ct.route.id]}}return{matches:Ue,pendingActionResult:[ct.route.id,xt]}}async function Xt(he,pe,Pe,Ue,Ve,nt,Ke,Xe,tt,xt,ct,ot){let qt=nt||hm(pe,Ke),Kt=Ke||Xe||C0(qt),_n=!j&&!xt;if(Ve){if(_n){let rr=It(ot);Me({navigation:qt,...rr!==void 0?{actionData:rr}:{}},{flushSync:ct})}let Qt=await Ta(Pe,pe.pathname,he.signal);if(Qt.type==="aborted")return{shortCircuited:!0};if(Qt.type==="error"){let rr=Xl(Qt.partialMatches).route.id;return{matches:Qt.partialMatches,loaderData:{},errors:{[rr]:Qt.error}}}else if(Qt.matches)Pe=Qt.matches;else{let{error:rr,notFoundMatches:io,route:Ra}=Mt(pe.pathname);return{matches:io,loaderData:{},errors:{[Ra.id]:rr}}}}let Sn=c||l,{dsMatches:vn,revalidatingFetchers:Jt}=g0(he,Ue,a,i,t.history,U,Pe,Kt,pe,xt?[]:r,xt===!0,D,$,K,G,ye,Sn,u,t.patchRoutesOnNavigation!=null,ot);if(re=++ce,!t.dataStrategy&&!vn.some(Qt=>Qt.shouldLoad)&&Jt.length===0){let Qt=an();return qe(pe,{matches:Pe,loaderData:{},errors:ot&&xo(ot[1])?{[ot[0]]:ot[1].error}:null,...k0(ot),...Qt?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ct}),{shortCircuited:!0}}if(_n){let Qt={};if(!Ve){Qt.navigation=qt;let rr=It(ot);rr!==void 0&&(Qt.actionData=rr)}Jt.length>0&&(Qt.fetchers=kt(Jt)),Me(Qt,{flushSync:ct})}Jt.forEach(Qt=>{rt(Qt.key),Qt.controller&&ne.set(Qt.key,Qt.controller)});let $r=()=>Jt.forEach(Qt=>rt(Qt.key));T&&T.signal.addEventListener("abort",$r);let{loaderResults:Ma,fetcherResults:Vr}=await rn(vn,Jt,he,Ue);if(he.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",$r),Jt.forEach(Qt=>ne.delete(Qt.key));let Br=sf(Ma);if(Br)return await Ct(he,Br.result,!0,{replace:tt}),{shortCircuited:!0};if(Br=sf(Vr),Br)return ye.add(Br.key),await Ct(he,Br.result,!0,{replace:tt}),{shortCircuited:!0};let{loaderData:Vi,errors:fn}=_0(U,Pe,Ma,ot,Jt,Vr);xt&&U.errors&&(fn={...U.errors,...fn});let qa=an(),oo=mt(re),Rr=qa||oo||Jt.length>0;return{matches:Pe,loaderData:Vi,errors:fn,...Rr?{fetchers:new Map(U.fetchers)}:{}}}function It(he){if(he&&!xo(he[1]))return{[he[0]]:he[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function kt(he){return he.forEach(pe=>{let Pe=U.fetchers.get(pe.key),Ue=zu(void 0,Pe?Pe.data:void 0);U.fetchers.set(pe.key,Ue)}),new Map(U.fetchers)}async function $e(he,pe,Pe,Ue){rt(he);let Ve=(Ue&&Ue.flushSync)===!0,nt=c||l,Ke=tp(U.location,U.matches,u,Pe,pe,Ue?.relative),Xe=ol(nt,Ke,u),tt=en(Xe,nt,Ke);if(tt.active&&tt.matches&&(Xe=tt.matches),!Xe){Yt(he,pe,Uo(404,{pathname:Ke}),{flushSync:Ve});return}let{path:xt,submission:ct,error:ot}=p0(!0,Ke,Ue);if(ot){Yt(he,pe,ot,{flushSync:Ve});return}let qt=new h0(t.unstable_getContext?await t.unstable_getContext():void 0),Kt=(Ue&&Ue.preventScrollReset)===!0;if(ct&&eo(ct.formMethod)){await ht(he,pe,xt,Xe,qt,tt.active,Ve,Kt,ct);return}G.set(he,{routeId:pe,path:xt}),await Qe(he,pe,xt,Xe,qt,tt.active,Ve,Kt,ct)}async function ht(he,pe,Pe,Ue,Ve,nt,Ke,Xe,tt){Dt(),G.delete(he);let xt=U.fetchers.get(he);Nt(he,Ow(tt,xt),{flushSync:Ke});let ct=new AbortController,ot=Kc(t.history,Pe,ct.signal,tt);if(nt){let cn=await Ta(Ue,new URL(ot.url).pathname,ot.signal,he);if(cn.type==="aborted")return;if(cn.type==="error"){Yt(he,pe,cn.error,{flushSync:Ke});return}else if(cn.matches)Ue=cn.matches;else{Yt(he,pe,Uo(404,{pathname:Pe}),{flushSync:Ke});return}}let qt=Rf(Ue,Pe);if(!qt.route.action&&!qt.route.lazy){let cn=Uo(405,{method:tt.formMethod,pathname:Pe,routeId:pe});Yt(he,pe,cn,{flushSync:Ke});return}ne.set(he,ct);let Kt=ce,_n=Zc(a,i,ot,Ue,qt,r,Ve),vn=(await vt(ot,_n,Ve,he))[qt.route.id];if(ot.signal.aborted){ne.get(he)===ct&&ne.delete(he);return}if(K.has(he)){if(Ql(vn)||xo(vn)){Nt(he,al(void 0));return}}else{if(Ql(vn))if(ne.delete(he),re>Kt){Nt(he,al(void 0));return}else return ye.add(he),Nt(he,zu(tt)),Ct(ot,vn,!1,{fetcherSubmission:tt,preventScrollReset:Xe});if(xo(vn)){Yt(he,pe,vn.error);return}}let Jt=U.navigation.location||U.location,$r=Kc(t.history,Jt,ct.signal),Ma=c||l,Vr=U.navigation.state!=="idle"?ol(Ma,U.navigation.location,u):U.matches;sn(Vr,"Didn't find any matches after fetcher action");let Br=++ce;de.set(he,Br);let Vi=zu(tt,vn.data);U.fetchers.set(he,Vi);let{dsMatches:fn,revalidatingFetchers:qa}=g0($r,Ve,a,i,t.history,U,Vr,tt,Jt,r,!1,D,$,K,G,ye,Ma,u,t.patchRoutesOnNavigation!=null,[qt.route.id,vn]);qa.filter(cn=>cn.key!==he).forEach(cn=>{let Yo=cn.key,xr=U.fetchers.get(Yo),gl=zu(void 0,xr?xr.data:void 0);U.fetchers.set(Yo,gl),rt(Yo),cn.controller&&ne.set(Yo,cn.controller)}),Me({fetchers:new Map(U.fetchers)});let oo=()=>qa.forEach(cn=>rt(cn.key));ct.signal.addEventListener("abort",oo);let{loaderResults:Rr,fetcherResults:Qt}=await rn(fn,qa,$r,Ve);if(ct.signal.aborted)return;if(ct.signal.removeEventListener("abort",oo),de.delete(he),ne.delete(he),qa.forEach(cn=>ne.delete(cn.key)),U.fetchers.has(he)){let cn=al(vn.data);U.fetchers.set(he,cn)}let rr=sf(Rr);if(rr)return Ct($r,rr.result,!1,{preventScrollReset:Xe});if(rr=sf(Qt),rr)return ye.add(rr.key),Ct($r,rr.result,!1,{preventScrollReset:Xe});let{loaderData:io,errors:Ra}=_0(U,Vr,Rr,void 0,qa,Qt);mt(Br),U.navigation.state==="loading"&&Br>re?(sn(te,"Expected pending action"),T&&T.abort(),qe(U.navigation.location,{matches:Vr,loaderData:io,errors:Ra,fetchers:new Map(U.fetchers)})):(Me({errors:Ra,loaderData:S0(U.loaderData,io,Vr,Ra),fetchers:new Map(U.fetchers)}),D=!1)}async function Qe(he,pe,Pe,Ue,Ve,nt,Ke,Xe,tt){let xt=U.fetchers.get(he);Nt(he,zu(tt,xt?xt.data:void 0),{flushSync:Ke});let ct=new AbortController,ot=Kc(t.history,Pe,ct.signal);if(nt){let Jt=await Ta(Ue,new URL(ot.url).pathname,ot.signal,he);if(Jt.type==="aborted")return;if(Jt.type==="error"){Yt(he,pe,Jt.error,{flushSync:Ke});return}else if(Jt.matches)Ue=Jt.matches;else{Yt(he,pe,Uo(404,{pathname:Pe}),{flushSync:Ke});return}}let qt=Rf(Ue,Pe);ne.set(he,ct);let Kt=ce,_n=Zc(a,i,ot,Ue,qt,r,Ve),vn=(await vt(ot,_n,Ve,he))[qt.route.id];if(ne.get(he)===ct&&ne.delete(he),!ot.signal.aborted){if(K.has(he)){Nt(he,al(void 0));return}if(Ql(vn))if(re>Kt){Nt(he,al(void 0));return}else{ye.add(he),await Ct(ot,vn,!1,{preventScrollReset:Xe});return}if(xo(vn)){Yt(he,pe,vn.error);return}Nt(he,al(vn.data))}}async function Ct(he,pe,Pe,{submission:Ue,fetcherSubmission:Ve,preventScrollReset:nt,replace:Ke}={}){pe.response.headers.has("X-Remix-Revalidate")&&(D=!0);let Xe=pe.response.headers.get("Location");sn(Xe,"Expected a Location header on the redirect Response"),Xe=x0(Xe,new URL(he.url),u);let tt=id(U.location,Xe,{_isRedirect:!0});if(n){let _n=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))_n=!0;else if(Ap(Xe)){const Sn=N5(Xe,!0);_n=Sn.origin!==e.location.origin||Wo(Sn.pathname,u)==null}if(_n){Ke?e.location.replace(Xe):e.location.assign(Xe);return}}T=null;let xt=Ke===!0||pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ct,formAction:ot,formEncType:qt}=U.navigation;!Ue&&!Ve&&ct&&ot&&qt&&(Ue=C0(U.navigation));let Kt=Ue||Ve;if(vw.has(pe.response.status)&&Kt&&eo(Kt.formMethod))await Re(xt,tt,{submission:{...Kt,formAction:Xe},preventScrollReset:nt||X,enableViewTransition:Pe?Y:void 0});else{let _n=hm(tt,Ue);await Re(xt,tt,{overrideNavigation:_n,fetcherSubmission:Ve,preventScrollReset:nt||X,enableViewTransition:Pe?Y:void 0})}}async function vt(he,pe,Pe,Ue){let Ve,nt={};try{Ve=await Aw(d,he,pe,Ue,Pe,!1)}catch(Ke){return pe.filter(Xe=>Xe.shouldLoad).forEach(Xe=>{nt[Xe.route.id]={type:"error",error:Ke}}),nt}if(he.signal.aborted)return nt;for(let[Ke,Xe]of Object.entries(Ve))if(Rw(Xe)){let tt=Xe.result;nt[Ke]={type:"redirect",response:Pw(tt,he,Ke,pe,u)}}else nt[Ke]=await Lw(Xe);return nt}async function rn(he,pe,Pe,Ue){let Ve=vt(Pe,he,Ue,null),nt=Promise.all(pe.map(async tt=>{if(tt.matches&&tt.match&&tt.request&&tt.controller){let ct=(await vt(tt.request,tt.matches,Ue,tt.key))[tt.match.route.id];return{[tt.key]:ct}}else return Promise.resolve({[tt.key]:{type:"error",error:Uo(404,{pathname:tt.path})}})})),Ke=await Ve,Xe=(await nt).reduce((tt,xt)=>Object.assign(tt,xt),{});return{loaderResults:Ke,fetcherResults:Xe}}function Dt(){D=!0,G.forEach((he,pe)=>{ne.has(pe)&&$.add(pe),rt(pe)})}function Nt(he,pe,Pe={}){U.fetchers.set(he,pe),Me({fetchers:new Map(U.fetchers)},{flushSync:(Pe&&Pe.flushSync)===!0})}function Yt(he,pe,Pe,Ue={}){let Ve=Xl(U.matches,pe);yt(he),Me({errors:{[Ve.route.id]:Pe},fetchers:new Map(U.fetchers)},{flushSync:(Ue&&Ue.flushSync)===!0})}function Ot(he){return P.set(he,(P.get(he)||0)+1),K.has(he)&&K.delete(he),U.fetchers.get(he)||yw}function yt(he){let pe=U.fetchers.get(he);ne.has(he)&&!(pe&&pe.state==="loading"&&de.has(he))&&rt(he),G.delete(he),de.delete(he),ye.delete(he),K.delete(he),$.delete(he),U.fetchers.delete(he)}function At(he){let pe=(P.get(he)||0)-1;pe<=0?(P.delete(he),K.add(he)):P.set(he,pe),Me({fetchers:new Map(U.fetchers)})}function rt(he){let pe=ne.get(he);pe&&(pe.abort(),ne.delete(he))}function En(he){for(let pe of he){let Pe=Ot(pe),Ue=al(Pe.data);U.fetchers.set(pe,Ue)}}function an(){let he=[],pe=!1;for(let Pe of ye){let Ue=U.fetchers.get(Pe);sn(Ue,`Expected fetcher: ${Pe}`),Ue.state==="loading"&&(ye.delete(Pe),he.push(Pe),pe=!0)}return En(he),pe}function mt(he){let pe=[];for(let[Pe,Ue]of de)if(Ue<he){let Ve=U.fetchers.get(Pe);sn(Ve,`Expected fetcher: ${Pe}`),Ve.state==="loading"&&(rt(Pe),de.delete(Pe),pe.push(Pe))}return En(pe),pe.length>0}function Bt(he,pe){let Pe=U.blockers.get(he)||Bu;return Z.get(he)!==pe&&Z.set(he,pe),Pe}function un(he){U.blockers.delete(he),Z.delete(he)}function St(he,pe){let Pe=U.blockers.get(he)||Bu;sn(Pe.state==="unblocked"&&pe.state==="blocked"||Pe.state==="blocked"&&pe.state==="blocked"||Pe.state==="blocked"&&pe.state==="proceeding"||Pe.state==="blocked"&&pe.state==="unblocked"||Pe.state==="proceeding"&&pe.state==="unblocked",`Invalid blocker state transition: ${Pe.state} -> ${pe.state}`);let Ue=new Map(U.blockers);Ue.set(he,pe),Me({blockers:Ue})}function Gt({currentLocation:he,nextLocation:pe,historyAction:Pe}){if(Z.size===0)return;Z.size>1&&Mr(!1,"A router only supports one blocker at a time");let Ue=Array.from(Z.entries()),[Ve,nt]=Ue[Ue.length-1],Ke=U.blockers.get(Ve);if(!(Ke&&Ke.state==="proceeding")&&nt({currentLocation:he,nextLocation:pe,historyAction:Pe}))return Ve}function Mt(he){let pe=Uo(404,{pathname:he}),Pe=c||l,{matches:Ue,route:Ve}=N0(Pe);return{notFoundMatches:Ue,route:Ve,error:pe}}function zn(he,pe,Pe){if(g=he,_=pe,N=Pe||null,!S&&U.navigation===fm){S=!0;let Ue=Rt(U.location,U.matches);Ue!=null&&Me({restoreScrollPosition:Ue})}return()=>{g=null,_=null,N=null}}function Ln(he,pe){return N&&N(he,pe.map(Ue=>Gb(Ue,U.loaderData)))||he.key}function ln(he,pe){if(g&&_){let Pe=Ln(he,pe);g[Pe]=_()}}function Rt(he,pe){if(g){let Pe=Ln(he,pe),Ue=g[Pe];if(typeof Ue=="number")return Ue}return null}function en(he,pe,Pe){if(t.patchRoutesOnNavigation)if(he){if(Object.keys(he[0].params).length>0)return{active:!0,matches:Mf(pe,Pe,u,!0)}}else return{active:!0,matches:Mf(pe,Pe,u,!0)||[]};return{active:!1,matches:null}}async function Ta(he,pe,Pe,Ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:he};let Ve=he;for(;;){let nt=c==null,Ke=c||l,Xe=i;try{await t.patchRoutesOnNavigation({signal:Pe,path:pe,matches:Ve,fetcherKey:Ue,patch:(ct,ot)=>{Pe.aborted||v0(ct,ot,Ke,Xe,a,!1)}})}catch(ct){return{type:"error",error:ct,partialMatches:Ve}}finally{nt&&!Pe.aborted&&(l=[...l])}if(Pe.aborted)return{type:"aborted"};let tt=ol(Ke,pe,u);if(tt)return{type:"success",matches:tt};let xt=Mf(Ke,pe,u,!0);if(!xt||Ve.length===xt.length&&Ve.every((ct,ot)=>ct.route.id===xt[ot].route.id))return{type:"success",matches:null};Ve=xt}}function wr(he){i={},c=sd(he,a,void 0,i)}function Ua(he,pe,Pe=!1){let Ue=c==null;v0(he,pe,c||l,i,a,Pe),Ue&&(l=[...l],Me({}))}return ee={get basename(){return u},get future(){return h},get state(){return U},get routes(){return l},get window(){return e},initialize:xe,subscribe:Se,enableScrollRestoration:zn,navigate:Ze,fetch:$e,revalidate:et,createHref:he=>t.history.createHref(he),encodeLocation:he=>t.history.encodeLocation(he),getFetcher:Ot,deleteFetcher:At,dispose:Ce,getBlocker:Bt,deleteBlocker:un,patchRoutes:Ua,_internalFetchControllers:ne,_internalSetRoutes:wr,_internalSetStateDoNotUseOrYouWillBreakYourApp(he){Me(he)}},ee}function Ew(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tp(t,e,n,r,a,i){let l,c;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){c=d;break}}else l=e,c=e[e.length-1];let u=Np(r||".",kp(l),Wo(t.pathname,n)||t.pathname,i==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&c){let d=Cp(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let h=new URLSearchParams(u.search),y=h.getAll("index");h.delete("index"),y.filter(g=>g).forEach(g=>h.append("index",g));let w=h.toString();u.search=w?`?${w}`:""}}return n!=="/"&&(u.pathname=sw({basename:n,pathname:u.pathname})),dl(u)}function p0(t,e,n){if(!n||!Ew(n))return{path:e};if(n.formMethod&&!Fw(n.formMethod))return{path:e,error:Uo(405,{method:n.formMethod})};let r=()=>({path:e,error:Uo(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),l=j5(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!eo(i))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[g,N])=>`${w}${g}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!eo(i))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}sn(typeof FormData=="function","FormData is not available in this environment");let c,u;if(n.formData)c=ap(n.formData),u=n.formData;else if(n.body instanceof FormData)c=ap(n.body),u=n.body;else if(n.body instanceof URLSearchParams)c=n.body,u=E0(c);else if(n.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(n.body),u=E0(c)}catch{return r()}let d={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(eo(d.formMethod))return{path:e,submission:d};let h=ml(e);return t&&h.search&&Cp(h.search)&&c.append("index",""),h.search=`?${c}`,{path:dl(h),submission:d}}function g0(t,e,n,r,a,i,l,c,u,d,h,y,w,g,N,_,S,A,O,R){let I=R?xo(R[1])?R[1].error:R[1].data:void 0,ee=a.createURL(i.location),U=a.createURL(u),te;if(h&&i.errors){let j=Object.keys(i.errors)[0];te=l.findIndex(D=>D.route.id===j)}else if(R&&xo(R[1])){let j=R[0];te=l.findIndex(D=>D.route.id===j)-1}let X=R?R[1].statusCode:void 0,T=X&&X>=400,Y={currentUrl:ee,currentParams:i.matches[0]?.params||{},nextUrl:U,nextParams:l[0].params,...c,actionResult:I,actionStatus:X},F=l.map((j,D)=>{let{route:$}=j,ne=null;if(te!=null&&D>te?ne=!1:$.lazy?ne=!0:$.loader==null?ne=!1:h?ne=np($,i.loaderData,i.errors):_w(i.loaderData,i.matches[D],j)&&(ne=!0),ne!==null)return rp(n,r,t,j,d,e,ne);let ce=T?!1:y||ee.pathname+ee.search===U.pathname+U.search||ee.search!==U.search||Sw(i.matches[D],j),re={...Y,defaultShouldRevalidate:ce},de=Yf(j,re);return rp(n,r,t,j,d,e,de,re)}),M=[];return N.forEach((j,D)=>{if(h||!l.some(P=>P.route.id===j.routeId)||g.has(D))return;let $=i.fetchers.get(D),ne=$&&$.state!=="idle"&&$.data===void 0,ce=ol(S,j.path,A);if(!ce){if(O&&ne)return;M.push({key:D,routeId:j.routeId,path:j.path,matches:null,match:null,request:null,controller:null});return}if(_.has(D))return;let re=Rf(ce,j.path),de=new AbortController,ye=Kc(a,j.path,de.signal),G=null;if(w.has(D))w.delete(D),G=Zc(n,r,ye,ce,re,d,e);else if(ne)y&&(G=Zc(n,r,ye,ce,re,d,e));else{let P={...Y,defaultShouldRevalidate:T?!1:y};Yf(re,P)&&(G=Zc(n,r,ye,ce,re,d,e,P))}G&&M.push({key:D,routeId:j.routeId,path:j.path,matches:G,match:re,request:ye,controller:de})}),{dsMatches:F,revalidatingFetchers:M}}function np(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function _w(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function Sw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Yf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function v0(t,e,n,r,a,i){let l;if(t){let d=r[t];sn(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),l=d.children}else l=n;let c=[],u=[];if(e.forEach(d=>{let h=l.find(y=>R5(d,y));h?u.push({existingRoute:h,newRoute:d}):c.push(d)}),c.length>0){let d=sd(c,a,[t||"_","patch",String(l?.length||"0")],r);l.push(...d)}if(i&&u.length>0)for(let d=0;d<u.length;d++){let{existingRoute:h,newRoute:y}=u[d],w=h,[g]=sd([y],a,[],{},!0);Object.assign(w,{element:g.element?g.element:w.element,errorElement:g.errorElement?g.errorElement:w.errorElement,hydrateFallbackElement:g.hydrateFallbackElement?g.hydrateFallbackElement:w.hydrateFallbackElement})}}function R5(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(a=>R5(n,a))):!1}var y0=new WeakMap,F5=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(sn(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[t];if(!i)return;let l=y0.get(a);l||(l={},y0.set(a,l));let c=l[t];if(c)return c;let u=(async()=>{let d=Hb(t),y=a[t]!==void 0&&t!=="hasErrorBoundary";if(d)Mr(!d,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)Mr(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await i();w!=null&&(Object.assign(a,{[t]:w}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(w=>w===void 0)&&(a.lazy=void 0))})();return l[t]=u,u},b0=new WeakMap;function kw(t,e,n,r,a){let i=n[t.id];if(sn(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let h=b0.get(i);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let y=(async()=>{sn(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),g={};for(let N in w){let _=w[N];if(_===void 0)continue;let S=Vb(N),O=i[N]!==void 0&&N!=="hasErrorBoundary";S?Mr(!S,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?Mr(!O,`Route "${i.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):g[N]=_}Object.assign(i,g),Object.assign(i,{...r(i),lazy:void 0})})();return b0.set(i,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],u;for(let h of l){if(a&&a.includes(h))continue;let y=F5({key:h,route:t,manifest:n,mapRouteProperties:r});y&&(c.push(y),h===e&&(u=y))}let d=c.length>0?Promise.all(c).then(()=>{}):void 0;return d?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function w0(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,i)=>{n[e[i].route.id]=a}),n}async function Nw(t){return t.matches.some(e=>e.route.unstable_middleware)?D5(t,!1,()=>w0(t),(e,n)=>({[n]:{type:"error",result:e}})):w0(t)}async function D5(t,e,n,r){let{matches:a,request:i,params:l,context:c}=t,u={handlerResult:void 0};try{let d=a.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(w=>[y.route.id,w]):[]),h=await O5({request:i,params:l,context:c},d,e,u,n);return e?h:u.handlerResult}catch(d){if(!u.middlewareError)throw d;let h=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,h):h}}async function O5(t,e,n,r,a,i=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let c=e[i];if(!c)return r.handlerResult=await a(),r.handlerResult;let[u,d]=c,h=!1,y,w=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await O5(t,e,n,r,a,i+1)};try{let g=await d({request:t.request,params:t.params,context:t.context},w);return h?g===void 0?y:g:w()}catch(g){throw r.middlewareError?r.middlewareError.error!==g&&(r.middlewareError={routeId:u,error:g}):r.middlewareError={routeId:u,error:g},g}}function I5(t,e,n,r,a){let i=F5({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=kw(r.route,eo(n.method)?"action":"loader",e,t,a);return{middleware:i,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function rp(t,e,n,r,a,i,l,c=null){let u=!1,d=I5(t,e,n,r,a);return{...r,_lazyPromises:d,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(h){return u=!0,c?typeof h=="boolean"?Yf(r,{...c,defaultShouldRevalidate:h}):Yf(r,c):l},resolve(h){return u||l||h&&!eo(n.method)&&(r.route.lazy||r.route.loader)?Cw({request:n,match:r,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:h,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function Zc(t,e,n,r,a,i,l,c=null){return r.map(u=>u.route.id!==a.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:I5(t,e,n,u,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rp(t,e,n,u,i,l,!0,c))}async function Aw(t,e,n,r,a,i){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:a,matches:n},u=await t({...l,fetcherKey:r,unstable_runClientMiddleware:d=>{let h=l;return D5(h,!1,()=>d({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(y,w)=>({[w]:{type:"error",result:y}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return u}async function Cw({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:i}){let l,c,u=eo(t.method),d=u?"action":"loader",h=y=>{let w,g=new Promise((S,A)=>w=A);c=()=>w(),t.signal.addEventListener("abort",c);let N=S=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${e.route.id}]`)):y({request:t,params:e.params,context:i},...S!==void 0?[S]:[]),_=(async()=>{try{return{type:"data",result:await(a?a(A=>N(A)):N())}}catch(S){return{type:"error",result:S}}})();return Promise.race([_,g])};try{let y=u?e.route.action:e.route.loader;if(n||r)if(y){let w,[g]=await Promise.all([h(y).catch(N=>{w=N}),n,r]);if(w!==void 0)throw w;l=g}else{await n;let w=u?e.route.action:e.route.loader;if(w)[l]=await Promise.all([h(w),r]);else if(d==="action"){let g=new URL(t.url),N=g.pathname+g.search;throw Uo(405,{method:t.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(y)l=await h(y);else{let w=new URL(t.url),g=w.pathname+w.search;throw Uo(404,{pathname:g})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function Lw(t){let{result:e,type:n}=t;if(B5(e)){let r;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new Vf(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?A0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Vf(e.init?.status||500,void 0,e.data),statusCode:ld(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ld(e)?e.status:void 0}:A0(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Pw(t,e,n,r,a){let i=t.headers.get("Location");if(sn(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ap(i)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);i=tp(new URL(e.url),l,a,i),t.headers.set("Location",i)}return t}function x0(t,e,n){if(Ap(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Wo(a.pathname,n)!=null;if(a.origin===e.origin&&i)return a.pathname+a.search+a.hash}return t}function Kc(t,e,n,r){let a=t.createURL(j5(e)).toString(),i={signal:n};if(r&&eo(r.formMethod)){let{formMethod:l,formEncType:c}=r;i.method=l.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(r.json)):c==="text/plain"?i.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?i.body=ap(r.formData):i.body=r.formData}return new Request(a,i)}function ap(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function E0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Tw(t,e,n,r=!1,a=!1){let i={},l=null,c,u=!1,d={},h=n&&xo(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,g=e[w];if(sn(!Ql(g),"Cannot handle redirect results in processLoaderData"),xo(g)){let N=g.error;if(h!==void 0&&(N=h,h=void 0),l=l||{},a)l[w]=N;else{let _=Xl(t,w);l[_.route.id]==null&&(l[_.route.id]=N)}r||(i[w]=M5),u||(u=!0,c=ld(g.error)?g.error.status:500),g.headers&&(d[w]=g.headers)}else i[w]=g.data,g.statusCode&&g.statusCode!==200&&!u&&(c=g.statusCode),g.headers&&(d[w]=g.headers)}),h!==void 0&&n&&(l={[n[0]]:h},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:l,statusCode:c||200,loaderHeaders:d}}function _0(t,e,n,r,a,i){let{loaderData:l,errors:c}=Tw(e,n,r);return a.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:h,controller:y}=u,w=i[d];if(sn(w,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(xo(w)){let g=Xl(t.matches,h?.route.id);c&&c[g.route.id]||(c={...c,[g.route.id]:w.error}),t.fetchers.delete(d)}else if(Ql(w))sn(!1,"Unhandled fetcher revalidation redirect");else{let g=al(w.data);t.fetchers.set(d,g)}}),{loaderData:l,errors:c}}function S0(t,e,n,r){let a=Object.entries(e).filter(([,i])=>i!==M5).reduce((i,[l,c])=>(i[l]=c,i),{});for(let i of n){let l=i.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&i.route.loader&&(a[l]=t[l]),r&&r.hasOwnProperty(l))break}return a}function k0(t){return t?xo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function N0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Uo(t,{pathname:e,routeId:n,method:r,type:a,message:i}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Vf(t||500,l,new Error(c),!0)}function sf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(Ql(a))return{key:r,result:a}}}function j5(t){let e=typeof t=="string"?ml(t):t;return dl({...e,hash:""})}function Mw(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Rw(t){return B5(t.result)&&gw.has(t.result.status)}function xo(t){return t.type==="error"}function Ql(t){return(t&&t.type)==="redirect"}function A0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function B5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Fw(t){return pw.has(t.toUpperCase())}function eo(t){return hw.has(t.toUpperCase())}function Cp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Rf(t,e){let n=typeof e=="string"?ml(e).search:e.search;if(t[t.length-1].route.index&&Cp(n||""))return t[t.length-1];let r=L5(t);return r[r.length-1]}function C0(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:i,json:l}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function hm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Dw(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ow(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function al(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Iw(t,e){try{let n=t.sessionStorage.getItem(T5);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(a,new Set(i||[]))}}catch{}}function jw(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(T5,JSON.stringify(n))}catch(r){Mr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Bw(){let t,e,n=new Promise((r,a)=>{t=async i=>{r(i);try{await n}catch{}},e=async i=>{a(i);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ic=q.createContext(null);ic.displayName="DataRouter";var vd=q.createContext(null);vd.displayName="DataRouterState";q.createContext(!1);var Lp=q.createContext({isTransitioning:!1});Lp.displayName="ViewTransition";var z5=q.createContext(new Map);z5.displayName="Fetchers";var zw=q.createContext(null);zw.displayName="Await";var Wi=q.createContext(null);Wi.displayName="Navigation";var uh=q.createContext(null);uh.displayName="Location";var gi=q.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Pp=q.createContext(null);Pp.displayName="RouteError";function Uw(t,{relative:e}={}){sn(yd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Wi),{hash:a,pathname:i,search:l}=wd(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:qi([n,i])),r.createHref({pathname:c,search:l,hash:a})}function yd(){return q.useContext(uh)!=null}function pl(){return sn(yd(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(uh).location}var U5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q5(t){q.useContext(Wi).static||q.useLayoutEffect(t)}function ta(){let{isDataRoute:t}=q.useContext(gi);return t?nx():qw()}function qw(){sn(yd(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(ic),{basename:e,navigator:n}=q.useContext(Wi),{matches:r}=q.useContext(gi),{pathname:a}=pl(),i=JSON.stringify(kp(r)),l=q.useRef(!1);return q5(()=>{l.current=!0}),q.useCallback((u,d={})=>{if(Mr(l.current,U5),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Np(u,JSON.parse(i),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qi([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,a,t])}var Ww=q.createContext(null);function Hw(t){let e=q.useContext(gi).outlet;return e&&q.createElement(Ww.Provider,{value:t},e)}function bd(){let{matches:t}=q.useContext(gi),e=t[t.length-1];return e?e.params:{}}function wd(t,{relative:e}={}){let{matches:n}=q.useContext(gi),{pathname:r}=pl(),a=JSON.stringify(kp(n));return q.useMemo(()=>Np(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function $w(t,e,n,r){sn(yd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=q.useContext(Wi),{matches:i}=q.useContext(gi),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let A=h&&h.path||"";W5(u,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=pl(),w;w=y;let g=w.pathname||"/",N=g;if(d!=="/"){let A=d.replace(/^\//,"").split("/");N="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=ol(t,{pathname:N});return Mr(h||_!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Mr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Xw(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:qi([d,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:qi([d,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r)}function Vw(){let t=tx(),e=ld(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:i},"ErrorBoundary")," or"," ",q.createElement("code",{style:i},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:a},n):null,l)}var Yw=q.createElement(Vw,null),Gw=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?q.createElement(gi.Provider,{value:this.props.routeContext},q.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kw({routeContext:t,match:e,children:n}){let r=q.useContext(ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(gi.Provider,{value:t},n)}function Xw(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,i=n?.errors;if(i!=null){let u=a.findIndex(d=>d.route.id&&i?.[d.route.id]!==void 0);sn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:y}=n,w=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let y,w=!1,g=null,N=null;n&&(y=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||Yw,l&&(c<0&&h===0?(W5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):c===h&&(w=!0,N=d.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,h+1)),S=()=>{let A;return y?A=g:w?A=N:d.route.Component?A=q.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=u,q.createElement(Kw,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?q.createElement(Gw,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function Tp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(t){let e=q.useContext(ic);return sn(e,Tp(t)),e}function Qw(t){let e=q.useContext(vd);return sn(e,Tp(t)),e}function Zw(t){let e=q.useContext(gi);return sn(e,Tp(t)),e}function Mp(t){let e=Zw(t),n=e.matches[e.matches.length-1];return sn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ex(){return Mp("useRouteId")}function tx(){let t=q.useContext(Pp),e=Qw("useRouteError"),n=Mp("useRouteError");return t!==void 0?t:e.errors?.[n]}function nx(){let{router:t}=Jw("useNavigate"),e=Mp("useNavigate"),n=q.useRef(!1);return q5(()=>{n.current=!0}),q.useCallback(async(a,i={})=>{Mr(n.current,U5),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var L0={};function W5(t,e,n){!e&&!L0[t]&&(L0[t]=!0,Mr(!1,n))}var P0={};function T0(t,e){!t&&!P0[e]&&(P0[e]=!0,console.warn(e))}function rx(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Mr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Mr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Mr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var ax=["HydrateFallback","hydrateFallbackElement"],ox=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function ix({router:t,flushSync:e}){let[n,r]=q.useState(t.state),[a,i]=q.useState(),[l,c]=q.useState({isTransitioning:!1}),[u,d]=q.useState(),[h,y]=q.useState(),[w,g]=q.useState(),N=q.useRef(new Map),_=q.useCallback((R,{deletedFetchers:I,flushSync:ee,viewTransitionOpts:U})=>{R.fetchers.forEach((X,T)=>{X.data!==void 0&&N.current.set(T,X.data)}),I.forEach(X=>N.current.delete(X)),T0(ee===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let te=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(T0(U==null||te,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!te){e&&ee?e(()=>r(R)):q.startTransition(()=>r(R));return}if(e&&ee){e(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let X=t.window.document.startViewTransition(()=>{e(()=>r(R))});X.finished.finally(()=>{e(()=>{d(void 0),y(void 0),i(void 0),c({isTransitioning:!1})})}),e(()=>y(X));return}h?(u&&u.resolve(),h.skipTransition(),g({state:R,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(i(R),c({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,e,h,u]);q.useLayoutEffect(()=>t.subscribe(_),[t,_]),q.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new ox)},[l]),q.useEffect(()=>{if(u&&a&&t.window){let R=a,I=u.promise,ee=t.window.document.startViewTransition(async()=>{q.startTransition(()=>r(R)),await I});ee.finished.finally(()=>{d(void 0),y(void 0),i(void 0),c({isTransitioning:!1})}),y(ee)}},[a,u,t.window]),q.useEffect(()=>{u&&a&&n.location.key===a.location.key&&u.resolve()},[u,h,n.location,a]),q.useEffect(()=>{!l.isTransitioning&&w&&(i(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),g(void 0))},[l.isTransitioning,w]);let S=q.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,I,ee)=>t.navigate(R,{state:I,preventScrollReset:ee?.preventScrollReset}),replace:(R,I,ee)=>t.navigate(R,{replace:!0,state:I,preventScrollReset:ee?.preventScrollReset})}),[t]),A=t.basename||"/",O=q.useMemo(()=>({router:t,navigator:S,static:!1,basename:A}),[t,S,A]);return q.createElement(q.Fragment,null,q.createElement(ic.Provider,{value:O},q.createElement(vd.Provider,{value:n},q.createElement(z5.Provider,{value:N.current},q.createElement(Lp.Provider,{value:l},q.createElement(ux,{basename:A,location:n.location,navigationType:n.historyAction,navigator:S},q.createElement(sx,{routes:t.routes,future:t.future,state:n})))))),null)}var sx=q.memo(lx);function lx({routes:t,future:e,state:n}){return $w(t,void 0,n,e)}function cx(t){return Hw(t.context)}function ux({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){sn(!yd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof n=="string"&&(n=ml(n));let{pathname:u="/",search:d="",hash:h="",state:y=null,key:w="default"}=n,g=q.useMemo(()=>{let N=Wo(u,l);return N==null?null:{location:{pathname:N,search:d,hash:h,state:y,key:w},navigationType:r}},[l,u,d,h,y,w,r]);return Mr(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:q.createElement(Wi.Provider,{value:c},q.createElement(uh.Provider,{children:e,value:g}))}var Ff="get",Df="application/x-www-form-urlencoded";function dh(t){return t!=null&&typeof t.tagName=="string"}function dx(t){return dh(t)&&t.tagName.toLowerCase()==="button"}function fx(t){return dh(t)&&t.tagName.toLowerCase()==="form"}function hx(t){return dh(t)&&t.tagName.toLowerCase()==="input"}function mx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function px(t,e){return t.button===0&&(!e||e==="_self")&&!mx(t)}function op(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function gx(t,e){let n=op(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(i=>{n.append(a,i)})}),n}var lf=null;function vx(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var yx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(t){return t!=null&&!yx.has(t)?(Mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):t}function bx(t,e){let n,r,a,i,l;if(fx(t)){let c=t.getAttribute("action");r=c?Wo(c,e):null,n=t.getAttribute("method")||Ff,a=mm(t.getAttribute("enctype"))||Df,i=new FormData(t)}else if(dx(t)||hx(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?Wo(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ff,a=mm(t.getAttribute("formenctype"))||mm(c.getAttribute("enctype"))||Df,i=new FormData(c,t),!vx()){let{name:d,type:h,value:y}=t;if(h==="image"){let w=d?`${d}.`:"";i.append(`${w}x`,"0"),i.append(`${w}y`,"0")}else d&&i.append(d,y)}}else{if(dh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ff,r=null,a=Df,l=t}return i&&a==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wx(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Wo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function xx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ex(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _x(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let l=await xx(i,n);return l.links?l.links():[]}return[]}));return Ax(r.flat(1).filter(Ex).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function M0(t,e,n,r,a,i){let l=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return i==="assets"?e.filter((u,d)=>l(u,d)||c(u,d)):i==="data"?e.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(l(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Sx(t,e,{includeHydrateFallback:n}={}){return kx(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function kx(t){return[...new Set(t)]}function Nx(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Ax(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(Nx(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function H5(){let t=q.useContext(ic);return Rp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Cx(){let t=q.useContext(vd);return Rp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fp=q.createContext(void 0);Fp.displayName="FrameworkContext";function $5(){let t=q.useContext(Fp);return Rp(t,"You must render this element inside a <HydratedRouter> element"),t}function Lx(t,e){let n=q.useContext(Fp),[r,a]=q.useState(!1),[i,l]=q.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:y}=e,w=q.useRef(null);q.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let _=A=>{A.forEach(O=>{l(O.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[t]),q.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let g=()=>{a(!0)},N=()=>{a(!1),l(!1)};return n?t!=="intent"?[i,w,{}]:[i,w,{onFocus:Uu(c,g),onBlur:Uu(u,N),onMouseEnter:Uu(d,g),onMouseLeave:Uu(h,N),onTouchStart:Uu(y,g)}]:[!1,w,{}]}function Uu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Px({page:t,...e}){let{router:n}=H5(),r=q.useMemo(()=>ol(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?q.createElement(Mx,{page:t,matches:r,...e}):null}function Tx(t){let{manifest:e,routeModules:n}=$5(),[r,a]=q.useState([]);return q.useEffect(()=>{let i=!1;return _x(t,e,n).then(l=>{i||a(l)}),()=>{i=!0}},[t,e,n]),r}function Mx({page:t,matches:e,...n}){let r=pl(),{manifest:a,routeModules:i}=$5(),{basename:l}=H5(),{loaderData:c,matches:u}=Cx(),d=q.useMemo(()=>M0(t,e,u,a,r,"data"),[t,e,u,a,r]),h=q.useMemo(()=>M0(t,e,u,a,r,"assets"),[t,e,u,a,r]),y=q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,_=!1;if(e.forEach(A=>{let O=a.routes[A.route.id];!O||!O.hasLoader||(!d.some(R=>R.route.id===A.route.id)&&A.route.id in c&&i[A.route.id]?.shouldRevalidate||O.hasClientLoader?_=!0:N.add(A.route.id))}),N.size===0)return[];let S=wx(t,l,"data");return _&&N.size>0&&S.searchParams.set("_routes",e.filter(A=>N.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[l,c,r,a,d,e,t,i]),w=q.useMemo(()=>Sx(h,a),[h,a]),g=Tx(h);return q.createElement(q.Fragment,null,y.map(N=>q.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>q.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),g.map(({key:N,link:_})=>q.createElement("link",{key:N,..._})))}function Rx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V5&&(window.__reactRouterVersion="7.7.1")}catch{}function Fx(t,e){return xw({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:zb({window:e?.window}),hydrationData:Dx(),routes:t,mapRouteProperties:rx,hydrationRouteProperties:ax,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function Dx(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:Ox(t.errors)}),t}function Ox(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new Vf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let l=new i(a.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}var Y5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:l,state:c,target:u,to:d,preventScrollReset:h,viewTransition:y,...w},g){let{basename:N}=q.useContext(Wi),_=typeof d=="string"&&Y5.test(d),S,A=!1;if(typeof d=="string"&&_&&(S=d,V5))try{let T=new URL(window.location.href),Y=d.startsWith("//")?new URL(T.protocol+d):new URL(d),F=Wo(Y.pathname,N);Y.origin===T.origin&&F!=null?d=F+Y.search+Y.hash:A=!0}catch{Mr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Uw(d,{relative:a}),[R,I,ee]=Lx(r,w),U=Bx(d,{replace:l,state:c,target:u,preventScrollReset:h,relative:a,viewTransition:y});function te(T){e&&e(T),T.defaultPrevented||U(T)}let X=q.createElement("a",{...w,...ee,href:S||O,onClick:A||i?e:te,ref:Rx(g,I),target:u,"data-discover":!_&&n==="render"?"true":void 0});return R&&!_?q.createElement(q.Fragment,null,X,q.createElement(Px,{page:O})):X});_s.displayName="Link";var ip=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:l,viewTransition:c,children:u,...d},h){let y=wd(l,{relative:d.relative}),w=pl(),g=q.useContext(vd),{navigator:N,basename:_}=q.useContext(Wi),S=g!=null&&$x(y)&&c===!0,A=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,O=w.pathname,R=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(O=O.toLowerCase(),R=R?R.toLowerCase():null,A=A.toLowerCase()),R&&_&&(R=Wo(R,_)||R);const I=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let ee=O===A||!a&&O.startsWith(A)&&O.charAt(I)==="/",U=R!=null&&(R===A||!a&&R.startsWith(A)&&R.charAt(A.length)==="/"),te={isActive:ee,isPending:U,isTransitioning:S},X=ee?e:void 0,T;typeof r=="function"?T=r(te):T=[r,ee?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Y=typeof i=="function"?i(te):i;return q.createElement(_s,{...d,"aria-current":X,className:T,ref:h,style:Y,to:l,viewTransition:c},typeof u=="function"?u(te):u)});ip.displayName="NavLink";var Ix=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:l=Ff,action:c,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:y,...w},g)=>{let N=Wx(),_=Hx(c,{relative:d}),S=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&Y5.test(c),O=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let I=R.nativeEvent.submitter,ee=I?.getAttribute("formmethod")||l;N(I||R.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:a,state:i,relative:d,preventScrollReset:h,viewTransition:y})};return q.createElement("form",{ref:g,method:S,action:_,onSubmit:r?u:O,...w,"data-discover":!A&&t==="render"?"true":void 0})});Ix.displayName="Form";function jx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G5(t){let e=q.useContext(ic);return sn(e,jx(t)),e}function Bx(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:l}={}){let c=ta(),u=pl(),d=wd(t,{relative:i});return q.useCallback(h=>{if(px(h,e)){h.preventDefault();let y=n!==void 0?n:dl(u)===dl(d);c(t,{replace:y,state:r,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,r,e,t,a,i,l])}function zx(t){Mr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(op(t)),n=q.useRef(!1),r=pl(),a=q.useMemo(()=>gx(r.search,n.current?null:e.current),[r.search]),i=ta(),l=q.useCallback((c,u)=>{const d=op(typeof c=="function"?c(new URLSearchParams(a)):c);n.current=!0,i("?"+d,u)},[i,a]);return[a,l]}var Ux=0,qx=()=>`__${String(++Ux)}__`;function Wx(){let{router:t}=G5("useSubmit"),{basename:e}=q.useContext(Wi),n=ex();return q.useCallback(async(r,a={})=>{let{action:i,method:l,encType:c,formData:u,body:d}=bx(r,e);if(a.navigate===!1){let h=a.fetcherKey||qx();await t.fetch(h,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Hx(t,{relative:e}={}){let{basename:n}=q.useContext(Wi),r=q.useContext(gi);sn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...wd(t||".",{relative:e})},l=pl();if(t==null){i.search=l.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(y=>y).forEach(y=>c.append("index",y));let h=c.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:qi([n,i.pathname])),dl(i)}function $x(t,{relative:e}={}){let n=q.useContext(Lp);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=G5("useViewTransitionState"),a=wd(t,{relative:e});if(!n.isTransitioning)return!1;let i=Wo(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Wo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $f(a.pathname,l)!=null||$f(a.pathname,i)!=null}var Vx=S5();function Yx(t){return q.createElement(ix,{flushSync:Vx.flushSync,...t})}const K5=q.createContext(null),Gx=({children:t})=>{const[e,n]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{(async()=>{try{const d=localStorage.getItem("userInfo");d&&n(JSON.parse(d));const h=await fetch("http://localhost:3001/auth/me",{credentials:"include"});if(h.ok){const y=await h.json();n(y),localStorage.setItem("userInfo",JSON.stringify(y))}else localStorage.removeItem("userInfo"),n(null)}catch(d){console.log("Erro ao verificar autenticao:",d)}finally{a(!1)}})()},[]);const i=u=>{localStorage.setItem("userInfo",JSON.stringify(u)),n(u)},l=async()=>{try{await fetch("http://localhost:3001/logout",{method:"POST",credentials:"include"})}catch(u){console.error("Erro ao fazer logout no backend:",u)}finally{localStorage.removeItem("userInfo"),n(null)}},c=u=>{const d={...e,...u};n(d),localStorage.setItem("userInfo",JSON.stringify(d))};return m.createElement(K5.Provider,{value:{user:e,loading:r,login:i,logout:l,updateUser:c}},t)},Hi=()=>q.useContext(K5);var X5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R0=m.createContext&&m.createContext(X5),Kx=["attr","size","title"];function Xx(t,e){if(t==null)return{};var n=Jx(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jx(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function F0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F0(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qx(t,e,n){return e=Zx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zx(t){var e=e3(t,"string");return typeof e=="symbol"?e:e+""}function e3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J5(t){return t&&t.map((e,n)=>m.createElement(e.tag,Kf({key:n},e.attr),J5(e.child)))}function ro(t){return e=>m.createElement(t3,Gf({attr:Kf({},t.attr)},e),J5(t.child))}function t3(t){var e=n=>{var{attr:r,size:a,title:i}=t,l=Xx(t,Kx),c=a||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),m.createElement("svg",Gf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:u,style:Kf(Kf({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&m.createElement("title",null,i),t.children)};return R0!==void 0?m.createElement(R0.Consumer,null,n=>e(n)):e(X5)}function n3(t){return ro({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function sp(t){return ro({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(t)}function Q5(t){return ro({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function r3(t){return ro({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Z5(t){return ro({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ev(t){return ro({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function a3(t){return ro({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function tv(t){return ro({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function o3(t){return ro({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function i3(t){return ro({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function nv(t){return ro({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function rv(t){return ro({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function lp(t){return ro({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function av(t){return ro({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const s3=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(""),[a,i]=q.useState(""),[l,c]=q.useState(!1),{login:u}=Hi(),d=ta();q.useEffect(()=>{(async()=>{try{const w=await fetch("http://localhost:3001/auth/me",{credentials:"include"});if(w.ok){const g=await w.json();u(g),d("/home")}}catch{console.log("Usurio no autenticado")}})()},[u,d]);const h=async y=>{y.preventDefault(),i("");try{const w=await fetch("http://localhost:3001/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:t,password:n,rememberMe:l})}),g=await w.json();if(!w.ok)throw new Error(g.error||"Erro ao tentar fazer login.");console.log("Login realizado com sucesso!",g),u({userId:g.userId,nome:g.nome,cargo:g.cargo,email:t}),d("/home")}catch(w){console.error("Erro no login:",w.message),i(w.message)}};return m.createElement("div",{className:"App"},m.createElement("div",{className:"container"},m.createElement("form",{onSubmit:h},m.createElement("h1",null,"Acesse o sistema"),a&&m.createElement("p",{className:"error-message"},a),m.createElement("div",{className:"input-field"},m.createElement("div",{className:"icon-container"},m.createElement(lp,{className:"icon"})),m.createElement("input",{type:"email",placeholder:"E-mail",required:!0,onChange:y=>e(y.target.value)})),m.createElement("div",{className:"input-field"},m.createElement("div",{className:"icon-container"},m.createElement(a3,{className:"icon"})),m.createElement("input",{type:"password",placeholder:"Senha",required:!0,onChange:y=>r(y.target.value)})),m.createElement("div",{className:"recall-forget"},m.createElement("label",null,m.createElement("input",{type:"checkbox",checked:l,onChange:y=>c(y.target.checked)}),"Lembre de mim"),m.createElement(_s,{to:"/recuperar-senha"},"Esqueceu a senha?")),m.createElement("button",{type:"submit"},"Entrar"))))},fh="/assets/bf-fundo-trasnparente-pequeno-YNqrBazK8rUMjRGQ-B_3HSrGJ.avif",pm=[{path:"alunos",icon:m.createElement(nv,null),label:"Alunos"},{path:"planejamentos",icon:m.createElement(sp,null),label:"Planejamentos"},{path:"planejamentos-iso",icon:m.createElement(sp,null),label:"Planejamentos ISO",badge:"Novo"},{path:"turmas",icon:m.createElement(Q5,null),label:"Turmas"},{path:"responsaveis",icon:m.createElement(av,null),label:"Responsveis"},{path:"pre-matricula",icon:m.createElement(ev,null),label:"Pr-Matrcula"},{path:"cadastrar-aluno",icon:m.createElement(rv,null),label:"Cadastrar Aluno"},{path:"cadastrar-turma",icon:m.createElement(tv,null),label:"Cadastrar Turma"}],l3=({isMenuOpen:t,onToggleMenu:e,onCloseMenu:n})=>{const{user:r}=Hi(),i=(()=>{if(!r)return pm;const l=["alunos","pre-matricula","cadastrar-aluno","cadastrar-turma"];return r.cargo&&r.cargo.toLowerCase()==="professor"?pm.filter(c=>!l.includes(c.path)):pm})();return m.createElement(m.Fragment,null,m.createElement("button",{className:`menu-toggle ${t?"menu-open":""}`,onClick:e,"aria-label":"Abrir menu de navegao",title:"Abrir menu"},m.createElement(n3,null)),t&&m.createElement("div",{className:"menu-overlay",onClick:n}),m.createElement("aside",{className:`sidebar ${t?"sidebar-open":""}`},m.createElement("div",{className:"sidebar-header"},m.createElement(_s,{to:"/home",className:"sidebar-header-link",onClick:n},m.createElement("img",{src:fh,alt:"Portal Primavera Waldorf",className:"sidebar-logo"})),m.createElement("button",{className:"close-menu",onClick:n,"aria-label":"Fechar menu de navegao",title:"Fechar menu"},m.createElement(o3,null))),m.createElement("nav",{className:"sidebar-nav"},m.createElement("ul",null,i.map(l=>m.createElement("li",{key:l.path},m.createElement(ip,{to:l.path,className:({isActive:c})=>c?"active":"",onClick:n,end:l.path==="/home"},l.icon,m.createElement("span",null,l.label),l.badge&&m.createElement("span",{className:"badge-novo"},l.badge)))))),m.createElement("div",{className:"sidebar-footer"},r&&r.cargo&&r.cargo.toLowerCase()!=="professor"&&m.createElement(ip,{to:"configuracoes",className:({isActive:l})=>l?"active":"",onClick:n},m.createElement(Z5,null)," ",m.createElement("span",null,"Configuraes")))))},c3=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(0),[a,i]=q.useState(!1),[l,c]=q.useState(!1),u=q.useRef(null),d=ta(),h=async()=>{console.log(" [FRONTEND] Iniciando busca de notificaes...");try{const R=await fetch("http://localhost:3001/notificacoes",{credentials:"include"});if(console.log(" [FRONTEND] Response status:",R.status),console.log(" [FRONTEND] Response ok:",R.ok),R.status===401){console.warn(" [FRONTEND] Usurio no autenticado - faa login novamente"),e([]),r(0);return}if(R.ok){const I=await R.json();console.log(" [FRONTEND] Dados recebidos:",I),console.log(" [FRONTEND] Total de notificaes:",I.length),console.log(" [FRONTEND] Tipos:",I.map(ee=>ee.tipo).join(", ")),console.log(" [FRONTEND] Primeira notificao:",I[0]),e(I),r(I.filter(ee=>!ee.lida).length),console.log(" [FRONTEND] Estado atualizado - no lidas:",I.filter(ee=>!ee.lida).length)}else console.error(" [FRONTEND] Erro na resposta:",R.status,R.statusText)}catch(R){console.error(" [FRONTEND] Erro ao buscar notificaes:",R),console.error(" [FRONTEND] Stack:",R.stack)}},y=async()=>{try{const R=await fetch("http://localhost:3001/notificacoes/nao-lidas/count",{credentials:"include"});if(R.status===401){console.warn(" [FRONTEND] Usurio no autenticado - contador zerado"),r(0);return}if(R.ok){const I=await R.json();r(I.count)}}catch(R){console.error("Erro ao buscar contador:",R)}},w=async R=>{try{(await fetch(`http://localhost:3001/notificacoes/${R}/ler`,{method:"PATCH",credentials:"include"})).ok&&h()}catch(I){console.error("Erro ao marcar notificao:",I)}},g=async()=>{try{c(!0),(await fetch("http://localhost:3001/notificacoes/ler-todas",{method:"PATCH",credentials:"include"})).ok&&h()}catch(R){console.error("Erro ao marcar todas:",R)}finally{c(!1)}},N=async(R,I)=>{I.stopPropagation();try{(await fetch(`http://localhost:3001/notificacoes/${R}`,{method:"DELETE",credentials:"include"})).ok&&h()}catch(ee){console.error("Erro ao deletar notificao:",ee)}},_=R=>{R.lida||w(R.id),R.planejamento_id&&(i(!1),d("/home/planejamentos"))},S=R=>{const I=new Date(R),U=Math.floor((new Date-I)/1e3);return U<60?"Agora":U<3600?`${Math.floor(U/60)}min`:U<86400?`${Math.floor(U/3600)}h`:U<604800?`${Math.floor(U/86400)}d`:I.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},A=R=>{switch(R){case"anexo_adicionado":return"";case"anexo_deletado":return"";case"comentario":return"";case"comentario_deletado":return"";case"aprovado":return"";case"reprovado":return"";case"planejamento":return"";default:return""}};q.useEffect(()=>{console.log(" [FRONTEND] Componente Notificacoes montado!"),console.log(" [FRONTEND] Estado aberto:",a),h(),y();const R=setInterval(()=>{console.log(" [FRONTEND] Atualizando contador (30s)"),y(),a&&(console.log(" [FRONTEND] Dropdown aberto - atualizando notificaes"),h())},3e4);return()=>{console.log(" [FRONTEND] Componente Notificacoes desmontado"),clearInterval(R)}},[a]),q.useEffect(()=>{const R=I=>{u.current&&!u.current.contains(I.target)&&i(!1)};return a&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[a]);const O=()=>{console.log(" [FRONTEND] Clique no sino - estado anterior:",a),i(!a),a?console.log(" [FRONTEND] Fechando dropdown"):(console.log(" [FRONTEND] Abrindo dropdown - buscando notificaes..."),h())};return console.log(" [FRONTEND RENDER] Estado atual:",{notificacoes:t.length,naoLidas:n,aberto:a}),m.createElement("div",{className:"notificacoes-container",ref:u},m.createElement("button",{className:"notificacoes-button",onClick:O,"aria-label":`Notificaes${n>0?` - ${n} no lidas`:""}`,title:`${n>0?`${n} notificaes no lidas`:"Sem notificaes"}`},m.createElement("span",{className:"sino-icon"},""),n>0&&m.createElement("span",{className:"notificacoes-badge"},n)),a&&m.createElement("div",{className:"notificacoes-dropdown"},m.createElement("div",{className:"notificacoes-header"},m.createElement("h3",null,"Notificaes"),n>0&&m.createElement("button",{className:"btn-marcar-todas",onClick:g,disabled:l,"aria-label":"Marcar todas as notificaes como lidas",title:"Marcar todas como lidas"},l?"...":"Marcar todas como lidas")),m.createElement("div",{className:"notificacoes-lista"},t.length===0?m.createElement("div",{className:"notificacoes-vazio"},m.createElement("p",null," Nenhuma notificao")):t.map(R=>m.createElement("div",{key:R.id,className:`notificacao-item ${R.lida?"":"nao-lida"}`,onClick:()=>_(R)},m.createElement("div",{className:"notificacao-icone"},A(R.tipo)),m.createElement("div",{className:"notificacao-conteudo"},m.createElement("p",{className:"notificacao-mensagem"},R.mensagem),m.createElement("span",{className:"notificacao-tempo"},S(R.created_at))),m.createElement("button",{className:"notificacao-delete",onClick:I=>N(R.id,I),"aria-label":`Deletar notificao: ${R.mensagem.substring(0,50)}...`,title:"Deletar notificao"},""))))))},u3=()=>{const{user:t,logout:e}=Hi(),n=ta(),[r,a]=q.useState(!1),i=()=>{e(),n("/")},l=()=>{a(!r)},c=()=>{a(!1)};return m.createElement("div",{className:"dashboard-container"},m.createElement(l3,{isMenuOpen:r,onToggleMenu:l,onCloseMenu:c}),m.createElement("main",{className:`main-content ${r?"sidebar-open":""}`},m.createElement("header",{className:"top-header"},m.createElement("div",{className:"user-info"},m.createElement(c3,null),m.createElement(_s,{to:"/home/perfil",className:"profile-link",title:`${t?.nome||"Usurio"} - ${t?.cargo||""}`},m.createElement("div",{className:"profile-pic"},t?.foto_perfil?m.createElement("img",{src:`http://localhost:3001${t.foto_perfil}`,alt:"Foto de perfil",className:"profile-image"}):m.createElement("div",{className:"profile-placeholder"},t?.nome?t.nome.charAt(0).toUpperCase():"U"))),m.createElement("button",{className:"logout-button",onClick:i,title:"Sair do sistema"},"Sair"))),m.createElement("div",{className:"page-content"},m.createElement(cx,null))))},d3=()=>{const{user:t}=Hi(),e=[{path:"alunos",icon:m.createElement(nv,null),label:"Alunos",description:"Gerenciar alunos da escola"},{path:"planejamentos",icon:m.createElement(sp,null),label:"Planejamentos",description:"Criar e gerenciar planejamentos"},{path:"turmas",icon:m.createElement(Q5,null),label:"Turmas",description:"Gerenciar turmas e aulas"},{path:"responsaveis",icon:m.createElement(av,null),label:"Responsveis",description:"Gerenciar responsveis pelos alunos"},{path:"pre-matricula",icon:m.createElement(ev,null),label:"Pr-Matrcula",description:"Processo de pr-matrcula"},{path:"cadastrar-aluno",icon:m.createElement(rv,null),label:"Cadastrar Aluno",description:"Cadastrar novos alunos"},{path:"cadastrar-turma",icon:m.createElement(tv,null),label:"Cadastrar Turma",description:"Criar novas turmas"},{path:"configuracoes",icon:m.createElement(Z5,null),label:"Configuraes",description:"Configuraes do sistema"}],r=(()=>{if(!t)return e;const i=["alunos","pre-matricula","cadastrar-aluno","cadastrar-turma","configuracoes"];return t.cargo&&t.cargo.toLowerCase()==="professor"?e.filter(l=>!i.includes(l.path)):e})(),a=()=>t?m.createElement("div",{className:"profile-card"},m.createElement("div",{className:"profile-card-header"},t.foto_perfil?m.createElement("img",{src:`http://localhost:3001${t.foto_perfil}`,alt:"Foto do Perfil",className:"profile-photo"}):m.createElement("div",{className:"profile-photo-placeholder"},m.createElement("span",null,t.nome?t.nome.charAt(0):"?")),m.createElement("h3",null,t.nome),m.createElement("p",null,t.cargo)),m.createElement("div",{className:"profile-card-body"},m.createElement("p",null,m.createElement("strong",null,"Email:")," ",t.email)),m.createElement("div",{className:"profile-card-footer"},m.createElement(_s,{to:"/home/perfil",className:"profile-card-link"},"Ver/Editar Perfil Completo"))):m.createElement("div",{className:"profile-card"},m.createElement("p",null,"Carregando perfil..."));return m.createElement("div",{className:"home-page-container"},m.createElement("div",{className:"welcome-section"},m.createElement("h1",{className:"welcome-title"},"Bem-vindo ao Portal Primavera Waldorf, ",t?.nome||"Usurio","!"),m.createElement("p",{className:"welcome-text"},"Selecione uma das funcionalidades abaixo para comear a navegar."),m.createElement("p",{className:"welcome-text"},"Este  o seu painel de controle central, onde voc pode acessar rapidamente as principais funcionalidades do sistema.")),m.createElement("div",{className:"main-content-wrapper"},m.createElement("div",{className:"features-section"},m.createElement("div",{className:"features-grid"},r.map(i=>m.createElement(_s,{key:i.path,to:i.path,className:"feature-card"},m.createElement("div",{className:"feature-icon"},i.icon),m.createElement("div",{className:"feature-content"},m.createElement("h3",{className:"feature-title"},i.label),m.createElement("p",{className:"feature-description"},i.description)))))),m.createElement("div",{className:"profile-section"},m.createElement(a,null))))},Cn=({label:t,hint:e,type:n="text",value:r,onChange:a,name:i,required:l=!1,placeholder:c="",disabled:u=!1,...d})=>{const[h,y]=q.useState(!1);return m.createElement("div",{className:"input-with-hint-container"},m.createElement("label",null,t," ",l&&m.createElement("span",{className:"required"},"*"),e&&m.createElement("span",{className:"hint-icon",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onClick:()=>y(!h)},"",h&&m.createElement("span",{className:"hint-tooltip"},e))),m.createElement("input",{type:n,name:i,value:r,onChange:a,required:l,placeholder:c,disabled:u,...d}))},Pa=({label:t,hint:e,value:n,onChange:r,name:a,required:i=!1,disabled:l=!1,children:c,...u})=>{const[d,h]=q.useState(!1);return m.createElement("div",{className:"input-with-hint-container"},m.createElement("label",null,t," ",i&&m.createElement("span",{className:"required"},"*"),e&&m.createElement("span",{className:"hint-icon",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:()=>h(!d)},"",d&&m.createElement("span",{className:"hint-tooltip"},e))),m.createElement("select",{name:a,value:n,onChange:r,required:i,disabled:l,...u},c))},ov=({label:t,hint:e,value:n,onChange:r,name:a,required:i=!1,disabled:l=!1,placeholder:c="",rows:u=4,...d})=>{const[h,y]=q.useState(!1);return m.createElement("div",{className:"input-with-hint-container"},m.createElement("label",null,t," ",i&&m.createElement("span",{className:"required"},"*"),e&&m.createElement("span",{className:"hint-icon",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onClick:()=>y(!h)},"",h&&m.createElement("span",{className:"hint-tooltip"},e))),m.createElement("textarea",{name:a,value:n,onChange:r,required:i,disabled:l,placeholder:c,rows:u,...d}))},Xf=t=>t?t.replace(/\D/g,""):"",f3=t=>{const e=Xf(t);if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let n=0;for(let a=0;a<9;a++)n+=parseInt(e.charAt(a))*(10-a);let r=11-n%11;if(r>=10&&(r=0),r!==parseInt(e.charAt(9)))return!1;n=0;for(let a=0;a<10;a++)n+=parseInt(e.charAt(a))*(11-a);return r=11-n%11,r>=10&&(r=0),r===parseInt(e.charAt(10))},h3=t=>{const e=Xf(t);return e.length<=3?e:e.length<=6?e.replace(/(\d{3})(\d{1,3})/,"$1.$2"):e.length<=9?e.replace(/(\d{3})(\d{3})(\d{1,3})/,"$1.$2.$3"):e.replace(/(\d{3})(\d{3})(\d{3})(\d{1,2})/,"$1.$2.$3-$4")},iv=({onResponsavelFound:t,onResponsavelNotFound:e,initialData:n={}})=>{const[r,a]=q.useState(n.cpf_responsavel||""),[i,l]=q.useState(!1),[c,u]=q.useState(null),[d,h]=q.useState(""),[y,w]=q.useState(!0);q.useEffect(()=>{const S=Xf(r);if(console.log(" [ResponsavelCPF] useEffect - CPF digitado:",r),console.log(" [ResponsavelCPF] useEffect - CPF limpo:",S,"Tamanho:",S.length),S.length===11){const A=f3(S);console.log(" [ResponsavelCPF] CPF completo - Vlido?",A),A?(g(S),w(!0),h("")):(w(!1),h("CPF invlido"),u(null),console.log(" [ResponsavelCPF] CPF invlido segundo algoritmo de validao"))}else u(null),h(""),w(!0),r&&console.log(" [ResponsavelCPF] CPF incompleto, aguardando digitao...")},[r]);const g=async S=>{l(!0),h(""),console.log(" [ResponsavelCPF] Buscando CPF:",S);try{const A=`http://localhost:3001/responsaveis/buscar-por-cpf/${S}`;console.log(" [ResponsavelCPF] URL da requisio:",A);const O=await fetch(A,{credentials:"include"});if(console.log(" [ResponsavelCPF] Status da resposta:",O.status),O.ok){const R=await O.json();console.log(" [ResponsavelCPF] Responsvel encontrado:",R),u(R),t&&t(R)}else if(O.status===404)console.log(" [ResponsavelCPF] Responsvel no encontrado - CPF no cadastrado"),u(null),e&&e({cpf_responsavel:S});else{const R=await O.text();throw console.error(" [ResponsavelCPF] Erro na busca:",O.status,R),new Error("Erro ao buscar responsvel")}}catch(A){console.error(" [ResponsavelCPF] Erro na requisio:",A),h("Erro ao buscar responsvel")}finally{l(!1)}},N=S=>{const A=S.target.value,O=h3(A);a(O)},_=()=>{a(""),u(null),h(""),w(!0),e&&e({cpf_responsavel:""})};return m.createElement("div",{className:"responsavel-cpf-container"},m.createElement("div",{className:"cpf-input-group"},m.createElement(Cn,{label:m.createElement(m.Fragment,null,"CPF do Responsvel",i&&m.createElement("span",{className:"searching-indicator"},"  Buscando...")),hint:"Digite o CPF do responsvel. Se j cadastrado, os dados sero preenchidos automaticamente. Formato: 000.000.000-00",type:"text",value:r,onChange:N,placeholder:"000.000.000-00",maxLength:14,className:`cpf-input ${y?"":"invalid"} ${c?"found":""}`,required:!0}),r&&m.createElement("button",{type:"button",className:"clear-cpf-btn",onClick:_,title:"Limpar CPF",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#6c757d"}},""),!y&&m.createElement("small",{className:"error-message"}," ",d)),c&&m.createElement("div",{className:"responsavel-encontrado"},m.createElement("div",{className:"responsavel-header"},m.createElement("span",{className:"check-icon"},""),m.createElement("h4",null,"Responsvel Encontrado!")),m.createElement("div",{className:"responsavel-info"},m.createElement("div",{className:"info-row"},m.createElement("strong",null,"Nome:"),m.createElement("span",null,c.nome_responsavel)),m.createElement("div",{className:"info-row"},m.createElement("strong",null,"Telefone:"),m.createElement("span",null,c.telefone)),c.email&&m.createElement("div",{className:"info-row"},m.createElement("strong",null,"Email:"),m.createElement("span",null,c.email)),c.outro_telefone&&m.createElement("div",{className:"info-row"},m.createElement("strong",null,"Outro Telefone:"),m.createElement("span",null,c.outro_telefone))),c.alunos&&c.alunos.length>0&&m.createElement("div",{className:"alunos-vinculados"},m.createElement("strong",null,"Alunos j vinculados a este responsvel:"),m.createElement("ul",null,c.alunos.map((S,A)=>m.createElement("li",{key:A}," ",S.nome_aluno,S.turma&&` - ${S.turma}`)))),m.createElement("div",{className:"responsavel-actions"},m.createElement("button",{type:"button",className:"btn-use-responsavel",onClick:()=>{}}," Usar este responsvel"),m.createElement("button",{type:"button",className:"btn-change-cpf",onClick:_}," Buscar outro CPF"))),r&&Xf(r).length===11&&!c&&!i&&y&&m.createElement("div",{className:"responsavel-nao-encontrado"},m.createElement("div",{className:"info-header"},m.createElement("span",{className:"info-icon"},""),m.createElement("h4",null,"Novo Responsvel")),m.createElement("p",null,"Este CPF no est cadastrado. Preencha os dados do responsvel abaixo.")))},sv=({alunoData:t,turmas:e,onClose:n,onSave:r})=>{const[a,i]=q.useState(t),[l,c]=q.useState(!1),[u,d]=q.useState(""),[h,y]=q.useState(""),[w,g]=q.useState(!1),[N,_]=q.useState({familiaId:null,cpf:"",data:null}),S=ta(),A=T=>{if(!T)return"";const Y=T.replace(/\D/g,"");return Y.length===11?`(${Y.slice(0,2)}) ${Y.slice(2,7)}-${Y.slice(7)}`:Y.length===10?`(${Y.slice(0,2)}) ${Y.slice(2,6)}-${Y.slice(6)}`:T};q.useEffect(()=>{i(t)},[t]);const O=T=>{const{name:Y,value:F}=T.target;i(M=>({...M,[Y]:F}))},R=async T=>{if(!T)return;if(!T.type.startsWith("image/")){d("Por favor, selecione apenas arquivos de imagem."),y("error");return}if(T.size>5*1024*1024){d("A imagem deve ter no mximo 5MB."),y("error");return}c(!0),d(""),y("");const Y=new FormData;Y.append("alunoPhoto",T);try{const F=await fetch(`http://localhost:3001/alunos/${t.aluno_id}/upload-photo`,{method:"POST",body:Y,credentials:"include"}),M=await F.json();F.ok?(d(M.message),y("success"),i(j=>({...j,foto_perfil:M.imageUrl}))):(d(M.error||"Erro ao fazer upload da foto."),y("error"))}catch{d("Erro de conexo. Tente novamente."),y("error")}finally{c(!1)}},I=async()=>{if(a.foto_perfil&&window.confirm("Tem certeza que deseja remover a foto do aluno?")){c(!0),d(""),y("");try{const T=await fetch(`http://localhost:3001/alunos/${t.aluno_id}/remove-photo`,{method:"DELETE",credentials:"include"}),Y=await T.json();T.ok?(d(Y.message),y("success"),i(F=>({...F,foto_perfil:null}))):(d(Y.error||"Erro ao remover a foto."),y("error"))}catch{d("Erro de conexo. Tente novamente."),y("error")}finally{c(!1)}}},ee=T=>{T.preventDefault();const Y={...a,turma_id:a.turma_id!==void 0&&a.turma_id!==""?Number(a.turma_id):a.turma_id};r(Y)},U=async()=>{try{const T=await fetch(`http://localhost:3001/alunos/${t.aluno_id}/detalhes`,{credentials:"include"});if(T.ok){const Y=await T.json();i(Y)}}catch(T){console.error("Erro ao recarregar detalhes do aluno:",T)}},te=async()=>{if(N.familiaId)try{const T=await fetch(`http://localhost:3001/alunos/${t.aluno_id}/vincular-responsavel`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({familia_id:N.familiaId})}),Y=await T.json();if(!T.ok)throw new Error(Y.error||"Falha ao vincular responsvel");d("Responsvel vinculado com sucesso."),y("success"),await U(),g(!1)}catch(T){d(T.message),y("error")}},X=async()=>{if(!N.cpf){d("Informe um CPF vlido do responsvel para criar e vincular."),y("error");return}try{const T=await fetch("http://localhost:3001/responsaveis",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome_completo:a.nome_responsavel,email:a.email,telefone:a.telefone,outro_telefone:a.outro_telefone,cpf:N.cpf})}),Y=await T.json();if(!T.ok)throw new Error(Y.error||"Falha ao criar responsvel");_(j=>({...j,familiaId:Y.id}));const F=await fetch(`http://localhost:3001/alunos/${t.aluno_id}/vincular-responsavel`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({familia_id:Y.id})}),M=await F.json();if(!F.ok)throw new Error(M.error||"Falha ao vincular novo responsvel");d("Novo responsvel criado e vinculado com sucesso."),y("success"),await U(),g(!1)}catch(T){d(T.message),y("error")}};return m.createElement("div",{className:"modal-overlay",onClick:n},m.createElement("div",{className:"modal-content modal-large",onClick:T=>T.stopPropagation()},m.createElement("div",{className:"modal-header",style:{alignItems:"center"}},m.createElement("h2",null," Editar Aluno"),m.createElement("div",{style:{marginLeft:"auto",display:"flex",gap:"0.5rem"}},m.createElement("button",{type:"button",className:"btn btn-light",onClick:()=>S(`/home/alunos/perfil/${t.aluno_id}`),title:"Visualizar perfil do aluno"}," Ver Perfil"),m.createElement("button",{type:"button",className:"btn btn-light",onClick:()=>g(T=>!T),title:"Vincular um novo responsvel"}," Vincular Responsvel"),m.createElement("button",{className:"modal-close-button",onClick:n},""))),m.createElement("div",{className:"modal-body"},m.createElement("form",{onSubmit:ee},u&&m.createElement("div",{className:`message ${h}`},h==="success"?"":""," ",u),m.createElement("div",{className:"photo-upload-section full-width"},m.createElement("div",{className:"photo-preview-container"},m.createElement("div",{className:"photo-preview"},a.foto_perfil?m.createElement("img",{src:`http://localhost:3001${a.foto_perfil}`,alt:"Foto do aluno"}):m.createElement("div",{className:"photo-placeholder"},a.nome_aluno?a.nome_aluno.charAt(0).toUpperCase():"A"))),m.createElement("div",{className:"photo-actions-container"},m.createElement("h3",null,"Foto de Perfil"),m.createElement("p",null,"Adicione ou altere a foto do aluno. Tamanho mximo: 5MB. Formatos aceitos: JPG, PNG, GIF."),m.createElement("div",{className:"photo-buttons"},m.createElement("label",{htmlFor:"aluno-photo-upload",className:`photo-upload-btn ${l?"disabled":""}`},l?m.createElement(m.Fragment,null,m.createElement("span",{className:"loading-spinner"})," Enviando..."):m.createElement(m.Fragment,null," Alterar Foto")),a.foto_perfil&&m.createElement("button",{type:"button",className:"photo-remove-btn",onClick:I,disabled:l}," Remover Foto"),m.createElement("input",{type:"file",id:"aluno-photo-upload",accept:"image/*",style:{display:"none"},disabled:l,onChange:T=>{const Y=T.target.files[0];Y&&R(Y),T.target.value=""}})))),m.createElement("div",{className:"form-section mt-3"},m.createElement("h3",{className:"form-section-title"}," Dados do Aluno"),m.createElement("div",{className:"form-grid grid-2-cols"},m.createElement("div",{className:"form-group full-width"},m.createElement(Cn,{label:"Nome Completo",hint:"Nome completo do aluno conforme consta no documento de identidade",name:"nome_aluno",type:"text",value:a.nome_aluno||"",onChange:O,required:!0,placeholder:"Digite o nome completo do aluno"})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Data de Nascimento",hint:"Data de nascimento do aluno",type:"date",name:"data_nascimento",value:a.data_nascimento?a.data_nascimento.split("T")[0]:"",onChange:O,required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Pa,{label:"Situao Financeira",hint:"Situao de pagamento: Integral (valor total) ou Bolsista (possui bolsa/desconto)",name:"status_pagamento",value:a.status_pagamento||"Integral",onChange:O},m.createElement("option",{value:"Integral"},"Integral"),m.createElement("option",{value:"Bolsista"},"Bolsista"))),m.createElement("div",{className:"form-group full-width"},m.createElement(ov,{label:"Informaes de Sade",hint:"Alergias, medicamentos em uso, restries alimentares ou condies mdicas relevantes",name:"informacoes_saude",value:a.informacoes_saude||"",onChange:O,placeholder:"Alergias, medicamentos, condies especiais, etc.",rows:3})))),m.createElement("div",{className:"form-section mt-3"},m.createElement("h3",{className:"form-section-title"}," Informaes de Turma"),m.createElement("div",{className:"form-grid grid-2-cols"},m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"turma_atual"},"Turma Atual"),m.createElement("input",{id:"turma_atual",type:"text",value:a.nome_turma?`${a.nome_turma} (${a.periodo?.replace(/^\w/,T=>T.toUpperCase())||""}) - ${a.ano_letivo||""}`:"Nenhuma turma associada",disabled:!0})),m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"turma_id"},"Alterar Turma"),m.createElement("select",{id:"turma_id",name:"turma_id",value:a.turma_id!==void 0&&a.turma_id!==null?String(a.turma_id):"",onChange:O},m.createElement("option",{value:""},"Manter como est"),e?.map(T=>m.createElement("option",{key:T.id,value:T.id},T.nome_turma," (",T.periodo,")")))))),m.createElement("div",{className:"form-section mt-3"},m.createElement("h3",{className:"form-section-title"}," Dados do Responsvel"),w&&m.createElement("div",{className:"form-group full-width",style:{border:"1px dashed #ccc",padding:"12px",borderRadius:8,marginBottom:12}},m.createElement("h4",{style:{marginTop:0,marginBottom:8}},"Vincular novo responsvel"),m.createElement("p",{style:{marginTop:0,color:"#555"}},'Busque por CPF para usar um responsvel existente, ou preencha os campos abaixo e clique em "Criar e Vincular".'),m.createElement(iv,{onResponsavelFound:T=>{_({familiaId:T.id,cpf:T.cpf,data:T})},onResponsavelNotFound:({cpf_responsavel:T})=>{_({familiaId:null,cpf:T,data:null})}}),m.createElement("div",{style:{display:"flex",gap:8,marginTop:10}},m.createElement("button",{type:"button",className:"btn btn-primary",disabled:!N.familiaId,onClick:te}," Vincular responsvel existente"),m.createElement("button",{type:"button",className:"btn btn-secondary",onClick:X}," Criar e Vincular"))),m.createElement("div",{className:"form-grid grid-2-cols"},m.createElement("div",{className:"form-group full-width"},m.createElement(Cn,{label:"Nome do Responsvel",hint:"Nome completo do responsvel legal pelo aluno",name:"nome_responsavel",type:"text",value:a.nome_responsavel||"",onChange:O,required:!0,placeholder:"Nome completo do responsvel"})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Telefone Principal",hint:"Telefone principal para contato de emergncia. Formato: (00) 00000-0000",type:"tel",name:"telefone",value:a.telefone||"",onChange:O,required:!0,placeholder:"(00) 00000-0000"}),a.telefone&&m.createElement("small",{style:{color:"#2a5298",marginTop:"0.25rem"}}," ",A(a.telefone))),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Telefone Adicional",hint:"Telefone secundrio para contato alternativo (opcional)",type:"tel",name:"outro_telefone",value:a.outro_telefone||"",onChange:O,placeholder:"(00) 00000-0000 (opcional)"}),a.outro_telefone&&a.outro_telefone.trim()&&m.createElement("small",{style:{color:"#28a745",marginTop:"0.25rem"}}," ",A(a.outro_telefone))),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Email",hint:"Email do responsvel para comunicaes e notificaes importantes",type:"email",name:"email",value:a.email||"",onChange:O,required:!0,placeholder:"email@exemplo.com"})))))),m.createElement("div",{className:"modal-footer"},m.createElement("button",{type:"button",className:"btn btn-secondary",onClick:n},"Cancelar"),m.createElement("button",{type:"submit",className:"btn btn-primary",onClick:ee,disabled:l},l?m.createElement(m.Fragment,null,m.createElement("span",{className:"loading-spinner"})," Salvando..."):m.createElement(m.Fragment,null," Salvar Alteraes")))))},m3=({aluno:t,onClose:e,onAssign:n})=>{const[r,a]=q.useState([]),[i,l]=q.useState(!0),[c,u]=q.useState("");q.useEffect(()=>{(async()=>{try{const y=await fetch("http://localhost:3001/turmas",{credentials:"include"});if(!y.ok)throw new Error("Falha ao buscar turmas.");const w=await y.json();a(w)}catch(y){console.error(y)}finally{l(!1)}})()},[]);const d=h=>{h.preventDefault(),n(t.id,c)};return m.createElement("div",{className:"modal-overlay",onClick:e},m.createElement("div",{className:"modal-content",onClick:h=>h.stopPropagation()},m.createElement("div",{className:"modal-header"},m.createElement("h2",null,"Matricular Aluno em Turma"),m.createElement("button",{className:"modal-close-button",onClick:e},"")),m.createElement("form",{onSubmit:d,className:"aluno-form"},m.createElement("p",null,"Selecione a turma para matricular"," ",m.createElement("strong",null,t.nome_completo),":"),m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"turma-select"},"Turmas Disponveis"),m.createElement("select",{id:"turma-select",value:c,onChange:h=>u(h.target.value),required:!0},m.createElement("option",{value:"",disabled:!0},"Selecione uma turma..."),i?m.createElement("option",{disabled:!0},"Carregando turmas..."):r.map(h=>m.createElement("option",{key:h.id,value:h.id},h.nome_turma," (",h.periodo,")")))),m.createElement("div",{className:"modal-actions",style:{textAlign:"right",marginTop:"1rem"}},m.createElement("button",{type:"submit",className:"submit-button",disabled:!c||i},"Matricular e Ativar")))))},p3=()=>{const[t,e]=q.useState([]),[n,r]=q.useState([]),[a,i]=q.useState(!0),[l,c]=q.useState(null),u=ta(),[d,h]=q.useState(!1),[y,w]=q.useState(null),[g,N]=q.useState(!1),[_,S]=q.useState(null),[A,O]=q.useState({nome:"",pagamento:"",turmaId:"",status:""}),R=async()=>{i(!0),c(null);try{const[j,D,$]=await Promise.all([fetch("http://localhost:3001/alunos/ativos",{credentials:"include"}),fetch("http://localhost:3001/alunos/inativos",{credentials:"include"}),fetch("http://localhost:3001/turmas",{credentials:"include"})]);if(!j.ok||!D.ok||!$.ok)throw new Error("Falha ao buscar dados do servidor.");const ne=await j.json(),ce=await D.json(),re=await $.json();e([...ne,...ce]),r(re)}catch(j){c(j.message)}finally{i(!1)}};q.useEffect(()=>{R()},[]);const I=q.useMemo(()=>t.filter(j=>{const D=j.nome_completo.toLowerCase().includes(A.nome.toLowerCase()),$=!A.pagamento||j.status_pagamento===A.pagamento,ne=!A.turmaId||j.turma_id!=null&&String(j.turma_id)===A.turmaId,ce=!A.status||j.status_aluno==A.status;return D&&$&&ne&&ce}).sort((j,D)=>j.nome_completo.localeCompare(D.nome_completo,"pt-BR")),[t,A]),ee=j=>{const{name:D,value:$}=j.target;O(ne=>({...ne,[D]:$}))},U=()=>{O({nome:"",pagamento:"",turmaId:"",status:""})},te=j=>{if(!j)return"N/A";const D=new Date(j);return new Date(D.getTime()+D.getTimezoneOffset()*6e4).toLocaleDateString("pt-BR")},X=async j=>{try{const D=await fetch(`http://localhost:3001/alunos/${j}/detalhes`,{credentials:"include"});if(!D.ok)throw new Error("Falha ao buscar detalhes do aluno.");const $=await D.json();w($),h(!0)}catch(D){console.error(`Erro: ${D.message}`)}},T=async j=>{try{const D=await fetch(`http://localhost:3001/alunos/${j.aluno_id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)}),$=await D.json();if(!D.ok)throw new Error($.error);h(!1),w(null),R()}catch(D){console.error(`Erro ao salvar: ${D.message}`)}},Y=j=>{S(j),N(!0)},F=async(j,D)=>{if(!D){console.error("Por favor, selecione uma turma.");return}try{const $=await fetch(`http://localhost:3001/alunos/${j}/matricular`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({turmaId:D})}),ne=await $.json();if(!$.ok)throw new Error(ne.error||"Falha ao matricular o aluno.");N(!1),S(null),R()}catch($){console.error(`Erro: ${$.message}`)}},M=async j=>{if(window.confirm("Tem certeza que deseja excluir este aluno? A ao no pode ser desfeita."))try{const $=await fetch(`http://localhost:3001/alunos/${j}`,{method:"DELETE",credentials:"include"});if(!$.ok){const ne=await $.json();throw new Error(ne.error||"Falha ao excluir o aluno.")}R()}catch($){console.error("Erro ao excluir aluno:",$)}};return m.createElement("div",{className:"alunos-page-container"},m.createElement("div",{className:"alunos-header"},m.createElement("h1",null,"Alunos"),m.createElement("button",{onClick:()=>u("/home/cadastrar-aluno"),className:"add-aluno-button"},"+ Cadastrar Aluno")),m.createElement("div",{className:"filters-container"},m.createElement("div",{className:"filter-item"},m.createElement(Cn,{id:"filter-nome-aluno",label:"Nome do Aluno",hint:"Digite o nome ou parte do nome do aluno para filtrar a lista",type:"text",name:"nome",value:A.nome,onChange:ee,placeholder:"Digite para buscar..."})),m.createElement("div",{className:"filter-item"},m.createElement(Pa,{label:"Status",hint:"Filtre por alunos ativos (matriculados) ou inativos (desmatriculados)",name:"status",value:A.status,onChange:ee},m.createElement("option",{value:""},"Todos"),m.createElement("option",{value:"1"},"Ativo"),m.createElement("option",{value:"0"},"Inativo"))),m.createElement("div",{className:"filter-item"},m.createElement(Pa,{label:"Situao Financeira",hint:"Filtre por alunos que pagam valor integral ou possuem bolsa",name:"pagamento",value:A.pagamento,onChange:ee},m.createElement("option",{value:""},"Todos"),m.createElement("option",{value:"Integral"},"Integral"),m.createElement("option",{value:"Bolsista"},"Bolsista"))),m.createElement("div",{className:"filter-item"},m.createElement(Pa,{label:"Turma",hint:"Filtre alunos por turma especfica ou visualize todas as turmas",name:"turmaId",value:A.turmaId,onChange:ee},m.createElement("option",{value:""},"Todas"),n.map(j=>m.createElement("option",{key:j.id,value:j.id},j.nome_turma," (",j.periodo,")")))),m.createElement("button",{onClick:U,className:"clear-filters-button"},"Limpar Filtros")),m.createElement("div",{className:"tab-content"},a&&m.createElement("div",null,"Carregando..."),l&&m.createElement("div",{className:"error-message"},"Erro: ",l),!a&&!l&&m.createElement("div",{className:"alunos-table-container"},m.createElement("table",null,m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",null,"Foto"),m.createElement("th",null,"Nome Completo"),m.createElement("th",null,"Nascimento"),m.createElement("th",null,"Pagamento"),m.createElement("th",null,"Status"),m.createElement("th",null,"Aes"))),m.createElement("tbody",null,I.length>0?I.map(j=>m.createElement("tr",{key:j.id},m.createElement("td",null,m.createElement("div",{className:"table-photo"},j.foto_perfil?m.createElement("img",{src:`http://localhost:3001${j.foto_perfil}`,alt:"Foto do aluno",className:"table-aluno-photo"}):m.createElement("div",{className:"table-photo-placeholder"},j.nome_completo.charAt(0).toUpperCase()))),m.createElement("td",null,j.nome_completo),m.createElement("td",null,te(j.data_nascimento)),m.createElement("td",null,j.status_pagamento),m.createElement("td",null,m.createElement("span",{className:`status-badge status-${j.status_aluno==1?"ativo":"inativo"}`},j.status_aluno==1?"Ativo":"Inativo")),m.createElement("td",null,m.createElement("button",{className:"action-button",onClick:()=>X(j.id)},"Editar"),j.status_aluno==0&&m.createElement("button",{className:"action-button-ativar",onClick:()=>Y(j)},"Ativar"),m.createElement("button",{className:"action-button-delete",onClick:()=>M(j.id)},"Excluir")))):m.createElement("tr",null,m.createElement("td",{colSpan:"6"},"Nenhum aluno encontrado com os filtros aplicados.")))))),d&&y&&m.createElement(sv,{alunoData:y,turmas:n,onClose:()=>{h(!1),w(null)},onSave:T}),g&&_&&m.createElement(m3,{aluno:_,onClose:()=>{N(!1),S(null)},onAssign:F}))};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xd(t){return t+.5|0}const il=(t,e,n)=>Math.max(Math.min(t,n),e);function Qu(t){return il(xd(t*2.55),0,255)}function cl(t){return il(xd(t*255),0,255)}function xs(t){return il(xd(t/2.55)/100,0,1)}function D0(t){return il(xd(t*100),0,100)}const zo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cp=[..."0123456789ABCDEF"],g3=t=>cp[t&15],v3=t=>cp[(t&240)>>4]+cp[t&15],cf=t=>(t&240)>>4===(t&15),y3=t=>cf(t.r)&&cf(t.g)&&cf(t.b)&&cf(t.a);function b3(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&zo[t[1]]*17,g:255&zo[t[2]]*17,b:255&zo[t[3]]*17,a:e===5?zo[t[4]]*17:255}:(e===7||e===9)&&(n={r:zo[t[1]]<<4|zo[t[2]],g:zo[t[3]]<<4|zo[t[4]],b:zo[t[5]]<<4|zo[t[6]],a:e===9?zo[t[7]]<<4|zo[t[8]]:255})),n}const w3=(t,e)=>t<255?e(t):"";function x3(t){var e=y3(t)?g3:v3;return t?"#"+e(t.r)+e(t.g)+e(t.b)+w3(t.a,e):void 0}const E3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lv(t,e,n){const r=e*Math.min(n,1-n),a=(i,l=(i+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function _3(t,e,n){const r=(a,i=(a+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function S3(t,e,n){const r=lv(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)r[a]*=1-e-n,r[a]+=e;return r}function k3(t,e,n,r,a){return t===a?(e-n)/r+(e<n?6:0):e===a?(n-t)/r+2:(t-e)/r+4}function Dp(t){const n=t.r/255,r=t.g/255,a=t.b/255,i=Math.max(n,r,a),l=Math.min(n,r,a),c=(i+l)/2;let u,d,h;return i!==l&&(h=i-l,d=c>.5?h/(2-i-l):h/(i+l),u=k3(n,r,a,h,i),u=u*60+.5),[u|0,d||0,c]}function Op(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(cl)}function Ip(t,e,n){return Op(lv,t,e,n)}function N3(t,e,n){return Op(S3,t,e,n)}function A3(t,e,n){return Op(_3,t,e,n)}function cv(t){return(t%360+360)%360}function C3(t){const e=E3.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Qu(+e[5]):cl(+e[5]));const a=cv(+e[2]),i=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=N3(a,i,l):e[1]==="hsv"?r=A3(a,i,l):r=Ip(a,i,l),{r:r[0],g:r[1],b:r[2],a:n}}function L3(t,e){var n=Dp(t);n[0]=cv(n[0]+e),n=Ip(n),t.r=n[0],t.g=n[1],t.b=n[2]}function P3(t){if(!t)return;const e=Dp(t),n=e[0],r=D0(e[1]),a=D0(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${a}%, ${xs(t.a)})`:`hsl(${n}, ${r}%, ${a}%)`}const O0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},I0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function T3(){const t={},e=Object.keys(I0),n=Object.keys(O0);let r,a,i,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],a=0;a<n.length;a++)i=n[a],c=c.replace(i,O0[i]);i=parseInt(I0[l],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let uf;function M3(t){uf||(uf=T3(),uf.transparent=[0,0,0,0]);const e=uf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const R3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function F3(t){const e=R3.exec(t);let n=255,r,a,i;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?Qu(l):il(l*255,0,255)}return r=+e[1],a=+e[3],i=+e[5],r=255&(e[2]?Qu(r):il(r,0,255)),a=255&(e[4]?Qu(a):il(a,0,255)),i=255&(e[6]?Qu(i):il(i,0,255)),{r,g:a,b:i,a:n}}}function D3(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${xs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const gm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Wc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function O3(t,e,n){const r=Wc(xs(t.r)),a=Wc(xs(t.g)),i=Wc(xs(t.b));return{r:cl(gm(r+n*(Wc(xs(e.r))-r))),g:cl(gm(a+n*(Wc(xs(e.g))-a))),b:cl(gm(i+n*(Wc(xs(e.b))-i))),a:t.a+n*(e.a-t.a)}}function df(t,e,n){if(t){let r=Dp(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ip(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function uv(t,e){return t&&Object.assign(e||{},t)}function j0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=cl(t[3]))):(e=uv(t,{r:0,g:0,b:0,a:1}),e.a=cl(e.a)),e}function I3(t){return t.charAt(0)==="r"?F3(t):C3(t)}class cd{constructor(e){if(e instanceof cd)return e;const n=typeof e;let r;n==="object"?r=j0(e):n==="string"&&(r=b3(e)||M3(e)||I3(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=uv(this._rgb);return e&&(e.a=xs(e.a)),e}set rgb(e){this._rgb=j0(e)}rgbString(){return this._valid?D3(this._rgb):void 0}hexString(){return this._valid?x3(this._rgb):void 0}hslString(){return this._valid?P3(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,a=e.rgb;let i;const l=n===i?.5:n,c=2*l-1,u=r.a-a.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;i=1-d,r.r=255&d*r.r+i*a.r+.5,r.g=255&d*r.g+i*a.g+.5,r.b=255&d*r.b+i*a.b+.5,r.a=l*r.a+(1-l)*a.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=O3(this._rgb,e._rgb,n)),this}clone(){return new cd(this.rgb)}alpha(e){return this._rgb.a=cl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=xd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return df(this._rgb,2,e),this}darken(e){return df(this._rgb,2,-e),this}saturate(e){return df(this._rgb,1,e),this}desaturate(e){return df(this._rgb,1,-e),this}rotate(e){return L3(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function gs(){}const j3=(()=>{let t=0;return()=>t++})();function Wn(t){return t==null}function Hr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ho(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ri(t,e){return Ho(t)?t:e}function wn(t,e){return typeof t>"u"?e:t}const B3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Kn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Dn(t,e,n,r){let a,i,l;if(Hr(t))for(i=t.length,a=0;a<i;a++)e.call(n,t[a],a);else if(xn(t))for(l=Object.keys(t),i=l.length,a=0;a<i;a++)e.call(n,t[l[a]],l[a])}function Jf(t,e){let n,r,a,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(a=t[n],i=e[n],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Qf(t){if(Hr(t))return t.map(Qf);if(xn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let a=0;for(;a<r;++a)e[n[a]]=Qf(t[n[a]]);return e}return t}function dv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function z3(t,e,n,r){if(!dv(t))return;const a=e[t],i=n[t];xn(a)&&xn(i)?ud(a,i,r):e[t]=Qf(i)}function ud(t,e,n){const r=Hr(e)?e:[e],a=r.length;if(!xn(t))return t;n=n||{};const i=n.merger||z3;let l;for(let c=0;c<a;++c){if(l=r[c],!xn(l))continue;const u=Object.keys(l);for(let d=0,h=u.length;d<h;++d)i(u[d],t,l,n)}return t}function td(t,e){return ud(t,e,{merger:U3})}function U3(t,e,n){if(!dv(t))return;const r=e[t],a=n[t];xn(r)&&xn(a)?td(r,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Qf(a))}const B0={"":t=>t,x:t=>t.x,y:t=>t.y};function q3(t){const e=t.split("."),n=[];let r="";for(const a of e)r+=a,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function W3(t){const e=q3(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function su(t,e){return(B0[e]||(B0[e]=W3(e)))(t)}function jp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const dd=t=>typeof t<"u",fl=t=>typeof t=="function",z0=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function H3(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Xn=Math.PI,za=2*Xn,Zf=Number.POSITIVE_INFINITY,$3=Xn/180,ua=Xn/2,Hl=Xn/4,U0=Xn*2/3,fv=Math.log10,ul=Math.sign;function Of(t,e,n){return Math.abs(t-e)<n}function q0(t){const e=Math.round(t);t=Of(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(fv(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function V3(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((a,i)=>a-i).pop(),e}function Y3(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function eh(t){return!Y3(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function G3(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function K3(t,e,n){let r,a,i;for(r=0,a=t.length;r<a;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Zl(t){return t*(Xn/180)}function X3(t){return t*(180/Xn)}function W0(t){if(!Ho(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function hv(t,e){const n=e.x-t.x,r=e.y-t.y,a=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Xn&&(i+=za),{angle:i,distance:a}}function J3(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ji(t){return(t%za+za)%za}function mv(t,e,n,r){const a=ji(t),i=ji(e),l=ji(n),c=ji(i-a),u=ji(l-a),d=ji(a-i),h=ji(a-l);return a===i||a===l||r&&i===l||c>u&&d<h}function no(t,e,n){return Math.max(e,Math.min(n,t))}function Q3(t){return no(t,-32768,32767)}function ec(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Bp(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,a=0,i;for(;r-a>1;)i=a+r>>1,n(i)?a=i:r=i;return{lo:a,hi:r}}const up=(t,e,n,r)=>Bp(t,n,r?a=>{const i=t[a][e];return i<n||i===n&&t[a+1][e]===n}:a=>t[a][e]<n),Z3=(t,e,n)=>Bp(t,n,r=>t[r][e]>=n);function e4(t,e,n){let r=0,a=t.length;for(;r<a&&t[r]<e;)r++;for(;a>r&&t[a-1]>n;)a--;return r>0||a<t.length?t.slice(r,a):t}const pv=["push","pop","shift","splice","unshift"];function t4(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pv.forEach(n=>{const r="_onData"+jp(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const l=a.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...i)}),l}})})}function H0(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,a=r.indexOf(e);a!==-1&&r.splice(a,1),!(r.length>0)&&(pv.forEach(i=>{delete t[i]}),delete t._chartjs)}function gv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const vv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function yv(t,e){let n=[],r=!1;return function(...a){n=a,r||(r=!0,vv.call(window,()=>{r=!1,t.apply(e,n)}))}}function n4(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const zp=t=>t==="start"?"left":t==="end"?"right":"center",Ca=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,r4=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,ff=t=>t===0||t===1,$0=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*za/n)),V0=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*za/n)+1,nd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ua)+1,easeOutSine:t=>Math.sin(t*ua),easeInOutSine:t=>-.5*(Math.cos(Xn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ff(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ff(t)?t:$0(t,.075,.3),easeOutElastic:t=>ff(t)?t:V0(t,.075,.3),easeInOutElastic(t){return ff(t)?t:t<.5?.5*$0(t*2,.1125,.45):.5+.5*V0(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-nd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?nd.easeInBounce(t*2)*.5:nd.easeOutBounce(t*2-1)*.5+.5};function bv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Y0(t){return bv(t)?t:new cd(t)}function vm(t){return bv(t)?t:new cd(t).saturate(.5).darken(.1).hexString()}const a4=["x","y","borderWidth","radius","tension"],o4=["color","borderColor","backgroundColor"];function i4(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:o4},numbers:{type:"number",properties:a4}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function s4(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const G0=new Map;function l4(t,e){e=e||{};const n=t+JSON.stringify(e);let r=G0.get(n);return r||(r=new Intl.NumberFormat(t,e),G0.set(n,r)),r}function wv(t,e,n){return l4(e,n).format(t)}const c4={values(t){return Hr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let a,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=u4(t,n)}const l=fv(Math.abs(i)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:a,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),wv(t,r,u)}};function u4(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var xv={formatters:c4};function d4(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rc=Object.create(null),dp=Object.create(null);function rd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,a=n.length;r<a;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function ym(t,e,n){return typeof e=="string"?ud(rd(t,e),n):ud(rd(t,""),e)}class f4{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,a)=>vm(a.backgroundColor),this.hoverBorderColor=(r,a)=>vm(a.borderColor),this.hoverColor=(r,a)=>vm(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ym(this,e,n)}get(e){return rd(this,e)}describe(e,n){return ym(dp,e,n)}override(e,n){return ym(rc,e,n)}route(e,n,r,a){const i=rd(this,e),l=rd(this,r),c="_"+n;Object.defineProperties(i,{[c]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],d=l[a];return xn(u)?Object.assign({},d,u):wn(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var Tr=new f4({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i4,s4,d4]);function h4(t){return!t||Wn(t.size)||Wn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function K0(t,e,n,r,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,n.push(a)),i>r&&(r=i),r}function $l(t,e,n){const r=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*r)/r+a}function X0(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function J0(t,e,n,r){Ev(t,e,n,r,null)}function Ev(t,e,n,r,a){let i,l,c,u,d,h,y,w;const g=e.pointStyle,N=e.rotation,_=e.radius;let S=(N||0)*$3;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(S),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),g){default:a?t.ellipse(n,r,a/2,_,0,0,za):t.arc(n,r,_,0,za),t.closePath();break;case"triangle":h=a?a/2:_,t.moveTo(n+Math.sin(S)*h,r-Math.cos(S)*_),S+=U0,t.lineTo(n+Math.sin(S)*h,r-Math.cos(S)*_),S+=U0,t.lineTo(n+Math.sin(S)*h,r-Math.cos(S)*_),t.closePath();break;case"rectRounded":d=_*.516,u=_-d,l=Math.cos(S+Hl)*u,y=Math.cos(S+Hl)*(a?a/2-d:u),c=Math.sin(S+Hl)*u,w=Math.sin(S+Hl)*(a?a/2-d:u),t.arc(n-y,r-c,d,S-Xn,S-ua),t.arc(n+w,r-l,d,S-ua,S),t.arc(n+y,r+c,d,S,S+ua),t.arc(n-w,r+l,d,S+ua,S+Xn),t.closePath();break;case"rect":if(!N){u=Math.SQRT1_2*_,h=a?a/2:u,t.rect(n-h,r-u,2*h,2*u);break}S+=Hl;case"rectRot":y=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,w=Math.sin(S)*(a?a/2:_),t.moveTo(n-y,r-c),t.lineTo(n+w,r-l),t.lineTo(n+y,r+c),t.lineTo(n-w,r+l),t.closePath();break;case"crossRot":S+=Hl;case"cross":y=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,w=Math.sin(S)*(a?a/2:_),t.moveTo(n-y,r-c),t.lineTo(n+y,r+c),t.moveTo(n+w,r-l),t.lineTo(n-w,r+l);break;case"star":y=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,w=Math.sin(S)*(a?a/2:_),t.moveTo(n-y,r-c),t.lineTo(n+y,r+c),t.moveTo(n+w,r-l),t.lineTo(n-w,r+l),S+=Hl,y=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,w=Math.sin(S)*(a?a/2:_),t.moveTo(n-y,r-c),t.lineTo(n+y,r+c),t.moveTo(n+w,r-l),t.lineTo(n-w,r+l);break;case"line":l=a?a/2:Math.cos(S)*_,c=Math.sin(S)*_,t.moveTo(n-l,r-c),t.lineTo(n+l,r+c);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(S)*(a?a/2:_),r+Math.sin(S)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _v(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Up(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function qp(t){t.restore()}function m4(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Wn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function p4(t,e,n,r,a){if(a.strikethrough||a.underline){const i=t.measureText(r),l=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,u=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,h=a.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(l,h),t.lineTo(c,h),t.stroke()}}function g4(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function fd(t,e,n,r,a,i={}){const l=Hr(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let u,d;for(t.save(),t.font=a.string,m4(t,i),u=0;u<l.length;++u)d=l[u],i.backdrop&&g4(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Wn(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,r,i.maxWidth)),t.fillText(d,n,r,i.maxWidth),p4(t,n,r,d,i),r+=Number(a.lineHeight);t.restore()}function th(t,e){const{x:n,y:r,w:a,h:i,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*Xn,Xn,!0),t.lineTo(n,r+i-l.bottomLeft),t.arc(n+l.bottomLeft,r+i-l.bottomLeft,l.bottomLeft,Xn,ua,!0),t.lineTo(n+a-l.bottomRight,r+i),t.arc(n+a-l.bottomRight,r+i-l.bottomRight,l.bottomRight,ua,0,!0),t.lineTo(n+a,r+l.topRight),t.arc(n+a-l.topRight,r+l.topRight,l.topRight,0,-ua,!0),t.lineTo(n+l.topLeft,r)}const v4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,y4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function b4(t,e){const n=(""+t).match(v4);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const w4=t=>+t||0;function Wp(t,e){const n={},r=xn(e),a=r?Object.keys(e):e,i=xn(t)?r?l=>wn(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of a)n[l]=w4(i(l));return n}function Sv(t){return Wp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function eu(t){return Wp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $o(t){const e=Sv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function La(t,e){t=t||{},e=e||Tr.font;let n=wn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=wn(t.style,e.style);r&&!(""+r).match(y4)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const a={family:wn(t.family,e.family),lineHeight:b4(wn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:wn(t.weight,e.weight),string:""};return a.string=h4(a),a}function hf(t,e,n,r){let a,i,l;for(a=0,i=t.length;a<i;++a)if(l=t[a],l!==void 0&&l!==void 0)return l}function x4(t,e,n){const{min:r,max:a}=t,i=B3(e,(a-r)/2),l=(c,u)=>n&&c===0?0:c+u;return{min:l(r,-Math.abs(i)),max:l(a,i)}}function cu(t,e){return Object.assign(Object.create(t),e)}function Hp(t,e=[""],n,r,a=()=>t[0]){const i=n||t;typeof r>"u"&&(r=Cv("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:a,override:c=>Hp([c,...t],e,i,r)};return new Proxy(l,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return Nv(c,u,()=>L4(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return Z0(c).includes(u)},ownKeys(c){return Z0(c)},set(c,u,d){const h=c._storage||(c._storage=a());return c[u]=h[u]=d,delete c._keys,!0}})}function lu(t,e,n,r){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:kv(t,r),setContext:i=>lu(t,i,n,r),override:i=>lu(t.override(i),e,n,r)};return new Proxy(a,{deleteProperty(i,l){return delete i[l],delete t[l],!0},get(i,l,c){return Nv(i,l,()=>_4(i,l,c))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(i,l,c){return t[l]=c,delete i[l],!0}})}function kv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:r,isScriptable:fl(n)?n:()=>n,isIndexable:fl(r)?r:()=>r}}const E4=(t,e)=>t?t+jp(e):e,$p=(t,e)=>xn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Nv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function _4(t,e,n){const{_proxy:r,_context:a,_subProxy:i,_descriptors:l}=t;let c=r[e];return fl(c)&&l.isScriptable(e)&&(c=S4(e,c,t,n)),Hr(c)&&c.length&&(c=k4(e,c,t,l.isIndexable)),$p(e,c)&&(c=lu(c,a,i&&i[e],l)),c}function S4(t,e,n,r){const{_proxy:a,_context:i,_subProxy:l,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(i,l||r);return c.delete(t),$p(t,u)&&(u=Vp(a._scopes,a,t,u)),u}function k4(t,e,n,r){const{_proxy:a,_context:i,_subProxy:l,_descriptors:c}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(xn(e[0])){const u=e,d=a._scopes.filter(h=>h!==u);e=[];for(const h of u){const y=Vp(d,a,t,h);e.push(lu(y,i,l&&l[t],c))}}return e}function Av(t,e,n){return fl(t)?t(e,n):t}const N4=(t,e)=>t===!0?e:typeof t=="string"?su(e,t):void 0;function A4(t,e,n,r,a){for(const i of e){const l=N4(n,i);if(l){t.add(l);const c=Av(l._fallback,n,a);if(typeof c<"u"&&c!==n&&c!==r)return c}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function Vp(t,e,n,r){const a=e._rootScopes,i=Av(e._fallback,n,r),l=[...t,...a],c=new Set;c.add(r);let u=Q0(c,l,n,i||n,r);return u===null||typeof i<"u"&&i!==n&&(u=Q0(c,l,i,u,r),u===null)?!1:Hp(Array.from(c),[""],a,i,()=>C4(e,n,r))}function Q0(t,e,n,r,a){for(;n;)n=A4(t,e,n,r,a);return n}function C4(t,e,n){const r=t._getTarget();e in r||(r[e]={});const a=r[e];return Hr(a)&&xn(n)?n:a||{}}function L4(t,e,n,r){let a;for(const i of e)if(a=Cv(E4(i,t),n),typeof a<"u")return $p(t,a)?Vp(n,r,t,a):a}function Cv(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Z0(t){let e=t._keys;return e||(e=t._keys=P4(t._scopes)),e}function P4(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(r);return Array.from(e)}function Yp(){return typeof window<"u"&&typeof document<"u"}function Gp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function nh(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const hh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function T4(t,e){return hh(t).getPropertyValue(e)}const M4=["top","right","bottom","left"];function tc(t,e,n){const r={};n=n?"-"+n:"";for(let a=0;a<4;a++){const i=M4[a];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const R4=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function F4(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:a,offsetY:i}=r;let l=!1,c,u;if(R4(a,i,t.target))c=a,u=i;else{const d=e.getBoundingClientRect();c=r.clientX-d.left,u=r.clientY-d.top,l=!0}return{x:c,y:u,box:l}}function Yl(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,a=hh(n),i=a.boxSizing==="border-box",l=tc(a,"padding"),c=tc(a,"border","width"),{x:u,y:d,box:h}=F4(t,n),y=l.left+(h&&c.left),w=l.top+(h&&c.top);let{width:g,height:N}=e;return i&&(g-=l.width+c.width,N-=l.height+c.height),{x:Math.round((u-y)/g*n.width/r),y:Math.round((d-w)/N*n.height/r)}}function D4(t,e,n){let r,a;if(e===void 0||n===void 0){const i=t&&Gp(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const l=i.getBoundingClientRect(),c=hh(i),u=tc(c,"border","width"),d=tc(c,"padding");e=l.width-d.width-u.width,n=l.height-d.height-u.height,r=nh(c.maxWidth,i,"clientWidth"),a=nh(c.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Zf,maxHeight:a||Zf}}const mf=t=>Math.round(t*10)/10;function O4(t,e,n,r){const a=hh(t),i=tc(a,"margin"),l=nh(a.maxWidth,t,"clientWidth")||Zf,c=nh(a.maxHeight,t,"clientHeight")||Zf,u=D4(t,e,n);let{width:d,height:h}=u;if(a.boxSizing==="content-box"){const w=tc(a,"border","width"),g=tc(a,"padding");d-=g.width+w.width,h-=g.height+w.height}return d=Math.max(0,d-i.width),h=Math.max(0,r?d/r:h-i.height),d=mf(Math.min(d,l,u.maxWidth)),h=mf(Math.min(h,c,u.maxHeight)),d&&!h&&(h=mf(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&h>u.height&&(h=u.height,d=mf(Math.floor(h*r))),{width:d,height:h}}function e1(t,e,n){const r=e||1,a=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==a||l.width!==i?(t.currentDevicePixelRatio=r,l.height=a,l.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const I4=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Yp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function t1(t,e){const n=T4(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const j4=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},B4=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tu(t,e,n){return t?j4(e,n):B4()}function Lv(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Pv(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function pf(t,e,n){return t.options.clip?t[n]:e[n]}function z4(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:pf(n,e,"left"),right:pf(n,e,"right"),top:pf(r,e,"top"),bottom:pf(r,e,"bottom")}:e}function U4(t,e){const n=e._clip;if(n.disabled)return!1;const r=z4(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class q4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,a){const i=n.listeners[a],l=n.duration;i.forEach(c=>c({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=vv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,a)=>{if(!r.running||!r.items.length)return;const i=r.items;let l=i.length-1,c=!1,u;for(;l>=0;--l)u=i[l],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),c=!0):(i[l]=i[i.length-1],i.pop());c&&(a.draw(),this._notify(a,r,e,"progress")),i.length||(r.running=!1,this._notify(a,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,a)=>Math.max(r,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let a=r.length-1;for(;a>=0;--a)r[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bs=new q4;const n1="transparent",W4={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Y0(t||n1),a=r.valid&&Y0(e||n1);return a&&a.valid?a.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class H4{constructor(e,n,r,a){const i=n[r];a=hf([e.to,a,i,e.from]);const l=hf([e.from,i,a]);this._active=!0,this._fn=e.fn||W4[e.type||typeof l],this._easing=nd[e.easing]||nd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const a=this._target[this._prop],i=r-this._start,l=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=hf([e.to,n,a,e.from]),this._from=hf([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,a=this._prop,i=this._from,l=this._loop,c=this._to;let u;if(this._active=i!==c&&(l||n<r),!this._active){this._target[a]=c,this._notify(!0);return}if(n<0){this._target[a]=i;return}u=n/r%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[a]=this._fn(i,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let a=0;a<r.length;a++)r[a][n]()}}class Tv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!xn(e))return;const n=Object.keys(Tr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!xn(i))return;const l={};for(const c of n)l[c]=i[c];(Hr(i.properties)&&i.properties||[a]).forEach(c=>{(c===a||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,n){const r=n.options,a=V4(e,r);if(!a)return[];const i=this._createAnimations(a,r);return r.$shared&&$4(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,a=[],i=e.$animations||(e.$animations={}),l=Object.keys(n),c=Date.now();let u;for(u=l.length-1;u>=0;--u){const d=l[u];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,n));continue}const h=n[d];let y=i[d];const w=r.get(d);if(y)if(w&&y.active()){y.update(w,h,c);continue}else y.cancel();if(!w||!w.duration){e[d]=h;continue}i[d]=y=new H4(w,e,d,h),a.push(y)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return bs.add(this._chart,r),!0}}function $4(t,e){const n=[],r=Object.keys(e);for(let a=0;a<r.length;a++){const i=t[r[a]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function V4(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function r1(t,e){const n=t&&t.options||{},r=n.reverse,a=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:a,end:r?a:i}}function Y4(t,e,n){if(n===!1)return!1;const r=r1(t,n),a=r1(e,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function G4(t){let e,n,r,a;return xn(t)?(e=t.top,n=t.right,r=t.bottom,a=t.left):e=n=r=a=t,{top:e,right:n,bottom:r,left:a,disabled:t===!1}}function Mv(t,e){const n=[],r=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=r.length;a<i;++a)n.push(r[a].index);return n}function a1(t,e,n,r={}){const a=t.keys,i=r.mode==="single";let l,c,u,d;if(e===null)return;let h=!1;for(l=0,c=a.length;l<c;++l){if(u=+a[l],u===n){if(h=!0,r.all)continue;break}d=t.values[u],Ho(d)&&(i||e===0||ul(e)===ul(d))&&(e+=d)}return!h&&!r.all?0:e}function K4(t,e){const{iScale:n,vScale:r}=e,a=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",l=Object.keys(t),c=new Array(l.length);let u,d,h;for(u=0,d=l.length;u<d;++u)h=l[u],c[u]={[a]:h,[i]:t[h]};return c}function bm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function X4(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function J4(t){const{min:e,max:n,minDefined:r,maxDefined:a}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Q4(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function o1(t,e,n,r){for(const a of e.getMatchingVisibleMetas(r).reverse()){const i=t[a.index];if(n&&i>0||!n&&i<0)return a.index}return null}function i1(t,e){const{chart:n,_cachedMeta:r}=t,a=n._stacks||(n._stacks={}),{iScale:i,vScale:l,index:c}=r,u=i.axis,d=l.axis,h=X4(i,l,r),y=e.length;let w;for(let g=0;g<y;++g){const N=e[g],{[u]:_,[d]:S}=N,A=N._stacks||(N._stacks={});w=A[d]=Q4(a,h,_),w[c]=S,w._top=o1(w,l,!0,r.type),w._bottom=o1(w,l,!1,r.type);const O=w._visualValues||(w._visualValues={});O[c]=S}}function wm(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Z4(t,e){return cu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function eE(t,e,n){return cu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function qu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const xm=t=>t==="reset"||t==="none",s1=(t,e)=>e?t:Object.assign({},t),tE=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Mv(n,!0),values:null};class Rv{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=bm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),a=(y,w,g,N)=>y==="x"?w:y==="r"?N:g,i=n.xAxisID=wn(r.xAxisID,wm(e,"x")),l=n.yAxisID=wn(r.yAxisID,wm(e,"y")),c=n.rAxisID=wn(r.rAxisID,wm(e,"r")),u=n.indexAxis,d=n.iAxisID=a(u,i,l,c),h=n.vAxisID=a(u,l,i,c);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&H0(this._data,this),e._stacked&&qu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(xn(n)){const a=this._cachedMeta;this._data=K4(n,a)}else if(r!==n){if(r){H0(r,this);const a=this._cachedMeta;qu(a),a._parsed=[]}n&&Object.isExtensible(n)&&t4(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let a=!1;this._dataCheck();const i=n._stacked;n._stacked=bm(n.vScale,n),n.stack!==r.stack&&(a=!0,qu(n),n.stack=r.stack),this._resyncElements(e),(a||i!==n._stacked)&&(i1(this,n._parsed),n._stacked=bm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:a}=this,{iScale:i,_stacked:l}=r,c=i.axis;let u=e===0&&n===a.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,y,w;if(this._parsing===!1)r._parsed=a,r._sorted=!0,w=a;else{Hr(a[e])?w=this.parseArrayData(r,a,e,n):xn(a[e])?w=this.parseObjectData(r,a,e,n):w=this.parsePrimitiveData(r,a,e,n);const g=()=>y[c]===null||d&&y[c]<d[c];for(h=0;h<n;++h)r._parsed[h+e]=y=w[h],u&&(g()&&(u=!1),d=y);r._sorted=u}l&&i1(this,w)}parsePrimitiveData(e,n,r,a){const{iScale:i,vScale:l}=e,c=i.axis,u=l.axis,d=i.getLabels(),h=i===l,y=new Array(a);let w,g,N;for(w=0,g=a;w<g;++w)N=w+r,y[w]={[c]:h||i.parse(d[N],N),[u]:l.parse(n[N],N)};return y}parseArrayData(e,n,r,a){const{xScale:i,yScale:l}=e,c=new Array(a);let u,d,h,y;for(u=0,d=a;u<d;++u)h=u+r,y=n[h],c[u]={x:i.parse(y[0],h),y:l.parse(y[1],h)};return c}parseObjectData(e,n,r,a){const{xScale:i,yScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(a);let h,y,w,g;for(h=0,y=a;h<y;++h)w=h+r,g=n[w],d[h]={x:i.parse(su(g,c),w),y:l.parse(su(g,u),w)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const a=this.chart,i=this._cachedMeta,l=n[e.axis],c={keys:Mv(a,!0),values:n._stacks[e.axis]._visualValues};return a1(c,l,i.index,{mode:r})}updateRangeFromParsed(e,n,r,a){const i=r[n.axis];let l=i===null?NaN:i;const c=a&&r._stacks[n.axis];a&&c&&(a.values=c,l=a1(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,a=r._parsed,i=r._sorted&&e===r.iScale,l=a.length,c=this._getOtherScale(e),u=tE(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:y}=J4(c);let w,g;function N(){g=a[w];const _=g[c.axis];return!Ho(g[e.axis])||h>_||y<_}for(w=0;w<l&&!(!N()&&(this.updateRangeFromParsed(d,e,g,u),i));++w);if(i){for(w=l-1;w>=0;--w)if(!N()){this.updateRangeFromParsed(d,e,g,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let a,i,l;for(a=0,i=n.length;a<i;++a)l=n[a][e.axis],Ho(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,a=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=G4(wn(this.options.clip,Y4(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,a=r.data||[],i=n.chartArea,l=[],c=this._drawStart||0,u=this._drawCount||a.length-c,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,i,c,u),h=c;h<c+u;++h){const y=a[h];y.hidden||(y.active&&d?l.push(y):y.draw(e,i))}for(h=0;h<l.length;++h)l[h].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];i=l.$context||(l.$context=eE(this.getContext(),e,l)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Z4(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const a=n==="active",i=this._cachedDataOpts,l=e+"-"+n,c=i[l],u=this.enableOptionSharing&&dd(r);if(c)return s1(c,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),y=a?[`${e}Hover`,"hover",e,""]:[e,""],w=d.getOptionScopes(this.getDataset(),h),g=Object.keys(Tr.elements[e]),N=()=>this.getContext(r,a,n),_=d.resolveNamedOptions(w,g,N,y);return _.$shared&&(_.$shared=u,i[l]=Object.freeze(s1(_,u))),_}_resolveAnimations(e,n,r){const a=this.chart,i=this._cachedDataOpts,l=`animation-${n}`,c=i[l];if(c)return c;let u;if(a.options.animation!==!1){const h=this.chart.config,y=h.datasetAnimationScopeKeys(this._type,n),w=h.getOptionScopes(this.getDataset(),y);u=h.createResolver(w,this.getContext(e,r,n))}const d=new Tv(a,u&&u.animations);return u&&u._cacheable&&(i[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),a=this._sharedOptions,i=this.getSharedOptions(r),l=this.includeOptions(n,i)||i!==a;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:l}}updateElement(e,n,r,a){xm(a)?Object.assign(e,r):this._resolveAnimations(n,a).update(e,r)}updateSharedOptions(e,n,r){e&&!xm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,a){e.active=a;const i=this.getStyle(n,a);this._resolveAnimations(n,r,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const a=r.length,i=n.length,l=Math.min(i,a);l&&this.parse(0,l),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,n,r=!0){const a=this._cachedMeta,i=a.data,l=e+n;let c;const u=d=>{for(d.length+=n,c=d.length-1;c>=l;c--)d[c]=d[c-n]};for(u(i),c=e;c<l;++c)i[c]=new this.dataElementType;this._parsing&&u(a._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,a){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const a=r._parsed.splice(e,n);r._stacked&&qu(r,a)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,a]=e;this[n](r,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function nE(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let a=0,i=n.length;a<i;a++)r=r.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=gv(r.sort((a,i)=>a-i))}return t._cache.$bar}function rE(t){const e=t.iScale,n=nE(e,t.type);let r=e._length,a,i,l,c;const u=()=>{l===32767||l===-32768||(dd(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(a=0,i=n.length;a<i;++a)l=e.getPixelForValue(n[a]),u();for(c=void 0,a=0,i=e.ticks.length;a<i;++a)l=e.getPixelForTick(a),u();return r}function aE(t,e,n,r){const a=n.barThickness;let i,l;return Wn(a)?(i=e.min*n.categoryPercentage,l=n.barPercentage):(i=a*r,l=1),{chunk:i/r,ratio:l,start:e.pixels[t]-i/2}}function oE(t,e,n,r){const a=e.pixels,i=a[t];let l=t>0?a[t-1]:null,c=t<a.length-1?a[t+1]:null;const u=n.categoryPercentage;l===null&&(l=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-l);const d=i-(i-Math.min(l,c))/2*u;return{chunk:Math.abs(c-l)/2*u/r,ratio:n.barPercentage,start:d}}function iE(t,e,n,r){const a=n.parse(t[0],r),i=n.parse(t[1],r),l=Math.min(a,i),c=Math.max(a,i);let u=l,d=c;Math.abs(l)>Math.abs(c)&&(u=c,d=l),e[n.axis]=d,e._custom={barStart:u,barEnd:d,start:a,end:i,min:l,max:c}}function Fv(t,e,n,r){return Hr(t)?iE(t,e,n,r):e[n.axis]=n.parse(t,r),e}function l1(t,e,n,r){const a=t.iScale,i=t.vScale,l=a.getLabels(),c=a===i,u=[];let d,h,y,w;for(d=n,h=n+r;d<h;++d)w=e[d],y={},y[a.axis]=c||a.parse(l[d],d),u.push(Fv(w,y,i,d));return u}function Em(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sE(t,e,n){return t!==0?ul(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function lE(t){let e,n,r,a,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(a="end",i="start"):(a="start",i="end"),{start:n,end:r,reverse:e,top:a,bottom:i}}function cE(t,e,n,r){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:u,top:d,bottom:h}=lE(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?a=d:(n._bottom||0)===r?a=h:(i[c1(h,l,c,u)]=!0,a=d)),i[c1(a,l,c,u)]=!0,t.borderSkipped=i}function c1(t,e,n,r){return r?(t=uE(t,e,n),t=u1(t,n,e)):t=u1(t,e,n),t}function uE(t,e,n){return t===e?n:t===n?e:t}function u1(t,e,n){return t==="start"?e:t==="end"?n:t}function dE(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class fE extends Rv{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,a){return l1(e,n,r,a)}parseArrayData(e,n,r,a){return l1(e,n,r,a)}parseObjectData(e,n,r,a){const{iScale:i,vScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=i.axis==="x"?c:u,h=l.axis==="x"?c:u,y=[];let w,g,N,_;for(w=r,g=r+a;w<g;++w)_=n[w],N={},N[i.axis]=i.parse(su(_,d),w),y.push(Fv(su(_,h),N,l,w));return y}updateRangeFromParsed(e,n,r,a){super.updateRangeFromParsed(e,n,r,a);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:a}=n,i=this.getParsed(e),l=i._custom,c=Em(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,a){const i=a==="reset",{index:l,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,a);for(let g=n;g<n+r;g++){const N=this.getParsed(g),_=i||Wn(N[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(g),S=this._calculateBarIndexPixels(g,h),A=(N._stacks||{})[c.axis],O={horizontal:d,base:_.base,enableBorderRadius:!A||Em(N._custom)||l===A._top||l===A._bottom,x:d?_.head:S.center,y:d?S.center:_.head,height:d?S.size:Math.abs(_.size),width:d?Math.abs(_.size):S.size};w&&(O.options=y||this.resolveDataElementOptions(g,e[g].active?"active":a));const R=O.options||e[g].options;cE(O,R,A,l),dE(O,R,h.ratio),this.updateElement(e[g],g,O,a)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,a=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),i=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[r.axis],d=h=>{const y=h._parsed.find(g=>g[r.axis]===u),w=y&&y[h.vScale.axis];if(Wn(w)||isNaN(w))return!0};for(const h of a)if(!(n!==void 0&&d(h))&&((i===!1||l.indexOf(h.stack)===-1||i===void 0&&h.stack===void 0)&&l.push(h.stack),h.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[wn(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const a=this._getStacks(e,r),i=n!==void 0?a.indexOf(n):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,a=[];let i,l;for(i=0,l=n.data.length;i<l;++i)a.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const c=e.barThickness;return{min:c||rE(n),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:a},options:{base:i,minBarLength:l}}=this,c=i||0,u=this.getParsed(e),d=u._custom,h=Em(d);let y=u[n.axis],w=0,g=r?this.applyStack(n,u,r):y,N,_;g!==y&&(w=g-y,g=y),h&&(y=d.barStart,g=d.barEnd-d.barStart,y!==0&&ul(y)!==ul(d.barEnd)&&(w=0),w+=y);const S=!Wn(i)&&!h?i:w;let A=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?N=n.getPixelForValue(w+g):N=A,_=N-A,Math.abs(_)<l){_=sE(_,n,c)*l,y===c&&(A-=_/2);const O=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),I=Math.min(O,R),ee=Math.max(O,R);A=Math.max(Math.min(A,ee),I),N=A+_,r&&!h&&(u._stacks[n.axis]._visualValues[a]=n.getValueForPixel(N)-n.getValueForPixel(A))}if(A===n.getPixelForValue(c)){const O=ul(_)*n.getLineWidthForValue(c)/2;A+=O,_-=O}return{size:_,base:A,head:N,center:N+_/2}}_calculateBarIndexPixels(e,n){const r=n.scale,a=this.options,i=a.skipNull,l=wn(a.maxBarThickness,1/0);let c,u;const d=this._getAxisCount();if(n.grouped){const h=i?this._getStackCount(e):n.stackCount,y=a.barThickness==="flex"?oE(e,n,a,h*d):aE(e,n,a,h*d),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(wn(w,this.getFirstScaleIdForIndexAxis())),N=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;c=y.start+y.chunk*N+y.chunk/2,u=Math.min(l,y.chunk*y.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(l,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,a=r.length;let i=0;for(;i<a;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}function Vl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kp{static override(e){Object.assign(Kp.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Vl()}parse(){return Vl()}format(){return Vl()}add(){return Vl()}diff(){return Vl()}startOf(){return Vl()}endOf(){return Vl()}}var hE={_date:Kp};function mE(t,e,n,r){const{controller:a,data:i,_sorted:l}=t,c=a._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&i.length){const d=c._reversePixels?Z3:up;if(r){if(a._sharedOptions){const h=i[0],y=typeof h.getRange=="function"&&h.getRange(e);if(y){const w=d(i,e,n-y),g=d(i,e,n+y);return{lo:w.lo,hi:g.hi}}}}else{const h=d(i,e,n);if(u){const{vScale:y}=a._cachedMeta,{_parsed:w}=t,g=w.slice(0,h.lo+1).reverse().findIndex(_=>!Wn(_[y.axis]));h.lo-=Math.max(0,g);const N=w.slice(h.hi).findIndex(_=>!Wn(_[y.axis]));h.hi+=Math.max(0,N)}return h}}return{lo:0,hi:i.length-1}}function mh(t,e,n,r,a){const i=t.getSortedVisibleDatasetMetas(),l=n[e];for(let c=0,u=i.length;c<u;++c){const{index:d,data:h}=i[c],{lo:y,hi:w}=mE(i[c],e,l,a);for(let g=y;g<=w;++g){const N=h[g];N.skip||r(N,d,g)}}}function pE(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,a){const i=e?Math.abs(r.x-a.x):0,l=n?Math.abs(r.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function _m(t,e,n,r,a){const i=[];return!a&&!t.isPointInArea(e)||mh(t,n,e,function(c,u,d){!a&&!_v(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&i.push({element:c,datasetIndex:u,index:d})},!0),i}function gE(t,e,n,r){let a=[];function i(l,c,u){const{startAngle:d,endAngle:h}=l.getProps(["startAngle","endAngle"],r),{angle:y}=hv(l,{x:e.x,y:e.y});mv(y,d,h)&&a.push({element:l,datasetIndex:c,index:u})}return mh(t,n,e,i),a}function vE(t,e,n,r,a,i){let l=[];const c=pE(n);let u=Number.POSITIVE_INFINITY;function d(h,y,w){const g=h.inRange(e.x,e.y,a);if(r&&!g)return;const N=h.getCenterPoint(a);if(!(!!i||t.isPointInArea(N))&&!g)return;const S=c(e,N);S<u?(l=[{element:h,datasetIndex:y,index:w}],u=S):S===u&&l.push({element:h,datasetIndex:y,index:w})}return mh(t,n,e,d),l}function Sm(t,e,n,r,a,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?gE(t,e,n,a):vE(t,e,n,r,a,i)}function d1(t,e,n,r,a){const i=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return mh(t,n,e,(u,d,h)=>{u[l]&&u[l](e[n],a)&&(i.push({element:u,datasetIndex:d,index:h}),c=c||u.inRange(e.x,e.y,a))}),r&&!c?[]:i}var yE={modes:{index(t,e,n,r){const a=Yl(e,t),i=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?_m(t,a,i,r,l):Sm(t,a,i,!1,r,l),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=c[0].index,y=d.data[h];y&&!y.skip&&u.push({element:y,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,r){const a=Yl(e,t),i=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?_m(t,a,i,r,l):Sm(t,a,i,!1,r,l);if(c.length>0){const u=c[0].datasetIndex,d=t.getDatasetMeta(u).data;c=[];for(let h=0;h<d.length;++h)c.push({element:d[h],datasetIndex:u,index:h})}return c},point(t,e,n,r){const a=Yl(e,t),i=n.axis||"xy",l=n.includeInvisible||!1;return _m(t,a,i,r,l)},nearest(t,e,n,r){const a=Yl(e,t),i=n.axis||"xy",l=n.includeInvisible||!1;return Sm(t,a,i,n.intersect,r,l)},x(t,e,n,r){const a=Yl(e,t);return d1(t,a,"x",n.intersect,r)},y(t,e,n,r){const a=Yl(e,t);return d1(t,a,"y",n.intersect,r)}}};const Dv=["left","top","right","bottom"];function Wu(t,e){return t.filter(n=>n.pos===e)}function f1(t,e){return t.filter(n=>Dv.indexOf(n.pos)===-1&&n.box.axis===e)}function Hu(t,e){return t.sort((n,r)=>{const a=e?r:n,i=e?n:r;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function bE(t){const e=[];let n,r,a,i,l,c;for(n=0,r=(t||[]).length;n<r;++n)a=t[n],{position:i,options:{stack:l,stackWeight:c=1}}=a,e.push({index:n,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&i+l,stackWeight:c});return e}function wE(t){const e={};for(const n of t){const{stack:r,pos:a,stackWeight:i}=n;if(!r||!Dv.includes(a))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return e}function xE(t,e){const n=wE(t),{vBoxMaxWidth:r,hBoxMaxHeight:a}=e;let i,l,c;for(i=0,l=t.length;i<l;++i){c=t[i];const{fullSize:u}=c.box,d=n[c.stack],h=d&&c.stackWeight/d.weight;c.horizontal?(c.width=h?h*r:u&&e.availableWidth,c.height=a):(c.width=r,c.height=h?h*a:u&&e.availableHeight)}return n}function EE(t){const e=bE(t),n=Hu(e.filter(d=>d.box.fullSize),!0),r=Hu(Wu(e,"left"),!0),a=Hu(Wu(e,"right")),i=Hu(Wu(e,"top"),!0),l=Hu(Wu(e,"bottom")),c=f1(e,"x"),u=f1(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:a.concat(u).concat(l).concat(c),chartArea:Wu(e,"chartArea"),vertical:r.concat(a).concat(u),horizontal:i.concat(l).concat(c)}}function h1(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Ov(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function _E(t,e,n,r){const{pos:a,box:i}=n,l=t.maxPadding;if(!xn(a)){n.size&&(t[a]-=n.size);const y=r[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?i.height:i.width),n.size=y.size/y.count,t[a]+=n.size}i.getPadding&&Ov(l,i.getPadding());const c=Math.max(0,e.outerWidth-h1(l,t,"left","right")),u=Math.max(0,e.outerHeight-h1(l,t,"top","bottom")),d=c!==t.w,h=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function SE(t){const e=t.maxPadding;function n(r){const a=Math.max(e[r]-t[r],0);return t[r]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function kE(t,e){const n=e.maxPadding;function r(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{i[l]=Math.max(e[l],n[l])}),i}return r(t?["left","right"]:["top","bottom"])}function Zu(t,e,n,r){const a=[];let i,l,c,u,d,h;for(i=0,l=t.length,d=0;i<l;++i){c=t[i],u=c.box,u.update(c.width||e.w,c.height||e.h,kE(c.horizontal,e));const{same:y,other:w}=_E(e,n,c,r);d|=y&&a.length,h=h||w,u.fullSize||a.push(c)}return d&&Zu(a,e,n,r)||h}function gf(t,e,n,r,a){t.top=n,t.left=e,t.right=e+r,t.bottom=n+a,t.width=r,t.height=a}function m1(t,e,n,r){const a=n.padding;let{x:i,y:l}=e;for(const c of t){const u=c.box,d=r[c.stack]||{placed:0,weight:1},h=c.stackWeight/d.weight||1;if(c.horizontal){const y=e.w*h,w=d.size||u.height;dd(d.start)&&(l=d.start),u.fullSize?gf(u,a.left,l,n.outerWidth-a.right-a.left,w):gf(u,e.left+d.placed,l,y,w),d.start=l,d.placed+=y,l=u.bottom}else{const y=e.h*h,w=d.size||u.width;dd(d.start)&&(i=d.start),u.fullSize?gf(u,i,a.top,w,n.outerHeight-a.bottom-a.top):gf(u,i,e.top+d.placed,w,y),d.start=i,d.placed+=y,i=u.right}}e.x=i,e.y=l}var qo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const a=$o(t.options.layout.padding),i=Math.max(e-a.width,0),l=Math.max(n-a.height,0),c=EE(t.boxes),u=c.vertical,d=c.horizontal;Dn(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=u.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/h,hBoxMaxHeight:l/2}),w=Object.assign({},a);Ov(w,$o(r));const g=Object.assign({maxPadding:w,w:i,h:l,x:a.left,y:a.top},a),N=xE(u.concat(d),y);Zu(c.fullSize,g,y,N),Zu(u,g,y,N),Zu(d,g,y,N)&&Zu(u,g,y,N),SE(g),m1(c.leftAndTop,g,y,N),g.x+=g.w,g.y+=g.h,m1(c.rightAndBottom,g,y,N),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Dn(c.chartArea,_=>{const S=_.box;Object.assign(S,t.chartArea),S.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Iv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,a){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):r)}}isAttached(e){return!0}updateConfig(e){}}class NE extends Iv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const If="$chartjs",AE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},p1=t=>t===null||t==="";function CE(t,e){const n=t.style,r=t.getAttribute("height"),a=t.getAttribute("width");if(t[If]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",p1(a)){const i=t1(t,"width");i!==void 0&&(t.width=i)}if(p1(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=t1(t,"height");i!==void 0&&(t.height=i)}return t}const jv=I4?{passive:!0}:!1;function LE(t,e,n){t&&t.addEventListener(e,n,jv)}function PE(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,jv)}function TE(t,e){const n=AE[t.type]||t.type,{x:r,y:a}=Yl(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:a!==void 0?a:null}}function rh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ME(t,e,n){const r=t.canvas,a=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||rh(c.addedNodes,r),l=l&&!rh(c.removedNodes,r);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function RE(t,e,n){const r=t.canvas,a=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||rh(c.removedNodes,r),l=l&&!rh(c.addedNodes,r);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const hd=new Map;let g1=0;function Bv(){const t=window.devicePixelRatio;t!==g1&&(g1=t,hd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function FE(t,e){hd.size||window.addEventListener("resize",Bv),hd.set(t,e)}function DE(t){hd.delete(t),hd.size||window.removeEventListener("resize",Bv)}function OE(t,e,n){const r=t.canvas,a=r&&Gp(r);if(!a)return;const i=yv((c,u)=>{const d=a.clientWidth;n(c,u),d<a.clientWidth&&n()},window),l=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||i(d,h)});return l.observe(a),FE(t,i),l}function km(t,e,n){n&&n.disconnect(),e==="resize"&&DE(t)}function IE(t,e,n){const r=t.canvas,a=yv(i=>{t.ctx!==null&&n(TE(i,t))},t);return LE(r,e,a),a}class jE extends Iv{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(CE(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[If])return!1;const r=n[If].initial;["height","width"].forEach(i=>{const l=r[i];Wn(l)?n.removeAttribute(i):n.setAttribute(i,l)});const a=r.style||{};return Object.keys(a).forEach(i=>{n.style[i]=a[i]}),n.width=n.width,delete n[If],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),l={attach:ME,detach:RE,resize:OE}[n]||IE;a[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),a=r[n];if(!a)return;({attach:km,detach:km,resize:km}[n]||PE)(e,n,a),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,a){return O4(e,n,r,a)}isAttached(e){const n=e&&Gp(e);return!!(n&&n.isConnected)}}function BE(t){return!Yp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?NE:jE}class sc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return eh(this.x)&&eh(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const a={};return e.forEach(i=>{a[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),a}}function zE(t,e){const n=t.options.ticks,r=UE(t),a=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?WE(e):[],l=i.length,c=i[0],u=i[l-1],d=[];if(l>a)return HE(e,d,i,l/a),d;const h=qE(i,e,a);if(l>0){let y,w;const g=l>1?Math.round((u-c)/(l-1)):null;for(vf(e,d,h,Wn(g)?0:c-g,c),y=0,w=l-1;y<w;y++)vf(e,d,h,i[y],i[y+1]);return vf(e,d,h,u,Wn(g)?e.length:u+g),d}return vf(e,d,h),d}function UE(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(r,a))}function qE(t,e,n){const r=$E(t),a=e.length/n;if(!r)return Math.max(a,1);const i=V3(r);for(let l=0,c=i.length-1;l<c;l++){const u=i[l];if(u>a)return u}return Math.max(a,1)}function WE(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function HE(t,e,n,r){let a=0,i=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===i&&(e.push(t[l]),a++,i=n[a*r])}function vf(t,e,n,r,a){const i=wn(r,0),l=Math.min(wn(a,t.length),t.length);let c=0,u,d,h;for(n=Math.ceil(n),a&&(u=a-r,n=u/Math.floor(u/n)),h=i;h<0;)c++,h=Math.round(i+c*n);for(d=Math.max(i,0);d<l;d++)d===h&&(e.push(t[d]),c++,h=Math.round(i+c*n))}function $E(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const VE=t=>t==="left"?"right":t==="right"?"left":t,v1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,y1=(t,e)=>Math.min(e||t,t);function b1(t,e){const n=[],r=t.length/e,a=t.length;let i=0;for(;i<a;i+=r)n.push(t[Math.floor(i)]);return n}function YE(t,e,n){const r=t.ticks.length,a=Math.min(e,r-1),i=t._startPixel,l=t._endPixel,c=1e-6;let u=t.getPixelForTick(a),d;if(!(n&&(r===1?d=Math.max(u-i,l-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(a-1))/2,u+=a<e?d:-d,u<i-c||u>l+c)))return u}function GE(t,e){Dn(t,n=>{const r=n.gc,a=r.length/2;let i;if(a>e){for(i=0;i<a;++i)delete n.data[r[i]];r.splice(0,a)}})}function $u(t){return t.drawTicks?t.tickLength:0}function w1(t,e){if(!t.display)return 0;const n=La(t.font,e),r=$o(t.padding);return(Hr(t.text)?t.text.length:1)*n.lineHeight+r.height}function KE(t,e){return cu(t,{scale:e,type:"scale"})}function XE(t,e,n){return cu(t,{tick:n,index:e,type:"tick"})}function JE(t,e,n){let r=zp(t);return(n&&e!=="right"||!n&&e==="right")&&(r=VE(r)),r}function QE(t,e,n,r){const{top:a,left:i,bottom:l,right:c,chart:u}=t,{chartArea:d,scales:h}=u;let y=0,w,g,N;const _=l-a,S=c-i;if(t.isHorizontal()){if(g=Ca(r,i,c),xn(n)){const A=Object.keys(n)[0],O=n[A];N=h[A].getPixelForValue(O)+_-e}else n==="center"?N=(d.bottom+d.top)/2+_-e:N=v1(t,n,e);w=c-i}else{if(xn(n)){const A=Object.keys(n)[0],O=n[A];g=h[A].getPixelForValue(O)-S+e}else n==="center"?g=(d.left+d.right)/2-S+e:g=v1(t,n,e);N=Ca(r,l,a),y=n==="left"?-ua:ua}return{titleX:g,titleY:N,maxWidth:w,rotation:y}}class uu extends sc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:a}=this;return e=Ri(e,Number.POSITIVE_INFINITY),n=Ri(n,Number.NEGATIVE_INFINITY),r=Ri(r,Number.POSITIVE_INFINITY),a=Ri(a,Number.NEGATIVE_INFINITY),{min:Ri(e,r),max:Ri(n,a),minDefined:Ho(e),maxDefined:Ho(n)}}getMinMax(e){let{min:n,max:r,minDefined:a,maxDefined:i}=this.getUserBounds(),l;if(a&&i)return{min:n,max:r};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)l=c[u].controller.getMinMax(this,e),a||(n=Math.min(n,l.min)),i||(r=Math.max(r,l.max));return n=i&&n>r?r:n,r=a&&n>r?n:r,{min:Ri(n,Ri(r,n)),max:Ri(r,Ri(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Kn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:a,grace:i,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=x4(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?b1(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=zE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Kn(this.options.afterUpdate,[this])}beforeSetDimensions(){Kn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Kn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Kn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Kn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,a,i;for(r=0,a=e.length;r<a;r++)i=e[r],i.label=Kn(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Kn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Kn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=y1(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,i=n.maxRotation;let l=a,c,u,d;if(!this._isVisible()||!n.display||a>=i||r<=1||!this.isHorizontal()){this.labelRotation=a;return}const h=this._getLabelSizes(),y=h.widest.width,w=h.highest.height,g=no(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/r:g/(r-1),y+6>c&&(c=g/(r-(e.offset?.5:1)),u=this.maxHeight-$u(e.grid)-n.padding-w1(e.title,this.chart.options.font),d=Math.sqrt(y*y+w*w),l=X3(Math.min(Math.asin(no((h.highest.height+6)/c,-1,1)),Math.asin(no(u/d,-1,1))-Math.asin(no(w/d,-1,1)))),l=Math.max(a,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Kn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Kn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:a,grid:i}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const u=w1(a,n.options.font);if(c?(e.width=this.maxWidth,e.height=$u(i)+u):(e.height=this.maxHeight,e.width=$u(i)+u),r.display&&this.ticks.length){const{first:d,last:h,widest:y,highest:w}=this._getLabelSizes(),g=r.padding*2,N=Zl(this.labelRotation),_=Math.cos(N),S=Math.sin(N);if(c){const A=r.mirror?0:S*y.width+_*w.height;e.height=Math.min(this.maxHeight,e.height+A+g)}else{const A=r.mirror?0:_*y.width+S*w.height;e.width=Math.min(this.maxWidth,e.width+A+g)}this._calculatePadding(d,h,S,_)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,a){const{ticks:{align:i,padding:l},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,g=0;u?d?(w=a*e.width,g=r*n.height):(w=r*e.height,g=a*n.width):i==="start"?g=n.width:i==="end"?w=e.width:i!=="inner"&&(w=e.width/2,g=n.width/2),this.paddingLeft=Math.max((w-h+l)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-y+l)*this.width/(this.width-y),0)}else{let h=n.height/2,y=e.height/2;i==="start"?(h=0,y=e.height):i==="end"&&(h=n.height,y=0),this.paddingTop=h+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Kn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Wn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=b1(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:a,_longestTextCache:i}=this,l=[],c=[],u=Math.floor(n/y1(n,r));let d=0,h=0,y,w,g,N,_,S,A,O,R,I,ee;for(y=0;y<n;y+=u){if(N=e[y].label,_=this._resolveTickFontOptions(y),a.font=S=_.string,A=i[S]=i[S]||{data:{},gc:[]},O=_.lineHeight,R=I=0,!Wn(N)&&!Hr(N))R=K0(a,A.data,A.gc,R,N),I=O;else if(Hr(N))for(w=0,g=N.length;w<g;++w)ee=N[w],!Wn(ee)&&!Hr(ee)&&(R=K0(a,A.data,A.gc,R,ee),I+=O);l.push(R),c.push(I),d=Math.max(R,d),h=Math.max(I,h)}GE(i,n);const U=l.indexOf(d),te=c.indexOf(h),X=T=>({width:l[T]||0,height:c[T]||0});return{first:X(0),last:X(n-1),widest:X(U),highest:X(te),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Q3(this._alignToPixels?$l(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=XE(this.getContext(),e,r))}return this.$context||(this.$context=KE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Zl(this.labelRotation),r=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),i=this._getLabelSizes(),l=e.autoSkipPadding||0,c=i?i.widest.width+l:0,u=i?i.highest.height+l:0;return this.isHorizontal()?u*r>c*a?c/r:u/a:u*a<c*r?u/r:c/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,a=this.options,{grid:i,position:l,border:c}=a,u=i.offset,d=this.isHorizontal(),y=this.ticks.length+(u?1:0),w=$u(i),g=[],N=c.setContext(this.getContext()),_=N.display?N.width:0,S=_/2,A=function(ne){return $l(r,ne,_)};let O,R,I,ee,U,te,X,T,Y,F,M,j;if(l==="top")O=A(this.bottom),te=this.bottom-w,T=O-S,F=A(e.top)+S,j=e.bottom;else if(l==="bottom")O=A(this.top),F=e.top,j=A(e.bottom)-S,te=O+S,T=this.top+w;else if(l==="left")O=A(this.right),U=this.right-w,X=O-S,Y=A(e.left)+S,M=e.right;else if(l==="right")O=A(this.left),Y=e.left,M=A(e.right)-S,U=O+S,X=this.left+w;else if(n==="x"){if(l==="center")O=A((e.top+e.bottom)/2+.5);else if(xn(l)){const ne=Object.keys(l)[0],ce=l[ne];O=A(this.chart.scales[ne].getPixelForValue(ce))}F=e.top,j=e.bottom,te=O+S,T=te+w}else if(n==="y"){if(l==="center")O=A((e.left+e.right)/2);else if(xn(l)){const ne=Object.keys(l)[0],ce=l[ne];O=A(this.chart.scales[ne].getPixelForValue(ce))}U=O-S,X=U-w,Y=e.left,M=e.right}const D=wn(a.ticks.maxTicksLimit,y),$=Math.max(1,Math.ceil(y/D));for(R=0;R<y;R+=$){const ne=this.getContext(R),ce=i.setContext(ne),re=c.setContext(ne),de=ce.lineWidth,ye=ce.color,G=re.dash||[],P=re.dashOffset,K=ce.tickWidth,Z=ce.tickColor,se=ce.tickBorderDash||[],fe=ce.tickBorderDashOffset;I=YE(this,R,u),I!==void 0&&(ee=$l(r,I,de),d?U=X=Y=M=ee:te=T=F=j=ee,g.push({tx1:U,ty1:te,tx2:X,ty2:T,x1:Y,y1:F,x2:M,y2:j,width:de,color:ye,borderDash:G,borderDashOffset:P,tickWidth:K,tickColor:Z,tickBorderDash:se,tickBorderDashOffset:fe}))}return this._ticksLength=y,this._borderValue=O,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:a,ticks:i}=r,l=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:h,mirror:y}=i,w=$u(r.grid),g=w+h,N=y?-h:g,_=-Zl(this.labelRotation),S=[];let A,O,R,I,ee,U,te,X,T,Y,F,M,j="middle";if(a==="top")U=this.bottom-N,te=this._getXAxisLabelAlignment();else if(a==="bottom")U=this.top+N,te=this._getXAxisLabelAlignment();else if(a==="left"){const $=this._getYAxisLabelAlignment(w);te=$.textAlign,ee=$.x}else if(a==="right"){const $=this._getYAxisLabelAlignment(w);te=$.textAlign,ee=$.x}else if(n==="x"){if(a==="center")U=(e.top+e.bottom)/2+g;else if(xn(a)){const $=Object.keys(a)[0],ne=a[$];U=this.chart.scales[$].getPixelForValue(ne)+g}te=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")ee=(e.left+e.right)/2-g;else if(xn(a)){const $=Object.keys(a)[0],ne=a[$];ee=this.chart.scales[$].getPixelForValue(ne)}te=this._getYAxisLabelAlignment(w).textAlign}n==="y"&&(u==="start"?j="top":u==="end"&&(j="bottom"));const D=this._getLabelSizes();for(A=0,O=c.length;A<O;++A){R=c[A],I=R.label;const $=i.setContext(this.getContext(A));X=this.getPixelForTick(A)+i.labelOffset,T=this._resolveTickFontOptions(A),Y=T.lineHeight,F=Hr(I)?I.length:1;const ne=F/2,ce=$.color,re=$.textStrokeColor,de=$.textStrokeWidth;let ye=te;l?(ee=X,te==="inner"&&(A===O-1?ye=this.options.reverse?"left":"right":A===0?ye=this.options.reverse?"right":"left":ye="center"),a==="top"?d==="near"||_!==0?M=-F*Y+Y/2:d==="center"?M=-D.highest.height/2-ne*Y+Y:M=-D.highest.height+Y/2:d==="near"||_!==0?M=Y/2:d==="center"?M=D.highest.height/2-ne*Y:M=D.highest.height-F*Y,y&&(M*=-1),_!==0&&!$.showLabelBackdrop&&(ee+=Y/2*Math.sin(_))):(U=X,M=(1-F)*Y/2);let G;if($.showLabelBackdrop){const P=$o($.backdropPadding),K=D.heights[A],Z=D.widths[A];let se=M-P.top,fe=0-P.left;switch(j){case"middle":se-=K/2;break;case"bottom":se-=K;break}switch(te){case"center":fe-=Z/2;break;case"right":fe-=Z;break;case"inner":A===O-1?fe-=Z:A>0&&(fe-=Z/2);break}G={left:fe,top:se,width:Z+P.width,height:K+P.height,color:$.backdropColor}}S.push({label:I,font:T,textOffset:M,options:{rotation:_,color:ce,strokeColor:re,strokeWidth:de,textAlign:ye,textBaseline:j,translation:[ee,U],backdrop:G}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Zl(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:a,padding:i}}=this.options,l=this._getLabelSizes(),c=e+i,u=l.widest.width;let d,h;return n==="left"?a?(h=this.right+i,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-c,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?a?(h=this.left+i,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+c,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:a,width:i,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,a,i,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,l;const c=(u,d,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(i=0,l=a.length;i<l;++i){const u=a[i];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:a}}=this,i=r.setContext(this.getContext()),l=r.display?i.width:0;if(!l)return;const c=a.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,y,w;this.isHorizontal()?(d=$l(e,this.left,l)-l/2,h=$l(e,this.right,c)+c/2,y=w=u):(y=$l(e,this.top,l)-l/2,w=$l(e,this.bottom,c)+c/2,d=h=u),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,y),n.lineTo(h,w),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,a=this._computeLabelArea();a&&Up(r,a);const i=this.getLabelItems(e);for(const l of i){const c=l.options,u=l.font,d=l.label,h=l.textOffset;fd(r,d,0,h,u,c)}a&&qp(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:a}}=this;if(!r.display)return;const i=La(r.font),l=$o(r.padding),c=r.align;let u=i.lineHeight/2;n==="bottom"||n==="center"||xn(n)?(u+=l.bottom,Hr(r.text)&&(u+=i.lineHeight*(r.text.length-1))):u+=l.top;const{titleX:d,titleY:h,maxWidth:y,rotation:w}=QE(this,u,n,c);fd(e,r.text,0,0,i,{color:r.color,maxWidth:y,rotation:w,textAlign:JE(c,n,a),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=wn(e.grid&&e.grid.z,-1),a=wn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==uu.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];let i,l;for(i=0,l=n.length;i<l;++i){const c=n[i];c[r]===this.id&&(!e||c.type===e)&&a.push(c)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return La(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;t_(n)&&(r=this.register(n));const a=this.items,i=e.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,ZE(e,l,r),this.override&&Tr.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,a=this.scope;r in n&&delete n[r],a&&r in Tr[a]&&(delete Tr[a][r],this.override&&delete rc[r])}}function ZE(t,e,n){const r=ud(Object.create(null),[n?Tr.get(n):{},Tr.get(e),t.defaults]);Tr.set(e,r),t.defaultRoutes&&e_(e,t.defaultRoutes),t.descriptors&&Tr.describe(e,t.descriptors)}function e_(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),a=r.pop(),i=[t].concat(r).join("."),l=e[n].split("."),c=l.pop(),u=l.join(".");Tr.route(i,a,u,c)})}function t_(t){return"id"in t&&"defaults"in t}class n_{constructor(){this.controllers=new yf(Rv,"datasets",!0),this.elements=new yf(sc,"elements"),this.plugins=new yf(Object,"plugins"),this.scales=new yf(uu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(a=>{const i=r||this._getRegistryForType(a);r||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Dn(a,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,n,r){const a=jp(e);Kn(r["before"+a],[],r),n[e](r),Kn(r["after"+a],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return a}}var Ii=new n_;class r_{constructor(){this._init=[]}notify(e,n,r,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,r,a){a=a||{};for(const i of e){const l=i.plugin,c=l[r],u=[n,a,i.options];if(Kn(c,u,l)===!1&&a.cancelable)return!1}return!0}invalidate(){Wn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,a=wn(r.options&&r.options.plugins,{}),i=a_(r);return a===!1&&!n?[]:i_(e,i,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,a=(i,l)=>i.filter(c=>!l.some(u=>c.plugin.id===u.plugin.id));this._notify(a(n,r),e,"stop"),this._notify(a(r,n),e,"start")}}function a_(t){const e={},n=[],r=Object.keys(Ii.plugins.items);for(let i=0;i<r.length;i++)n.push(Ii.getPlugin(r[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const l=a[i];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function o_(t,e){return!e&&t===!1?null:t===!0?{}:t}function i_(t,{plugins:e,localIds:n},r,a){const i=[],l=t.getContext();for(const c of e){const u=c.id,d=o_(r[u],a);d!==null&&i.push({plugin:c,options:s_(t.config,{plugin:c,local:n[u]},d,l)})}return i}function s_(t,{plugin:e,local:n},r,a){const i=t.pluginScopeKeys(e),l=t.getOptionScopes(r,i);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fp(t,e){const n=Tr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function l_(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function c_(t,e){return t===e?"_index_":"_value_"}function x1(t){if(t==="x"||t==="y"||t==="r")return t}function u_(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function hp(t,...e){if(x1(t))return t;for(const n of e){const r=n.axis||u_(n.position)||t.length>1&&x1(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function E1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function d_(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return E1(t,"x",n[0])||E1(t,"y",n[0])}return{}}function f_(t,e){const n=rc[t.type]||{scales:{}},r=e.scales||{},a=fp(t.type,e),i=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!xn(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=hp(l,c,d_(l,t),Tr.scales[c.type]),d=c_(u,a),h=n.scales||{};i[l]=td(Object.create(null),[{axis:u},c,h[u],h[d]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,u=l.indexAxis||fp(c,e),h=(rc[c]||{}).scales||{};Object.keys(h).forEach(y=>{const w=l_(y,u),g=l[w+"AxisID"]||w;i[g]=i[g]||Object.create(null),td(i[g],[{axis:w},r[g],h[y]])})}),Object.keys(i).forEach(l=>{const c=i[l];td(c,[Tr.scales[c.type],Tr.scale])}),i}function zv(t){const e=t.options||(t.options={});e.plugins=wn(e.plugins,{}),e.scales=f_(t,e)}function Uv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function h_(t){return t=t||{},t.data=Uv(t.data),zv(t),t}const _1=new Map,qv=new Set;function bf(t,e){let n=_1.get(t);return n||(n=e(),_1.set(t,n),qv.add(n)),n}const Vu=(t,e,n)=>{const r=su(e,n);r!==void 0&&t.add(r)};class m_{constructor(e){this._config=h_(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Uv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return bf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return bf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return bf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let a=r.get(e);return(!a||n)&&(a=new Map,r.set(e,a)),a}getOptionScopes(e,n,r){const{options:a,type:i}=this,l=this._cachedScopes(e,r),c=l.get(n);if(c)return c;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(y=>Vu(u,e,y))),h.forEach(y=>Vu(u,a,y)),h.forEach(y=>Vu(u,rc[i]||{},y)),h.forEach(y=>Vu(u,Tr,y)),h.forEach(y=>Vu(u,dp,y))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),qv.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,rc[n]||{},Tr.datasets[n]||{},{type:n},Tr,dp]}resolveNamedOptions(e,n,r,a=[""]){const i={$shared:!0},{resolver:l,subPrefixes:c}=S1(this._resolverCache,e,a);let u=l;if(g_(l,n)){i.$shared=!1,r=fl(r)?r():r;const d=this.createResolver(e,r,c);u=lu(l,r,d)}for(const d of n)i[d]=u[d];return i}createResolver(e,n,r=[""],a){const{resolver:i}=S1(this._resolverCache,e,r);return xn(n)?lu(i,n,void 0,a):i}}function S1(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const a=n.join();let i=r.get(a);return i||(i={resolver:Hp(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},r.set(a,i)),i}const p_=t=>xn(t)&&Object.getOwnPropertyNames(t).some(e=>fl(t[e]));function g_(t,e){const{isScriptable:n,isIndexable:r}=kv(t);for(const a of e){const i=n(a),l=r(a),c=(l||i)&&t[a];if(i&&(fl(c)||p_(c))||l&&Hr(c))return!0}return!1}var v_="4.5.0";const y_=["top","bottom","left","right","chartArea"];function k1(t,e){return t==="top"||t==="bottom"||y_.indexOf(t)===-1&&e==="x"}function N1(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function A1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Kn(n&&n.onComplete,[t],e)}function b_(t){const e=t.chart,n=e.options.animation;Kn(n&&n.onProgress,[t],e)}function Wv(t){return Yp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const jf={},C1=t=>{const e=Wv(t);return Object.values(jf).filter(n=>n.canvas===e).pop()};function w_(t,e,n){const r=Object.keys(t);for(const a of r){const i=+a;if(i>=e){const l=t[a];delete t[a],(n>0||i>e)&&(t[i+n]=l)}}}function x_(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let ph=class{static defaults=Tr;static instances=jf;static overrides=rc;static registry=Ii;static version=v_;static getChart=C1;static register(...e){Ii.add(...e),L1()}static unregister(...e){Ii.remove(...e),L1()}constructor(e,n){const r=this.config=new m_(n),a=Wv(e),i=C1(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||BE(a)),this.platform.updateConfig(r);const c=this.platform.acquireContext(a,l.aspectRatio),u=c&&c.canvas,d=u&&u.height,h=u&&u.width;if(this.id=j3(),this.ctx=c,this.canvas=u,this.width=h,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new r_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=n4(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],jf[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}bs.listen(this,"complete",A1),bs.listen(this,"progress",b_),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:a,_aspectRatio:i}=this;return Wn(e)?n&&i?i:a?r/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ii}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():e1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return X0(this.canvas,this.ctx),this}stop(){return bs.stop(this),this}resize(e,n){bs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,a=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,n,i),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,e1(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Kn(r.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Dn(n,(r,a)=>{r.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,a=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let i=[];n&&(i=i.concat(Object.keys(n).map(l=>{const c=n[l],u=hp(l,c),d=u==="r",h=u==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Dn(i,l=>{const c=l.options,u=c.id,d=hp(u,c),h=wn(c.type,l.dtype);(c.position===void 0||k1(c.position,d)!==k1(l.dposition))&&(c.position=l.dposition),a[u]=!0;let y=null;if(u in r&&r[u].type===h)y=r[u];else{const w=Ii.getScale(h);y=new w({id:u,type:h,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(c,e)}),Dn(a,(l,c)=>{l||delete r[c]}),Dn(r,l=>{qo.configure(this,l,l.options),qo.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((a,i)=>a.index-i.index),r>n){for(let a=n;a<r;++a)this._destroyDatasetMeta(a);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(N1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,a)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,a;for(this._removeUnreferencedMetasets(),r=0,a=n.length;r<a;r++){const i=n[r];let l=this.getDatasetMeta(r);const c=i.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=i.indexAxis||fp(c,this.options),l.order=i.order||0,l.index=r,l.label=""+i.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const u=Ii.getController(c),{datasetElementType:d,dataElementType:h}=Tr.datasets[c];Object.assign(u,{dataElementType:Ii.getElement(h),datasetElementType:d&&Ii.getElement(d)}),l.controller=new u(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Dn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:y}=this.getDatasetMeta(d),w=!a&&i.indexOf(y)===-1;y.buildOrUpdateElements(w),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),a||Dn(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(N1("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Dn(this.scales,e=>{qo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!z0(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:a,count:i}of n){const l=r==="_removeElements"?-i:i;w_(e,a,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(l=>l[0]===i).map((l,c)=>c+","+l.splice(1).join(","))),a=r(0);for(let i=1;i<n;i++)if(!z0(a,r(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qo.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Dn(this.boxes,a=>{r&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,fl(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),a={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(r.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bs.has(this)?this.attached&&!bs.running(this)&&bs.start(this):(this.draw(),A1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let a,i;for(a=0,i=n.length;a<i;++a){const l=n[a];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},a=U4(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(a&&Up(n,a),e.controller.draw(),a&&qp(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return _v(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,a){const i=yE.modes[n];return typeof i=="function"?i(this,e,r,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let a=r.filter(i=>i&&i._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(a)),a}getContext(){return this.$context||(this.$context=cu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const a=r?"show":"hide",i=this.getDatasetMeta(e),l=i.controller._resolveAnimations(void 0,a);dd(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(i,{visible:r}),this.update(c=>c.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),X0(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete jf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,l)=>{n.addEventListener(this,i,l),e[i]=l},a=(i,l,c)=>{i.offsetX=l,i.offsetY=c,this._eventHandler(i)};Dn(this.options.events,i=>r(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},a=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},i=(u,d)=>{this.canvas&&this.resize(u,d)};let l;const c=()=>{a("attach",c),this.attached=!0,this.resize(),r("resize",i),r("detach",l)};l=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){Dn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Dn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const a=r?"set":"remove";let i,l,c,u;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){l=e[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:l})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[l],index:l}});!Jf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const a=this.options.hover,i=(u,d)=>u.filter(h=>!d.some(y=>h.datasetIndex===y.datasetIndex&&h.index===y.index)),l=i(n,e),c=r?e:i(e,n);l.length&&this.updateHoverStyle(l,a.mode,!1),c.length&&a.mode&&this.updateHoverStyle(c,a.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,a)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:a=[],options:i}=this,l=n,c=this._getActiveElements(e,a,r,l),u=H3(e),d=x_(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Kn(i.onHover,[e,c,this],this),u&&Kn(i.onClick,[e,c,this],this));const h=!Jf(c,a);return(h||n)&&(this._active=c,this._updateHoverStyles(c,a,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,a){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function L1(){return Dn(ph.instances,t=>t._plugins.invalidate())}function E_(t,e,n){const{startAngle:r,x:a,y:i,outerRadius:l,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,y=Math.min(d/l,ji(r-n));if(t.beginPath(),t.arc(a,i,l-d/2,r+y/2,n-y/2),c>0){const w=Math.min(d/c,ji(r-n));t.arc(a,i,c+d/2,n-w/2,r+w/2,!0)}else{const w=Math.min(d/2,l*ji(r-n));if(h==="round")t.arc(a,i,w,n-Xn/2,r+Xn/2,!0);else if(h==="bevel"){const g=2*w*w,N=-g*Math.cos(n+Xn/2)+a,_=-g*Math.sin(n+Xn/2)+i,S=g*Math.cos(r+Xn/2)+a,A=g*Math.sin(r+Xn/2)+i;t.lineTo(N,_),t.lineTo(S,A)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function __(t,e,n){const{startAngle:r,pixelMargin:a,x:i,y:l,outerRadius:c,innerRadius:u}=e;let d=a/c;t.beginPath(),t.arc(i,l,c,r-d,n+d),u>a?(d=a/u,t.arc(i,l,u,n+d,r-d,!0)):t.arc(i,l,a,n+ua,r-ua),t.closePath(),t.clip()}function S_(t){return Wp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function k_(t,e,n,r){const a=S_(t.options.borderRadius),i=(n-e)/2,l=Math.min(i,r*e/2),c=u=>{const d=(n-Math.min(i,u))*r/2;return no(u,0,Math.min(i,d))};return{outerStart:c(a.outerStart),outerEnd:c(a.outerEnd),innerStart:no(a.innerStart,0,l),innerEnd:no(a.innerEnd,0,l)}}function Hc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function ah(t,e,n,r,a,i){const{x:l,y:c,startAngle:u,pixelMargin:d,innerRadius:h}=e,y=Math.max(e.outerRadius+r+n-d,0),w=h>0?h+r+n+d:0;let g=0;const N=a-u;if(r){const $=h>0?h-r:0,ne=y>0?y-r:0,ce=($+ne)/2,re=ce!==0?N*ce/(ce+r):N;g=(N-re)/2}const _=Math.max(.001,N*y-n/Xn)/y,S=(N-_)/2,A=u+S+g,O=a-S-g,{outerStart:R,outerEnd:I,innerStart:ee,innerEnd:U}=k_(e,w,y,O-A),te=y-R,X=y-I,T=A+R/te,Y=O-I/X,F=w+ee,M=w+U,j=A+ee/F,D=O-U/M;if(t.beginPath(),i){const $=(T+Y)/2;if(t.arc(l,c,y,T,$),t.arc(l,c,y,$,Y),I>0){const de=Hc(X,Y,l,c);t.arc(de.x,de.y,I,Y,O+ua)}const ne=Hc(M,O,l,c);if(t.lineTo(ne.x,ne.y),U>0){const de=Hc(M,D,l,c);t.arc(de.x,de.y,U,O+ua,D+Math.PI)}const ce=(O-U/w+(A+ee/w))/2;if(t.arc(l,c,w,O-U/w,ce,!0),t.arc(l,c,w,ce,A+ee/w,!0),ee>0){const de=Hc(F,j,l,c);t.arc(de.x,de.y,ee,j+Math.PI,A-ua)}const re=Hc(te,A,l,c);if(t.lineTo(re.x,re.y),R>0){const de=Hc(te,T,l,c);t.arc(de.x,de.y,R,A-ua,T)}}else{t.moveTo(l,c);const $=Math.cos(T)*y+l,ne=Math.sin(T)*y+c;t.lineTo($,ne);const ce=Math.cos(Y)*y+l,re=Math.sin(Y)*y+c;t.lineTo(ce,re)}t.closePath()}function N_(t,e,n,r,a){const{fullCircles:i,startAngle:l,circumference:c}=e;let u=e.endAngle;if(i){ah(t,e,n,r,u,a);for(let d=0;d<i;++d)t.fill();isNaN(c)||(u=l+(c%za||za))}return ah(t,e,n,r,u,a),t.fill(),u}function A_(t,e,n,r,a){const{fullCircles:i,startAngle:l,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:y,borderDashOffset:w,borderRadius:g}=u,N=u.borderAlign==="inner";if(!d)return;t.setLineDash(y||[]),t.lineDashOffset=w,N?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let _=e.endAngle;if(i){ah(t,e,n,r,_,a);for(let S=0;S<i;++S)t.stroke();isNaN(c)||(_=l+(c%za||za))}N&&__(t,e,_),u.selfJoin&&_-l>=Xn&&g===0&&h!=="miter"&&E_(t,e,_),i||(ah(t,e,n,r,_,a),t.stroke())}class C_ extends sc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const a=this.getProps(["x","y"],r),{angle:i,distance:l}=hv(a,{x:e,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,g=wn(y,u-c),N=mv(i,c,u)&&c!==u,_=g>=za||N,S=ec(l,d+w,h+w);return _&&S}getCenterPoint(e){const{x:n,y:r,startAngle:a,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(a+i)/2,y=(l+c+d+u)/2;return{x:n+Math.cos(h)*y,y:r+Math.sin(h)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,a=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>za?Math.floor(r/za):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a);const u=1-Math.sin(Math.min(Xn,r||0)),d=a*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,N_(e,this,d,i,l),A_(e,this,d,i,l),e.restore()}}function Hv(t,e){const{x:n,y:r,base:a,width:i,height:l}=t.getProps(["x","y","base","width","height"],e);let c,u,d,h,y;return t.horizontal?(y=l/2,c=Math.min(n,a),u=Math.max(n,a),d=r-y,h=r+y):(y=i/2,c=n-y,u=n+y,d=Math.min(r,a),h=Math.max(r,a)),{left:c,top:d,right:u,bottom:h}}function sl(t,e,n,r){return t?0:no(e,n,r)}function L_(t,e,n){const r=t.options.borderWidth,a=t.borderSkipped,i=Sv(r);return{t:sl(a.top,i.top,0,n),r:sl(a.right,i.right,0,e),b:sl(a.bottom,i.bottom,0,n),l:sl(a.left,i.left,0,e)}}function P_(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=eu(a),l=Math.min(e,n),c=t.borderSkipped,u=r||xn(a);return{topLeft:sl(!u||c.top||c.left,i.topLeft,0,l),topRight:sl(!u||c.top||c.right,i.topRight,0,l),bottomLeft:sl(!u||c.bottom||c.left,i.bottomLeft,0,l),bottomRight:sl(!u||c.bottom||c.right,i.bottomRight,0,l)}}function T_(t){const e=Hv(t),n=e.right-e.left,r=e.bottom-e.top,a=L_(t,n/2,r/2),i=P_(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function Nm(t,e,n,r){const a=e===null,i=n===null,c=t&&!(a&&i)&&Hv(t,r);return c&&(a||ec(e,c.left,c.right))&&(i||ec(n,c.top,c.bottom))}function M_(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function R_(t,e){t.rect(e.x,e.y,e.w,e.h)}function Am(t,e,n={}){const r=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+r,y:t.y+a,w:t.w+i,h:t.h+l,radius:t.radius}}class F_ extends sc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:a}}=this,{inner:i,outer:l}=T_(this),c=M_(l.radius)?th:R_;e.save(),(l.w!==i.w||l.h!==i.h)&&(e.beginPath(),c(e,Am(l,n,i)),e.clip(),c(e,Am(i,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Am(i,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,r){return Nm(this,e,n,r)}inXRange(e,n){return Nm(this,e,null,n)}inYRange(e,n){return Nm(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+a)/2:n,y:i?r:(r+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const P1=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},D_=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class T1 extends sc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Kn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,a)=>e.sort(r,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,a=La(r.font),i=a.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=P1(r,i);let d,h;n.font=a.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(l,i,c,u)+10):(h=this.maxHeight,d=this._fitCols(l,a,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,a){const{ctx:i,maxWidth:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=a+c;let y=e;i.textAlign="left",i.textBaseline="middle";let w=-1,g=-h;return this.legendItems.forEach((N,_)=>{const S=r+n/2+i.measureText(N.text).width;(_===0||d[d.length-1]+S+2*c>l)&&(y+=h,d[d.length-(_>0?0:1)]=0,g+=h,w++),u[_]={left:0,top:g,row:w,width:S,height:a},d[d.length-1]+=S+c}),y}_fitCols(e,n,r,a){const{ctx:i,maxHeight:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=l-e;let y=c,w=0,g=0,N=0,_=0;return this.legendItems.forEach((S,A)=>{const{itemWidth:O,itemHeight:R}=O_(r,n,i,S,a);A>0&&g+R+2*c>h&&(y+=w+c,d.push({width:w,height:g}),N+=w+c,_++,w=g=0),u[A]={left:N,top:g,col:_,width:O,height:R},w=Math.max(w,O),g+=R+c}),y+=w,d.push({width:w,height:g}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:a},rtl:i}}=this,l=tu(i,this.left,this.width);if(this.isHorizontal()){let c=0,u=Ca(r,this.left+a,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,u=Ca(r,this.left+a,this.right-this.lineWidths[c])),d.top+=this.top+e+a,d.left=l.leftForLtr(l.x(u),d.width),u+=d.width+a}else{let c=0,u=Ca(r,this.top+e+a,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,u=Ca(r,this.top+e+a,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+a,d.left=l.leftForLtr(l.x(d.left),d.width),u+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Up(e,this),this._draw(),qp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:a}=this,{align:i,labels:l}=e,c=Tr.color,u=tu(e.rtl,this.left,this.width),d=La(l.font),{padding:h}=l,y=d.size,w=y/2;let g;this.drawTitle(),a.textAlign=u.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:N,boxHeight:_,itemHeight:S}=P1(l,y),A=function(U,te,X){if(isNaN(N)||N<=0||isNaN(_)||_<0)return;a.save();const T=wn(X.lineWidth,1);if(a.fillStyle=wn(X.fillStyle,c),a.lineCap=wn(X.lineCap,"butt"),a.lineDashOffset=wn(X.lineDashOffset,0),a.lineJoin=wn(X.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=wn(X.strokeStyle,c),a.setLineDash(wn(X.lineDash,[])),l.usePointStyle){const Y={radius:_*Math.SQRT2/2,pointStyle:X.pointStyle,rotation:X.rotation,borderWidth:T},F=u.xPlus(U,N/2),M=te+w;Ev(a,Y,F,M,l.pointStyleWidth&&N)}else{const Y=te+Math.max((y-_)/2,0),F=u.leftForLtr(U,N),M=eu(X.borderRadius);a.beginPath(),Object.values(M).some(j=>j!==0)?th(a,{x:F,y:Y,w:N,h:_,radius:M}):a.rect(F,Y,N,_),a.fill(),T!==0&&a.stroke()}a.restore()},O=function(U,te,X){fd(a,X.text,U,te+S/2,d,{strikethrough:X.hidden,textAlign:u.textAlign(X.textAlign)})},R=this.isHorizontal(),I=this._computeTitleHeight();R?g={x:Ca(i,this.left+h,this.right-r[0]),y:this.top+h+I,line:0}:g={x:this.left+h,y:Ca(i,this.top+I+h,this.bottom-n[0].height),line:0},Lv(this.ctx,e.textDirection);const ee=S+h;this.legendItems.forEach((U,te)=>{a.strokeStyle=U.fontColor,a.fillStyle=U.fontColor;const X=a.measureText(U.text).width,T=u.textAlign(U.textAlign||(U.textAlign=l.textAlign)),Y=N+w+X;let F=g.x,M=g.y;u.setWidth(this.width),R?te>0&&F+Y+h>this.right&&(M=g.y+=ee,g.line++,F=g.x=Ca(i,this.left+h,this.right-r[g.line])):te>0&&M+ee>this.bottom&&(F=g.x=F+n[g.line].width+h,g.line++,M=g.y=Ca(i,this.top+I+h,this.bottom-n[g.line].height));const j=u.x(F);if(A(j,M,U),F=r4(T,F+N+w,R?F+Y:this.right,e.rtl),O(u.x(F),M,U),R)g.x+=Y+h;else if(typeof U.text!="string"){const D=d.lineHeight;g.y+=$v(U,D)+h}else g.y+=ee}),Pv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=La(n.font),a=$o(n.padding);if(!n.display)return;const i=tu(e.rtl,this.left,this.width),l=this.ctx,c=n.position,u=r.size/2,d=a.top+u;let h,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),h=this.top+d,y=Ca(e.align,y,this.right-w);else{const N=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);h=d+Ca(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const g=Ca(c,y,y+w);l.textAlign=i.textAlign(zp(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,fd(l,n.text,g,h,r)}_computeTitleHeight(){const e=this.options.title,n=La(e.font),r=$o(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,a,i;if(ec(e,this.left,this.right)&&ec(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(a=i[r],ec(e,a.left,a.left+a.width)&&ec(n,a.top,a.top+a.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!B_(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=D_(a,r);a&&!i&&Kn(n.onLeave,[e,a,this],this),this._hoveredItem=r,r&&!i&&Kn(n.onHover,[e,r,this],this)}else r&&Kn(n.onClick,[e,r,this],this)}}function O_(t,e,n,r,a){const i=I_(r,t,e,n),l=j_(a,r,e.lineHeight);return{itemWidth:i,itemHeight:l}}function I_(t,e,n,r){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,l)=>i.length>l.length?i:l)),e+n.size/2+r.measureText(a).width}function j_(t,e,n){let r=t;return typeof e.text!="string"&&(r=$v(e,n)),r}function $v(t,e){const n=t.text?t.text.length:0;return e*n}function B_(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var z_={id:"legend",_element:T1,start(t,e,n){const r=t.legend=new T1({ctx:t.ctx,options:n,chart:t});qo.configure(t,r,n),qo.addBox(t,r)},stop(t){qo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;qo.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,a=n.chart;a.isDatasetVisible(r)?(a.hide(r),e.hidden=!0):(a.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:a,color:i,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=$o(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Vv extends sc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=Hr(r.text)?r.text.length:1;this._padding=$o(r.padding);const i=a*La(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:a,right:i,options:l}=this,c=l.align;let u=0,d,h,y;return this.isHorizontal()?(h=Ca(c,r,i),y=n+e,d=i-r):(l.position==="left"?(h=r+e,y=Ca(c,a,n),u=Xn*-.5):(h=i-e,y=Ca(c,n,a),u=Xn*.5),d=a-n),{titleX:h,titleY:y,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=La(n.font),i=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(i);fd(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:zp(n.align),textBaseline:"middle",translation:[l,c]})}}function U_(t,e){const n=new Vv({ctx:t.ctx,options:e,chart:t});qo.configure(t,n,e),qo.addBox(t,n),t.titleBlock=n}var q_={id:"title",_element:Vv,start(t,e,n){U_(t,n)},stop(t){const e=t.titleBlock;qo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;qo.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ed={average(t){if(!t.length)return!1;let e,n,r=new Set,a=0,i=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();r.add(u.x),a+=u.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((c,u)=>c+u)/r.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,a=Number.POSITIVE_INFINITY,i,l,c;for(i=0,l=t.length;i<l;++i){const u=t[i].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=J3(e,d);h<a&&(a=h,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Di(t,e){return e&&(Hr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ws(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function W_(t,e){const{element:n,datasetIndex:r,index:a}=e,i=t.getDatasetMeta(r).controller,{label:l,value:c}=i.getLabelAndValue(a);return{chart:t,label:l,parsed:i.getParsed(a),raw:t.data.datasets[r].data[a],formattedValue:c,dataset:i.getDataset(),dataIndex:a,datasetIndex:r,element:n}}function M1(t,e){const n=t.chart.ctx,{body:r,footer:a,title:i}=t,{boxWidth:l,boxHeight:c}=e,u=La(e.bodyFont),d=La(e.titleFont),h=La(e.footerFont),y=i.length,w=a.length,g=r.length,N=$o(e.padding);let _=N.height,S=0,A=r.reduce((I,ee)=>I+ee.before.length+ee.lines.length+ee.after.length,0);if(A+=t.beforeBody.length+t.afterBody.length,y&&(_+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),A){const I=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;_+=g*I+(A-g)*u.lineHeight+(A-1)*e.bodySpacing}w&&(_+=e.footerMarginTop+w*h.lineHeight+(w-1)*e.footerSpacing);let O=0;const R=function(I){S=Math.max(S,n.measureText(I).width+O)};return n.save(),n.font=d.string,Dn(t.title,R),n.font=u.string,Dn(t.beforeBody.concat(t.afterBody),R),O=e.displayColors?l+2+e.boxPadding:0,Dn(r,I=>{Dn(I.before,R),Dn(I.lines,R),Dn(I.after,R)}),O=0,n.font=h.string,Dn(t.footer,R),n.restore(),S+=N.width,{width:S,height:_}}function H_(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function $_(t,e,n,r){const{x:a,width:i}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&a+i+l>e.width||t==="right"&&a-i-l<0)return!0}function V_(t,e,n,r){const{x:a,width:i}=n,{width:l,chartArea:{left:c,right:u}}=t;let d="center";return r==="center"?d=a<=(c+u)/2?"left":"right":a<=i/2?d="left":a>=l-i/2&&(d="right"),$_(d,t,e,n)&&(d="center"),d}function R1(t,e,n){const r=n.yAlign||e.yAlign||H_(t,n);return{xAlign:n.xAlign||e.xAlign||V_(t,e,n,r),yAlign:r}}function Y_(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function G_(t,e,n){let{y:r,height:a}=t;return e==="top"?r+=n:e==="bottom"?r-=a+n:r-=a/2,r}function F1(t,e,n,r){const{caretSize:a,caretPadding:i,cornerRadius:l}=t,{xAlign:c,yAlign:u}=n,d=a+i,{topLeft:h,topRight:y,bottomLeft:w,bottomRight:g}=eu(l);let N=Y_(e,c);const _=G_(e,u,d);return u==="center"?c==="left"?N+=d:c==="right"&&(N-=d):c==="left"?N-=Math.max(h,w)+a:c==="right"&&(N+=Math.max(y,g)+a),{x:no(N,0,r.width-e.width),y:no(_,0,r.height-e.height)}}function wf(t,e,n){const r=$o(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function D1(t){return Di([],ws(t))}function K_(t,e,n){return cu(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function O1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Yv={beforeTitle:gs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:gs,beforeBody:gs,beforeLabel:gs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Wn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:gs,afterBody:gs,beforeFooter:gs,footer:gs,afterFooter:gs};function Za(t,e,n,r){const a=t[e].call(n,r);return typeof a>"u"?Yv[e].call(n,r):a}class I1 extends sc{static positioners=ed;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&n.options.animation&&r.animations,i=new Tv(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=K_(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,a=Za(r,"beforeTitle",this,e),i=Za(r,"title",this,e),l=Za(r,"afterTitle",this,e);let c=[];return c=Di(c,ws(a)),c=Di(c,ws(i)),c=Di(c,ws(l)),c}getBeforeBody(e,n){return D1(Za(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,a=[];return Dn(e,i=>{const l={before:[],lines:[],after:[]},c=O1(r,i);Di(l.before,ws(Za(c,"beforeLabel",this,i))),Di(l.lines,Za(c,"label",this,i)),Di(l.after,ws(Za(c,"afterLabel",this,i))),a.push(l)}),a}getAfterBody(e,n){return D1(Za(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,a=Za(r,"beforeFooter",this,e),i=Za(r,"footer",this,e),l=Za(r,"afterFooter",this,e);let c=[];return c=Di(c,ws(a)),c=Di(c,ws(i)),c=Di(c,ws(l)),c}_createItems(e){const n=this._active,r=this.chart.data,a=[],i=[],l=[];let c=[],u,d;for(u=0,d=n.length;u<d;++u)c.push(W_(this.chart,n[u]));return e.filter&&(c=c.filter((h,y,w)=>e.filter(h,y,w,r))),e.itemSort&&(c=c.sort((h,y)=>e.itemSort(h,y,r))),Dn(c,h=>{const y=O1(e.callbacks,h);a.push(Za(y,"labelColor",this,h)),i.push(Za(y,"labelPointStyle",this,h)),l.push(Za(y,"labelTextColor",this,h))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),a=this._active;let i,l=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const c=ed[r.position].call(this,a,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const u=this._size=M1(this,r),d=Object.assign({},c,u),h=R1(this.chart,r,d),y=F1(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:y.x,y:y.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,a){const i=this.getCaretPosition(e,r,a);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:a,yAlign:i}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:y}=eu(c),{x:w,y:g}=e,{width:N,height:_}=n;let S,A,O,R,I,ee;return i==="center"?(I=g+_/2,a==="left"?(S=w,A=S-l,R=I+l,ee=I-l):(S=w+N,A=S+l,R=I-l,ee=I+l),O=S):(a==="left"?A=w+Math.max(u,h)+l:a==="right"?A=w+N-Math.max(d,y)-l:A=this.caretX,i==="top"?(R=g,I=R-l,S=A-l,O=A+l):(R=g+_,I=R+l,S=A+l,O=A-l),ee=R),{x1:S,x2:A,x3:O,y1:R,y2:I,y3:ee}}drawTitle(e,n,r){const a=this.title,i=a.length;let l,c,u;if(i){const d=tu(r.rtl,this.x,this.width);for(e.x=wf(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",l=La(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,u=0;u<i;++u)n.fillText(a[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,u+1===i&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,a,i){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=i,h=La(i.bodyFont),y=wf(this,"left",i),w=a.x(y),g=u<h.lineHeight?(h.lineHeight-u)/2:0,N=n.y+g;if(i.usePointStyle){const _={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=a.leftForLtr(w,d)+d/2,A=N+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,J0(e,_,S,A),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,J0(e,_,S,A)}else{e.lineWidth=xn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(w,d),S=a.leftForLtr(a.xPlus(w,1),d-2),A=eu(l.borderRadius);Object.values(A).some(O=>O!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,th(e,{x:_,y:N,w:d,h:u,radius:A}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),th(e,{x:S,y:N+1,w:d-2,h:u-2,radius:A}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(_,N,d,u),e.strokeRect(_,N,d,u),e.fillStyle=l.backgroundColor,e.fillRect(S,N+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:a}=this,{bodySpacing:i,bodyAlign:l,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:h}=r,y=La(r.bodyFont);let w=y.lineHeight,g=0;const N=tu(r.rtl,this.x,this.width),_=function(X){n.fillText(X,N.x(e.x+g),e.y+w/2),e.y+=w+i},S=N.textAlign(l);let A,O,R,I,ee,U,te;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,e.x=wf(this,S,r),n.fillStyle=r.bodyColor,Dn(this.beforeBody,_),g=c&&S!=="right"?l==="center"?d/2+h:d+2+h:0,I=0,U=a.length;I<U;++I){for(A=a[I],O=this.labelTextColors[I],n.fillStyle=O,Dn(A.before,_),R=A.lines,c&&R.length&&(this._drawColorBox(n,e,I,N,r),w=Math.max(y.lineHeight,u)),ee=0,te=R.length;ee<te;++ee)_(R[ee]),w=y.lineHeight;Dn(A.after,_)}g=0,w=y.lineHeight,Dn(this.afterBody,_),e.y-=i}drawFooter(e,n,r){const a=this.footer,i=a.length;let l,c;if(i){const u=tu(r.rtl,this.x,this.width);for(e.x=wf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",l=La(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,c=0;c<i;++c)n.fillText(a[c],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,a){const{xAlign:i,yAlign:l}=this,{x:c,y:u}=e,{width:d,height:h}=r,{topLeft:y,topRight:w,bottomLeft:g,bottomRight:N}=eu(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(c+y,u),l==="top"&&this.drawCaret(e,n,r,a),n.lineTo(c+d-w,u),n.quadraticCurveTo(c+d,u,c+d,u+w),l==="center"&&i==="right"&&this.drawCaret(e,n,r,a),n.lineTo(c+d,u+h-N),n.quadraticCurveTo(c+d,u+h,c+d-N,u+h),l==="bottom"&&this.drawCaret(e,n,r,a),n.lineTo(c+g,u+h),n.quadraticCurveTo(c,u+h,c,u+h-g),l==="center"&&i==="left"&&this.drawCaret(e,n,r,a),n.lineTo(c,u+y),n.quadraticCurveTo(c,u,c+y,u),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,a=r&&r.x,i=r&&r.y;if(a||i){const l=ed[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=M1(this,e),u=Object.assign({},l,this._size),d=R1(n,e,u),h=F1(e,u,d,n);(a._to!==h.x||i._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=$o(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,a,n),Lv(e,n.textDirection),i.y+=l.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Pv(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,a=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),i=!Jf(r,a),l=this._positionChanged(a,n);(i||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],l=this._getActiveElements(e,i,n,r),c=this._positionChanged(l,e),u=n||!Jf(l,i)||c;return u&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:a,options:i}=this,l=ed[i.position].call(this,e,n);return l!==!1&&(r!==l.x||a!==l.y)}}var X_={id:"tooltip",_element:I1,positioners:ed,afterInit(t,e,n){n&&(t.tooltip=new I1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const J_=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Q_(t,e,n,r){const a=t.indexOf(e);if(a===-1)return J_(t,e,n,r);const i=t.lastIndexOf(e);return a!==i?n:a}const Z_=(t,e)=>t===null?null:no(Math.round(t),0,e);function j1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class eS extends uu{static id="category";static defaults={ticks:{callback:j1}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:a,label:i}of n)r[a]===i&&r.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Wn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Q_(r,e,wn(n,e),this._addedLabels),Z_(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,a=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)a.push({value:l});return a}getLabelForValue(e){return j1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function tS(t,e){const n=[],{bounds:a,step:i,min:l,max:c,precision:u,count:d,maxTicks:h,maxDigits:y,includeBounds:w}=t,g=i||1,N=h-1,{min:_,max:S}=e,A=!Wn(l),O=!Wn(c),R=!Wn(d),I=(S-_)/(y+1);let ee=q0((S-_)/N/g)*g,U,te,X,T;if(ee<1e-14&&!A&&!O)return[{value:_},{value:S}];T=Math.ceil(S/ee)-Math.floor(_/ee),T>N&&(ee=q0(T*ee/N/g)*g),Wn(u)||(U=Math.pow(10,u),ee=Math.ceil(ee*U)/U),a==="ticks"?(te=Math.floor(_/ee)*ee,X=Math.ceil(S/ee)*ee):(te=_,X=S),A&&O&&i&&G3((c-l)/i,ee/1e3)?(T=Math.round(Math.min((c-l)/ee,h)),ee=(c-l)/T,te=l,X=c):R?(te=A?l:te,X=O?c:X,T=d-1,ee=(X-te)/T):(T=(X-te)/ee,Of(T,Math.round(T),ee/1e3)?T=Math.round(T):T=Math.ceil(T));const Y=Math.max(W0(ee),W0(te));U=Math.pow(10,Wn(u)?Y:u),te=Math.round(te*U)/U,X=Math.round(X*U)/U;let F=0;for(A&&(w&&te!==l?(n.push({value:l}),te<l&&F++,Of(Math.round((te+F*ee)*U)/U,l,B1(l,I,t))&&F++):te<l&&F++);F<T;++F){const M=Math.round((te+F*ee)*U)/U;if(O&&M>c)break;n.push({value:M})}return O&&w&&X!==c?n.length&&Of(n[n.length-1].value,c,B1(c,I,t))?n[n.length-1].value=c:n.push({value:c}):(!O||X===c)&&n.push({value:X}),n}function B1(t,e,{horizontal:n,minRotation:r}){const a=Zl(r),i=(n?Math.sin(a):Math.cos(a))||.001,l=.75*e*(""+t).length;return Math.min(e/i,l)}class nS extends uu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Wn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:a,max:i}=this;const l=u=>a=n?a:u,c=u=>i=r?i:u;if(e){const u=ul(a),d=ul(i);u<0&&d<0?c(0):u>0&&d>0&&l(0)}if(a===i){let u=i===0?1:Math.abs(i*.05);c(i+u),e||l(a-u)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,a;return r?(a=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const a={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,l=tS(a,i);return e.bounds==="ticks"&&K3(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const a=(r-n)/Math.max(e.length-1,1)/2;n-=a,r+=a}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return wv(e,this.chart.options.locale,this.options.ticks.format)}}class rS extends nS{static id="linear";static defaults={ticks:{callback:xv.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ho(e)?e:0,this.max=Ho(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Zl(this.options.ticks.minRotation),a=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const gh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},to=Object.keys(gh);function z1(t,e){return t-e}function U1(t,e){if(Wn(e))return null;const n=t._adapter,{parser:r,round:a,isoWeekday:i}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Ho(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(eh(i)||i===!0)?n.startOf(l,"isoWeek",i):n.startOf(l,a)),+l)}function q1(t,e,n,r){const a=to.length;for(let i=to.indexOf(t);i<a-1;++i){const l=gh[to[i]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(c*l.size))<=r)return to[i]}return to[a-1]}function aS(t,e,n,r,a){for(let i=to.length-1;i>=to.indexOf(n);i--){const l=to[i];if(gh[l].common&&t._adapter.diff(a,r,l)>=e-1)return l}return to[n?to.indexOf(n):0]}function oS(t){for(let e=to.indexOf(t)+1,n=to.length;e<n;++e)if(gh[to[e]].common)return to[e]}function W1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:a}=Bp(n,e),i=n[r]>=e?n[r]:n[a];t[i]=!0}}function iS(t,e,n,r){const a=t._adapter,i=+a.startOf(e[0].value,r),l=e[e.length-1].value;let c,u;for(c=i;c<=l;c=+a.add(c,1,r))u=n[c],u>=0&&(e[u].major=!0);return e}function H1(t,e,n){const r=[],a={},i=e.length;let l,c;for(l=0;l<i;++l)c=e[l],a[c]=l,r.push({value:c,major:!1});return i===0||!n?r:iS(t,r,a,n)}class $1 extends uu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),a=this._adapter=new hE._date(e.adapters.date);a.init(n),td(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:U1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:a,max:i,minDefined:l,maxDefined:c}=this.getUserBounds();function u(d){!l&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!c&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!l||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),a=Ho(a)&&!isNaN(a)?a:+n.startOf(Date.now(),r),i=Ho(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,a=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,l=this.max,c=e4(a,i,l);return this._unit=n.unit||(r.autoSkip?q1(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):aS(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:oS(this._unit),this.initOffsets(a),e.reverse&&c.reverse(),H1(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=no(n,0,l),r=no(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,a=this.options,i=a.time,l=i.unit||q1(i.minUnit,n,r,this._getLabelCapacity(n)),c=wn(a.ticks.stepSize,1),u=l==="week"?i.isoWeekday:!1,d=eh(u)||u===!0,h={};let y=n,w,g;if(d&&(y=+e.startOf(y,"isoWeek",u)),y=+e.startOf(y,d?"day":l),e.diff(r,n,l)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+l);const N=a.ticks.source==="data"&&this.getDataTimestamps();for(w=y,g=0;w<r;w=+e.add(w,c,l),g++)W1(h,w,N);return(w===r||a.bounds==="ticks"||g===1)&&W1(h,w,N),Object.keys(h).sort(z1).map(_=>+_)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,i=this._unit,l=n||a[i];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,a){const i=this.options,l=i.ticks.callback;if(l)return Kn(l,[e,n,r],this);const c=i.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&c[u],y=d&&c[d],w=r[n],g=d&&y&&w&&w.major;return this._adapter.format(e,a||(g?y:h))}generateTickLabels(e){let n,r,a;for(n=0,r=e.length;n<r;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,a=Zl(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(a),l=Math.sin(a),c=this._resolveTickFontOptions(0).size;return{w:r*i+c*l,h:r*l+c*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,a=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,H1(this,[e],this._majorUnit),a),l=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,r=a.length;n<r;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const a=this.getLabels();for(n=0,r=a.length;n<r;++n)e.push(U1(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gv(e.sort(z1))}}function xf(t,e,n){let r=0,a=t.length-1,i,l,c,u;n?(e>=t[r].pos&&e<=t[a].pos&&({lo:r,hi:a}=up(t,"pos",e)),{pos:i,time:c}=t[r],{pos:l,time:u}=t[a]):(e>=t[r].time&&e<=t[a].time&&({lo:r,hi:a}=up(t,"time",e)),{time:i,pos:c}=t[r],{time:l,pos:u}=t[a]);const d=l-i;return d?c+(u-c)*(e-i)/d:c}class MA extends $1{static id="timeseries";static defaults=$1.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=xf(n,this.min),this._tableRange=xf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,a=[],i=[];let l,c,u,d,h;for(l=0,c=e.length;l<c;++l)d=e[l],d>=n&&d<=r&&a.push(d);if(a.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,c=a.length;l<c;++l)h=a[l+1],u=a[l-1],d=a[l],Math.round((h+u)/2)!==d&&i.push({time:d,pos:l/(c-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(xf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return xf(this._table,r*this._tableRange+this._minPos,!0)}}const Gv="label";function V1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function sS(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Kv(t,e){t.labels=e}function Xv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gv;const r=[];t.datasets=e.map(a=>{const i=t.datasets.find(l=>l[n]===a[n]);return!i||!a.data||r.includes(i)?{...a}:(r.push(i),Object.assign(i,a),i)})}function lS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gv;const n={labels:[],datasets:[]};return Kv(n,t.labels),Xv(n,t.datasets,e),n}function cS(t,e){const{height:n=150,width:r=300,redraw:a=!1,datasetIdKey:i,type:l,data:c,options:u,plugins:d=[],fallbackContent:h,updateMode:y,...w}=t,g=q.useRef(null),N=q.useRef(null),_=()=>{g.current&&(N.current=new ph(g.current,{type:l,data:lS(c,i),options:u&&{...u},plugins:d}),V1(e,N.current))},S=()=>{V1(e,null),N.current&&(N.current.destroy(),N.current=null)};return q.useEffect(()=>{!a&&N.current&&u&&sS(N.current,u)},[a,u]),q.useEffect(()=>{!a&&N.current&&Kv(N.current.config.data,c.labels)},[a,c.labels]),q.useEffect(()=>{!a&&N.current&&c.datasets&&Xv(N.current.config.data,c.datasets,i)},[a,c.datasets]),q.useEffect(()=>{N.current&&(a?(S(),setTimeout(_)):N.current.update(y))},[a,u,c.labels,c.datasets,y]),q.useEffect(()=>{N.current&&(S(),setTimeout(_))},[l]),q.useEffect(()=>(_(),()=>S()),[]),m.createElement("canvas",{ref:g,role:"img",height:n,width:r,...w},h)}const uS=q.forwardRef(cS);function dS(t,e){return ph.register(e),q.forwardRef((n,r)=>m.createElement(uS,{...n,ref:r,type:t}))}const Y1=dS("bar",fE);ph.register(C_,X_,z_,eS,rS,F_,q_);const Jv=({isEmbedded:t=!1})=>{const[e,n]=q.useState({statusCounts:[],channelCounts:[],monthlyPerformance:[]}),[r,a]=q.useState(!0),[i,l]=q.useState(null),[c,u]=q.useState("");q.useEffect(()=>{(async()=>{a(!0),l(null);try{const w=await fetch("http://localhost:3001/interessados/dashboard-summary",{credentials:"include"});if(!w.ok)throw new Error("Falha ao buscar dados do dashboard.");const g=await w.json();n(g);const N=Array.from(new Set((g.monthlyPerformance||[]).map(_=>String(_.month).split("-")[0]))).sort();N.length>0&&u(N[N.length-1])}catch(w){l(w.message)}finally{a(!1)}})()},[]);const d={backgroundColor:"#ffffff",border:"1px solid #dee2e6",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 4px 8px rgba(0,0,0,0.05)"},h=()=>{if(r)return m.createElement("p",null,"Carregando dados do dashboard...");if(i)return m.createElement("p",{style:{color:"red"}},"Erro: ",i);if(!e)return m.createElement("p",null,"Nenhum dado encontrado.");const y={labels:e.channelCounts.map(N=>N.como_conheceu),datasets:[{label:"Quantidade por Canal",data:e.channelCounts.map(N=>N.count),backgroundColor:"rgba(0, 123, 255, 0.6)",borderColor:"rgba(0, 123, 255, 1)",borderWidth:1}]},w=(e.monthlyPerformance||[]).filter(N=>!c||String(N.month).startsWith(String(c))),g={labels:w.map(N=>{const[_,S]=N.month.split("-");return new Date(_,S-1).toLocaleString("pt-BR",{month:"short",year:"numeric"})}),datasets:[{label:"Ganhos",data:w.map(N=>parseInt(N.ganhos,10)),backgroundColor:"rgba(40, 167, 69, 0.7)",borderColor:"rgba(40, 167, 69, 1)",borderWidth:1},{label:"Perdidos",data:w.map(N=>parseInt(N.perdidos,10)),backgroundColor:"rgba(220, 53, 69, 0.7)",borderColor:"rgba(220, 53, 69, 1)",borderWidth:1}]};return m.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1.5rem"}},m.createElement("div",{style:{...d}},m.createElement("h3",{style:{textAlign:"center",marginBottom:"1rem"}},"Canais de Aquisio"),e.channelCounts.length>0?m.createElement("div",{style:{height:t?420:520}},m.createElement(Y1,{data:y,options:{responsive:!0,maintainAspectRatio:!1}})):m.createElement("p",null,"Sem dados de canais.")),m.createElement("div",{style:{...d}},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"}},m.createElement("h3",{style:{margin:0}},"Evoluo Mensal (Ganhos e Perdidos)"),m.createElement("div",null,m.createElement("label",{htmlFor:"yearSelect",style:{marginRight:8}},"Ano:"),m.createElement("select",{id:"yearSelect",value:c,onChange:N=>u(N.target.value),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #ccc"}},Array.from(new Set((e.monthlyPerformance||[]).map(N=>String(N.month).split("-")[0]))).sort().map(N=>m.createElement("option",{key:N,value:N},N))))),e.monthlyPerformance.length>0?m.createElement("div",{style:{height:t?420:520}},m.createElement(Y1,{data:g,options:{responsive:!0,maintainAspectRatio:!1}})):m.createElement("p",null,"Sem dados de desempenho mensal para exibir.")))};return t?m.createElement(h,null):m.createElement("div",{style:{padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'}},m.createElement("h1",{style:{marginBottom:"1.5rem",fontSize:"2rem"}},"Dashboard de Pr-matrculas"),m.createElement(h,null))},fS=({endpoint:t,title:e,description:n,acceptedColumns:r,onSuccess:a,onError:i,buttonText:l="Importar Excel"})=>{const[c,u]=q.useState(null),[d,h]=q.useState(!1),[y,w]=q.useState(""),[g,N]=q.useState(""),_=O=>{const R=O.target.files[0];if(R){const I=[".xlsx",".xls",".csv"],ee=R.name.toLowerCase().substring(R.name.lastIndexOf("."));if(!I.includes(ee)){w("Por favor, selecione um arquivo vlido (.xlsx, .xls ou .csv)"),N("error"),u(null);return}u(R),w(""),N("")}},S=async O=>{if(O.preventDefault(),!c){w("Por favor, selecione um arquivo Excel"),N("error");return}h(!0),w("");const R=new FormData;let I="responsaveis_excel";t.includes("alunos")?I="alunos_excel":t.includes("interessados")&&(I="interessados_excel"),R.append(I,c);try{const ee=await fetch(`http://localhost:3001${t}`,{method:"POST",body:R}),U=await ee.json();if(ee.ok)w(U.message),N("success"),u(null),a&&a(U);else{if(U.details&&Array.isArray(U.details)){const te=U.details.slice(0,5).join(`
`),X=U.details.length>5?`
... e mais ${U.details.length-5} erros`:"";w(`${U.error}

Detalhes:
${te}${X}`)}else w(U.error||"Erro na importao");N("error"),i&&i(U)}}catch{w("Erro de conexo. Verifique se o servidor est rodando."),N("error"),i&&i({error:"Erro de conexo"})}finally{h(!1)}},A=()=>{let O=[];t.includes("alunos")?O=[{"Nome Completo Aluno":"Joo Silva","Data Nascimento":"2015-03-15","Informaes Sade":"Alergia a lactose","Status Pagamento":"Integral","Nome Responsvel":"Maria Silva",Telefone:"(11) 99999-9999",Email:"maria@email.com","Outro Telefone":"(11) 88888-8888",RG:"12.345.678-9",CPF:"123.456.789-00"},{"Nome Completo Aluno":"Ana Santos","Data Nascimento":"2016-07-22","Informaes Sade":"","Status Pagamento":"Bolsista","Nome Responsvel":"Pedro Santos",Telefone:"(11) 77777-7777",Email:"pedro@email.com","Outro Telefone":"",RG:"",CPF:"987.654.321-00"},{"Nome Completo Aluno":"Carlos Oliveira","Data Nascimento":"2014-11-08","Informaes Sade":"Asma","Status Pagamento":"Integral","Nome Responsvel":"Claudia Oliveira",Telefone:"(11) 66666-6666",Email:"claudia@email.com","Outro Telefone":"(11) 55555-5555",RG:"45.678.901-2",CPF:"456.789.012-34"}]:t.includes("interessados")?O=[{Nome:"Joo Silva",Email:"joao@email.com",Telefone:"(11) 99999-9999",Data:"2024-01-15",Status:"Entrou Em Contato",Inteno:"sim",Observaes:"Interessado em matrcula para 2024"},{Nome:"Maria Santos",Email:"maria@email.com",Telefone:"(11) 88888-8888",Data:"2024-01-20",Status:"Conversando",Inteno:"sim",Observaes:"Aguardando visita agendada"},{Nome:"Pedro Oliveira",Email:"pedro@email.com",Telefone:"(11) 77777-7777",Data:"2024-01-25",Status:"Negociando",Inteno:"nao",Observaes:"Precisa de mais informaes sobre valores"}]:O=[{"Nome Completo":"Maria Silva",Email:"maria@email.com",Telefone:"(11) 99999-9999","Outro Telefone":"(11) 88888-8888",RG:"12.345.678-9",CPF:"123.456.789-00"},{"Nome Completo":"Pedro Santos",Email:"pedro@email.com",Telefone:"(11) 77777-7777","Outro Telefone":"",RG:"",CPF:"987.654.321-00"}];const R=Object.keys(O[0]),I=F=>{if(F==null)return'""';const M=String(F);return M.includes(",")||M.includes('"')||M.includes(`
`)?`"${M.replace(/"/g,'""')}"`:M},te="\uFEFF"+[R.join(","),...O.map(F=>R.map(M=>I(F[M])).join(","))].join(`
`),X=new Blob([te],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");let Y="template-responsaveis.csv";if(t.includes("alunos")?Y="template-alunos.csv":t.includes("interessados")&&(Y="template-interessados.csv"),T.download!==void 0){const F=URL.createObjectURL(X);T.setAttribute("href",F),T.setAttribute("download",Y),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)}};return m.createElement("div",{className:"import-excel-container"},m.createElement("h3",null,e),m.createElement("p",{className:"import-description"},n,m.createElement("br",null),m.createElement("small",null,"Formatos aceitos: .xlsx, .xls, .csv")),m.createElement("div",{className:"accepted-columns"},m.createElement("h4",null,"Colunas aceitas:"),m.createElement("ul",null,r.map((O,R)=>m.createElement("li",{key:R},m.createElement("strong",null,O.name)," - ",O.description,O.required&&m.createElement("span",{className:"required"}," *"))))),m.createElement("div",{className:"template-section"},m.createElement("button",{type:"button",onClick:A,className:"template-button","aria-label":"Baixar template CSV para importao",title:"Baixar arquivo modelo CSV"}," Baixar Template CSV")),m.createElement("form",{onSubmit:S,className:"import-form"},m.createElement("div",{className:"file-input-container"},m.createElement("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:_,className:"file-input",id:"excel-file"}),m.createElement("label",{htmlFor:"excel-file",className:"file-input-label"},c?c.name:"Selecionar arquivo Excel")),y&&m.createElement("div",{className:`message ${g}`},m.createElement("pre",null,y)),m.createElement("button",{type:"submit",disabled:!c||d,className:"import-button","aria-label":d?"Importando arquivo Excel...":"Importar arquivo Excel selecionado",title:d?"Importando...":"Clique para importar"},d?"Importando...":l)))},Xp=({options:t=[],buttonText:e="Importar via Excel",buttonIcon:n=""})=>{const[r,a]=q.useState(!1),[i,l]=q.useState(null),[c,u]=q.useState(!1),d=q.useRef(null),h=N=>{l(N),a(!1)},y=()=>{l(null)},w=N=>{i&&i.onSuccess&&i.onSuccess(N),y()},g=N=>{i&&i.onError&&i.onError(N)};return q.useEffect(()=>{const N=_=>{d.current&&!d.current.contains(_.target)&&a(!1)};return r&&document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[r]),m.createElement(m.Fragment,null,m.createElement("div",{className:"import-dropdown-container",ref:d},m.createElement("button",{className:`import-dropdown-button ${c?"loading":""}`,onClick:()=>a(!r),type:"button",disabled:c,"aria-label":c?"Carregando opes de importao":"Abrir menu de importao via Excel","aria-expanded":r,"aria-haspopup":"true",title:e},m.createElement("span",{className:"import-dropdown-icon"},n),m.createElement("span",{className:"import-dropdown-text"},c?"Carregando...":e),m.createElement("span",{className:`import-dropdown-arrow ${r?"open":""}`},"")),r&&m.createElement("div",{className:"import-dropdown-menu",role:"menu"},t.map((N,_)=>m.createElement("button",{key:_,className:"import-dropdown-item",onClick:()=>h(N),type:"button",role:"menuitem","aria-label":`${N.title} - ${N.description}`,title:N.description},m.createElement("span",{className:"import-dropdown-item-icon"},N.icon),m.createElement("div",{className:"import-dropdown-item-content"},m.createElement("span",{className:"import-dropdown-item-title"},N.title),m.createElement("span",{className:"import-dropdown-item-description"},N.description)))))),i&&m.createElement("div",{className:"import-modal-overlay",onClick:y},m.createElement("div",{className:"import-modal-content",onClick:N=>N.stopPropagation()},m.createElement("div",{className:"import-modal-header"},m.createElement("h3",null,i.title),m.createElement("button",{className:"import-modal-close",onClick:y,type:"button"},"")),m.createElement("div",{className:"import-modal-body"},m.createElement(fS,{endpoint:i.endpoint,title:i.title,description:i.description,acceptedColumns:i.acceptedColumns,onSuccess:w,onError:g,buttonText:i.buttonText})))))},Cm=["Entrou Em Contato","Conversando","Negociando","Visita Agendada","Ganho","Perdido"],G1=["Google","Instagram","Facebook","Tik Tok","Indicao","Outro:"],K1=t=>({...{padding:"4px 12px",borderRadius:"12px",color:"white",fontSize:"12px",textTransform:"capitalize",border:"none",cursor:"pointer"},...{"Entrou Em Contato":{backgroundColor:"#17a2b8"},Conversando:{backgroundColor:"#007bff"},Negociando:{backgroundColor:"#fd7e14"},"Visita Agendada":{backgroundColor:"#ffc107",color:"#212529"},Ganho:{backgroundColor:"#28a745"},Perdido:{backgroundColor:"#dc3545"}}[t]}),X1=t=>({padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"transparent",border:"none",borderBottom:t?"3px solid #007bff":"3px solid transparent",color:t?"#007bff":"#495057",fontWeight:t?"bold":"normal",marginRight:"10px",transition:"all 0.2s ease-in-out",outline:"none"}),hS=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0),[a,i]=q.useState(null),[l,c]=q.useState("list"),[u,d]=q.useState({nome:"",data:"",status:"todos"}),[h,y]=q.useState(null),[w,g]=q.useState({}),N=q.useCallback(async()=>{r(!0),i(null);try{const D=await fetch("http://localhost:3001/interessados",{credentials:"include"});if(!D.ok)throw new Error("Falha ao buscar os dados dos interessados.");const ne=(await D.json()).map(ce=>({...ce,intencao:typeof ce.intencao=="string"?ce.intencao.toLowerCase()==="sim"||ce.intencao.toLowerCase()==="true":!!ce.intencao}));e(ne)}catch(D){i(D.message)}finally{r(!1)}},[]);q.useEffect(()=>{N()},[N]);const _=async(D,$)=>{const ne=t.find(re=>re.id===D);if(!ne)return;const ce={...ne,status:$};try{if(!(await fetch(`http://localhost:3001/interessados/${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ce)})).ok)throw new Error("Falha ao atualizar o status.");e(de=>de.map(ye=>ye.id===D?{...ye,status:$}:ye))}catch(re){console.error("Erro ao atualizar status:",re),alert("No foi possvel atualizar o status. Tente novamente.")}},S=D=>{y(D.id);const $={...D,data_contato:D.data_contato?new Date(D.data_contato).toISOString().slice(0,10):""};g($)},A=()=>{y(null),g({})},O=D=>{const{name:$,value:ne}=D.target,ce=$==="intencao"?ne==="true":ne;g(re=>({...re,[$]:ce}))},R=async D=>{try{const $={...w};$.data_contato?/^\d{4}-\d{2}-\d{2}$/.test($.data_contato)&&($.data_contato=`${$.data_contato}T00:00:00.000Z`):$.data_contato=null,typeof $.intencao=="boolean"&&($.intencao=$.intencao?"sim":"nao"),console.log("Enviando para o backend:",$);const ne=await fetch(`http://localhost:3001/interessados/${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify($)});if(!ne.ok){const re=await ne.json();throw console.error("Erro retornado pelo backend:",re),new Error(re.error||"Falha ao atualizar os dados.")}const ce=await ne.json();console.log("Dados recebidos do backend aps salvar:",ce),typeof ce.intencao=="string"&&(ce.intencao=ce.intencao.toLowerCase()==="sim"),e(re=>re.map(de=>de.id===D?ce:de)),y(null),g({})}catch($){console.error("Erro ao salvar:",$),alert(`No foi possvel salvar as alteraes: ${$.message}`)}},I=D=>{const{name:$,value:ne}=D.target;d(ce=>({...ce,[$]:ne}))},ee=t.filter(D=>{const $=D.nome.toLowerCase().includes(u.nome.toLowerCase()),ne=u.data===""||D.data_contato&&D.data_contato.startsWith(u.data),ce=u.status==="todos"||D.status===u.status;return $&&ne&&ce}),U=D=>D?new Date(D).toLocaleDateString("pt-BR",{timeZone:"UTC"}):"N/A",te={padding:"6px 12px",borderRadius:"6px",border:"none",color:"white",cursor:"pointer",fontSize:"14px",marginRight:"8px"},X={...te,backgroundColor:"#007bff"},T={...te,backgroundColor:"#28a745"},Y={...te,backgroundColor:"#6c757d"},F={...te,backgroundColor:"#dc3545"},M={width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #ccc",boxSizing:"border-box",minWidth:"120px"},j=async D=>{if(window.confirm("Tem certeza que deseja excluir este interessado? Esta ao no pode ser desfeita."))try{const ne=await fetch(`http://localhost:3001/interessados/${D}`,{method:"DELETE",credentials:"include"});if(!ne.ok){const ce=await ne.json().catch(()=>({}));throw new Error(ce.error||"Falha ao excluir o interessado.")}e(ce=>ce.filter(re=>re.id!==D)),h===D&&(y(null),g({}))}catch(ne){console.error("Erro ao excluir interessado:",ne),alert(`No foi possvel excluir: ${ne.message}`)}};return m.createElement("div",{style:{padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'}},m.createElement("div",{className:"pre-matricula-header"},m.createElement("h1",null,"Pr-matrculas")),m.createElement("div",{style:{borderBottom:"2px solid #dee2e6",marginBottom:"1.5rem"}},m.createElement("button",{onClick:()=>c("list"),style:X1(l==="list")},"Lista de Interessados"),m.createElement("button",{onClick:()=>c("dashboard"),style:X1(l==="dashboard")},"Dashboard")),l==="list"&&m.createElement(m.Fragment,null,m.createElement(Xp,{buttonText:"Importar via Excel",buttonIcon:"",options:[{icon:"",title:"Importar Interessados",endpoint:"/interessados/upload-excel",acceptedColumns:[{name:"Nome",description:"Nome completo do interessado",required:!0},{name:"Email",description:"Endereo de email do interessado",required:!0},{name:"Telefone",description:"Nmero de telefone do interessado",required:!0},{name:"Data",description:"Data de interesse (formato: YYYY-MM-DD)",required:!1},{name:"Status",description:"Status do interessado (Entrou Em Contato, Conversando, Negociando, Visita Agendada, Ganho, Perdido)",required:!1},{name:"Inteno",description:"Inteno de matrcula (sim/nao)",required:!1},{name:"Observaes",description:"Observaes adicionais (opcional)",required:!1}],description:"Faa upload de um arquivo Excel (.xlsx ou .xls) para importar mltiplos interessados de uma vez. O sistema criar automaticamente novos registros na base de dados.",buttonText:"Importar Interessados",onSuccess:D=>{N()},onError:D=>{console.error("Erro na importao:",D)}}]}),m.createElement("div",{style:{backgroundColor:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",marginBottom:"1.5rem"}},m.createElement("h3",{style:{marginTop:0,marginBottom:"1rem",fontSize:"1rem",color:"#495057"}},"Filtros de Busca"),m.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"}},m.createElement(Cn,{id:"filter-nome-interessado",type:"text",name:"nome",placeholder:"Buscar por nome...",value:u.nome,onChange:I,hint:"Digite o nome completo ou parcial do interessado para filtrar a lista",label:"Nome do Interessado"}),m.createElement(Cn,{type:"date",name:"data",value:u.data,onChange:I,hint:"Filtre os interessados por data de contato inicial",label:"Data de Contato"}),m.createElement(Pa,{name:"status",value:u.status,onChange:I,hint:"Filtre pelo estgio no funil de vendas",label:"Status"},m.createElement("option",{value:"todos"},"Todos os Status"),Cm.map(D=>m.createElement("option",{key:D,value:D,style:{textTransform:"capitalize"}},D.charAt(0).toUpperCase()+D.slice(1)))))),n&&m.createElement("p",null,"Carregando interessados..."),a&&m.createElement("p",{style:{color:"red"}},"Erro: ",a),!n&&!a&&m.createElement("div",{style:{overflowX:"auto"}},m.createElement("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"}},m.createElement("thead",null,m.createElement("tr",{style:{borderBottom:"2px solid #dee2e6"}},m.createElement("th",{style:{padding:"12px",textAlign:"left",backgroundColor:"#f8f9fa",fontWeight:"normal"}},"Nome"),m.createElement("th",{style:{padding:"12px",textAlign:"left",backgroundColor:"#f8f9fa",fontWeight:"normal"}},"Telefone"),m.createElement("th",{style:{padding:"12px",textAlign:"left",backgroundColor:"#f8f9fa",fontWeight:"normal"}},"Como Conheceu"),m.createElement("th",{style:{padding:"12px",textAlign:"left",backgroundColor:"#f8f9fa",fontWeight:"normal"}},"Inteno"),m.createElement("th",{style:{padding:"12px",textAlign:"left",backgroundColor:"#f8f9fa",fontWeight:"normal"}},"Data Contato"),m.createElement("th",{style:{padding:"12px",textAlign:"left",backgroundColor:"#f8f9fa",fontWeight:"normal"}},"Status"),m.createElement("th",{style:{padding:"12px",textAlign:"left",backgroundColor:"#f8f9fa",fontWeight:"normal"}},"Aes"))),m.createElement("tbody",null,ee.map(D=>h===D.id?m.createElement("tr",{key:D.id,style:{borderBottom:"1px solid #dee2e6"}},m.createElement("td",{style:{padding:"12px"}},m.createElement("input",{type:"text",name:"nome",value:w.nome,onChange:O,style:M})),m.createElement("td",{style:{padding:"12px"}},m.createElement("input",{type:"text",name:"telefone",value:w.telefone,onChange:O,style:M})),m.createElement("td",{style:{padding:"12px"}},m.createElement("select",{name:"como_conheceu",value:w.como_conheceu||"",onChange:O,style:M},w.como_conheceu&&!G1.includes(w.como_conheceu)&&m.createElement("option",{value:w.como_conheceu},w.como_conheceu),G1.map($=>m.createElement("option",{key:$,value:$},$)))),m.createElement("td",{style:{padding:"12px"}},m.createElement("select",{name:"intencao",value:w.intencao,onChange:O,style:M},m.createElement("option",{value:"true"},"Sim"),m.createElement("option",{value:"false"},"No"))),m.createElement("td",{style:{padding:"12px"}},m.createElement("input",{type:"date",name:"data_contato",value:w.data_contato,onChange:O,style:M})),m.createElement("td",{style:{padding:"12px"}},m.createElement("select",{name:"status",value:w.status,onChange:O,style:K1(w.status)},Cm.map($=>m.createElement("option",{key:$,value:$,style:{color:"black",backgroundColor:"white"}},$)))),m.createElement("td",{style:{padding:"12px",whiteSpace:"nowrap"}},m.createElement("button",{onClick:()=>R(D.id),style:T},"Salvar"),m.createElement("button",{onClick:A,style:Y},"Cancelar"),m.createElement("button",{onClick:()=>j(D.id),style:F},"Excluir"))):m.createElement("tr",{key:D.id,style:{borderBottom:"1px solid #dee2e6"}},m.createElement("td",{style:{padding:"12px"}},D.nome),m.createElement("td",{style:{padding:"12px"}},D.telefone),m.createElement("td",{style:{padding:"12px"}},D.como_conheceu),m.createElement("td",{style:{padding:"12px"}},D.intencao?"Sim":"No"),m.createElement("td",{style:{padding:"12px"}},U(D.data_contato)),m.createElement("td",{style:{padding:"12px"}},m.createElement("select",{value:D.status,onChange:$=>_(D.id,$.target.value),style:K1(D.status)},Cm.map($=>m.createElement("option",{key:$,value:$,style:{color:"black",backgroundColor:"white"}},$)))),m.createElement("td",{style:{padding:"12px"}},m.createElement("button",{onClick:()=>S(D),style:X},"Editar")))))))),l==="dashboard"&&m.createElement(Jv,{isEmbedded:!0}))},mS="modulepreload",pS=function(t){return"/"+t},J1={},Lm=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(n.map(d=>{if(d=pS(d),d in J1)return;J1[d]=!0;const h=d.endsWith(".css"),y=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=h?"stylesheet":mS,h||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),h)return new Promise((g,N)=>{w.addEventListener("load",g),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function On(t){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(t)}var pi=Uint8Array,Eo=Uint16Array,Jp=Int32Array,Qp=new pi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zp=new pi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q1=new pi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qv=function(t,e){for(var n=new Eo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var a=new Jp(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},Zv=Qv(Qp,2),gS=Zv.b,mp=Zv.r;gS[28]=258,mp[258]=28;var vS=Qv(Zp,0),Z1=vS.r,pp=new Eo(32768);for(var Jn=0;Jn<32768;++Jn){var tl=(Jn&43690)>>1|(Jn&21845)<<1;tl=(tl&52428)>>2|(tl&13107)<<2,tl=(tl&61680)>>4|(tl&3855)<<4,pp[Jn]=((tl&65280)>>8|(tl&255)<<8)>>1}var ad=function(t,e,n){for(var r=t.length,a=0,i=new Eo(e);a<r;++a)t[a]&&++i[t[a]-1];var l=new Eo(e);for(a=1;a<e;++a)l[a]=l[a-1]+i[a-1]<<1;var c;if(n){c=new Eo(1<<e);var u=15-e;for(a=0;a<r;++a)if(t[a])for(var d=a<<4|t[a],h=e-t[a],y=l[t[a]-1]++<<h,w=y|(1<<h)-1;y<=w;++y)c[pp[y]>>u]=d}else for(c=new Eo(r),a=0;a<r;++a)t[a]&&(c[a]=pp[l[t[a]-1]++]>>15-t[a]);return c},ac=new pi(288);for(var Jn=0;Jn<144;++Jn)ac[Jn]=8;for(var Jn=144;Jn<256;++Jn)ac[Jn]=9;for(var Jn=256;Jn<280;++Jn)ac[Jn]=7;for(var Jn=280;Jn<288;++Jn)ac[Jn]=8;var oh=new pi(32);for(var Jn=0;Jn<32;++Jn)oh[Jn]=5;var yS=ad(ac,9,0),bS=ad(oh,5,0),ey=function(t){return(t+7)/8|0},wS=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new pi(t.subarray(e,n))},vs=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Yu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Pm=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var a=n.length,i=n.slice();if(!a)return{t:ny,l:0};if(a==1){var l=new pi(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(ee,U){return ee.f-U.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],d=0,h=1,y=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};h!=a-1;)c=n[n[d].f<n[y].f?d++:y++],u=n[d!=h&&n[d].f<n[y].f?d++:y++],n[h++]={s:-1,f:c.f+u.f,l:c,r:u};for(var w=i[0].s,r=1;r<a;++r)i[r].s>w&&(w=i[r].s);var g=new Eo(w+1),N=gp(n[h-1],g,0);if(N>e){var r=0,_=0,S=N-e,A=1<<S;for(i.sort(function(U,te){return g[te.s]-g[U.s]||U.f-te.f});r<a;++r){var O=i[r].s;if(g[O]>e)_+=A-(1<<N-g[O]),g[O]=e;else break}for(_>>=S;_>0;){var R=i[r].s;g[R]<e?_-=1<<e-g[R]++-1:++r}for(;r>=0&&_;--r){var I=i[r].s;g[I]==e&&(--g[I],++_)}N=e}return{t:new pi(g),l:N}},gp=function(t,e,n){return t.s==-1?Math.max(gp(t.l,e,n+1),gp(t.r,e,n+1)):e[t.s]=n},e2=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Eo(++e),r=0,a=t[0],i=1,l=function(u){n[r++]=u},c=1;c<=e;++c)if(t[c]==a&&c!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=t[c]}return{c:n.subarray(0,r),n:e}},Gu=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},ty=function(t,e,n){var r=n.length,a=ey(e+2);t[a]=r&255,t[a+1]=r>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<r;++i)t[a+i+4]=n[i];return(a+4+r)*8},t2=function(t,e,n,r,a,i,l,c,u,d,h){vs(e,h++,n),++a[256];for(var y=Pm(a,15),w=y.t,g=y.l,N=Pm(i,15),_=N.t,S=N.l,A=e2(w),O=A.c,R=A.n,I=e2(_),ee=I.c,U=I.n,te=new Eo(19),X=0;X<O.length;++X)++te[O[X]&31];for(var X=0;X<ee.length;++X)++te[ee[X]&31];for(var T=Pm(te,7),Y=T.t,F=T.l,M=19;M>4&&!Y[Q1[M-1]];--M);var j=d+5<<3,D=Gu(a,ac)+Gu(i,oh)+l,$=Gu(a,w)+Gu(i,_)+l+14+3*M+Gu(te,Y)+2*te[16]+3*te[17]+7*te[18];if(u>=0&&j<=D&&j<=$)return ty(e,h,t.subarray(u,u+d));var ne,ce,re,de;if(vs(e,h,1+($<D)),h+=2,$<D){ne=ad(w,g,0),ce=w,re=ad(_,S,0),de=_;var ye=ad(Y,F,0);vs(e,h,R-257),vs(e,h+5,U-1),vs(e,h+10,M-4),h+=14;for(var X=0;X<M;++X)vs(e,h+3*X,Y[Q1[X]]);h+=3*M;for(var G=[O,ee],P=0;P<2;++P)for(var K=G[P],X=0;X<K.length;++X){var Z=K[X]&31;vs(e,h,ye[Z]),h+=Y[Z],Z>15&&(vs(e,h,K[X]>>5&127),h+=K[X]>>12)}}else ne=yS,ce=ac,re=bS,de=oh;for(var X=0;X<c;++X){var se=r[X];if(se>255){var Z=se>>18&31;Yu(e,h,ne[Z+257]),h+=ce[Z+257],Z>7&&(vs(e,h,se>>23&31),h+=Qp[Z]);var fe=se&31;Yu(e,h,re[fe]),h+=de[fe],fe>3&&(Yu(e,h,se>>5&8191),h+=Zp[fe])}else Yu(e,h,ne[se]),h+=ce[se]}return Yu(e,h,ne[256]),h+ce[256]},xS=new Jp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ny=new pi(0),ES=function(t,e,n,r,a,i){var l=i.z||t.length,c=new pi(r+l+5*(1+Math.ceil(l/7e3))+a),u=c.subarray(r,c.length-a),d=i.l,h=(i.r||0)&7;if(e){h&&(u[0]=i.r>>3);for(var y=xS[e-1],w=y>>13,g=y&8191,N=(1<<n)-1,_=i.p||new Eo(32768),S=i.h||new Eo(N+1),A=Math.ceil(n/3),O=2*A,R=function(Re){return(t[Re]^t[Re+1]<<A^t[Re+2]<<O)&N},I=new Jp(25e3),ee=new Eo(288),U=new Eo(32),te=0,X=0,T=i.i||0,Y=0,F=i.w||0,M=0;T+2<l;++T){var j=R(T),D=T&32767,$=S[j];if(_[D]=$,S[j]=D,F<=T){var ne=l-T;if((te>7e3||Y>24576)&&(ne>423||!d)){h=t2(t,u,0,I,ee,U,X,Y,M,T-M,h),Y=te=X=0,M=T;for(var ce=0;ce<286;++ce)ee[ce]=0;for(var ce=0;ce<30;++ce)U[ce]=0}var re=2,de=0,ye=g,G=D-$&32767;if(ne>2&&j==R(T-G))for(var P=Math.min(w,ne)-1,K=Math.min(32767,T),Z=Math.min(258,ne);G<=K&&--ye&&D!=$;){if(t[T+re]==t[T+re-G]){for(var se=0;se<Z&&t[T+se]==t[T+se-G];++se);if(se>re){if(re=se,de=G,se>P)break;for(var fe=Math.min(G,se-2),xe=0,ce=0;ce<fe;++ce){var Ce=T-G+ce&32767,Se=_[Ce],Me=Ce-Se&32767;Me>xe&&(xe=Me,$=Ce)}}}D=$,$=_[D],G+=D-$&32767}if(de){I[Y++]=268435456|mp[re]<<18|Z1[de];var qe=mp[re]&31,Ze=Z1[de]&31;X+=Qp[qe]+Zp[Ze],++ee[257+qe],++U[Ze],F=T+re,++te}else I[Y++]=t[T],++ee[t[T]]}}for(T=Math.max(T,F);T<l;++T)I[Y++]=t[T],++ee[t[T]];h=t2(t,u,d,I,ee,U,X,Y,M,T-M,h),d||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=S,i.p=_,i.i=T,i.w=F)}else{for(var T=i.w||0;T<l+d;T+=65535){var et=T+65535;et>=l&&(u[h/8|0]=d,et=l),h=ty(u,h+1,t.subarray(T,et))}i.i=l}return wS(c,0,r+ey(h)+a)},ry=function(){var t=1,e=0;return{p:function(n){for(var r=t,a=e,i=n.length|0,l=0;l!=i;){for(var c=Math.min(l+2655,i);l<c;++l)a+=r+=n[l];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}t=r,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},_S=function(t,e,n,r,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),l=new pi(i.length+t.length);l.set(i),l.set(t,i.length),t=l,a.w=i.length}return ES(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,a)},ay=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},SS=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=ry();a.p(e.dictionary),ay(t,2,a.d())}};function vp(t,e){e||(e={});var n=ry();n.p(t);var r=_S(t,e,e.dictionary?6:2,4);return SS(r,e),ay(r,r.length-4,n.d()),r}var kS=typeof TextDecoder<"u"&&new TextDecoder,NS=0;try{kS.decode(ny,{stream:!0}),NS=1}catch{}function AS(t){if(Array.isArray(t))return t}function CS(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,l,c=[],u=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function LS(t,e){if(t){if(typeof t=="string")return n2(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n2(t,e):void 0}}function PS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2(t,e){return AS(t)||CS(t,e)||LS(t,e)||PS()}function a2(t,e="utf8"){return new TextDecoder(e).decode(t)}const TS=new TextEncoder;function MS(t){return TS.encode(t)}const RS=1024*8,FS=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Tm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class eg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=RS,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=n.offset?n.offset>>>0:0,i=e.byteLength-a;let l=a;(ArrayBuffer.isView(e)||e instanceof eg)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Tm[n].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+r);if(this.littleEndian===FS&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const u=new Tm[n](c.buffer);return this.offset+=r,u.reverse(),u}const l=new Tm[n](i);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return a2(this.readBytes(e))}decodeText(e=1,n="utf8"){return a2(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(MS(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function du(t){let e=t.length;for(;--e>=0;)t[e]=0}const DS=3,OS=258,oy=29,IS=256,jS=IS+1+oy,iy=30,BS=512,zS=new Array((jS+2)*2);du(zS);const US=new Array(iy*2);du(US);const qS=new Array(BS);du(qS);const WS=new Array(OS-DS+1);du(WS);const HS=new Array(oy);du(HS);const $S=new Array(iy);du($S);const VS=(t,e,n,r)=>{let a=t&65535|0,i=t>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do a=a+e[r++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var yp=VS;const YS=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},GS=new Uint32Array(YS()),KS=(t,e,n,r)=>{const a=GS,i=r+n;t^=-1;for(let l=r;l<i;l++)t=t>>>8^a[(t^e[l])&255];return t^-1};var Fi=KS,bp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const XS=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var JS=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)XS(n,r)&&(t[r]=n[r])}}return t},QS=t=>{let e=0;for(let r=0,a=t.length;r<a;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,a=0,i=t.length;r<i;r++){let l=t[r];n.set(l,a),a+=l.length}return n},ly={assign:JS,flattenChunks:QS};let cy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cy=!1}const md=new Uint8Array(256);for(let t=0;t<256;t++)md[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;md[254]=md[254]=1;var ZS=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,a,i,l=t.length,c=0;for(a=0;a<l;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<l&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),i=0,a=0;i<c;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<l&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const e6=(t,e)=>{if(e<65534&&t.subarray&&cy)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var t6=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,a;const i=new Array(n*2);for(a=0,r=0;r<n;){let l=t[r++];if(l<128){i[a++]=l;continue}let c=md[l];if(c>4){i[a++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<n;)l=l<<6|t[r++]&63,c--;if(c>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return e6(i,a)},n6=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+md[t[n]]>e?n:e},wp={string2buf:ZS,buf2string:t6,utf8border:n6};function r6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var a6=r6;const Ef=16209,o6=16191;var i6=function(e,n){let r,a,i,l,c,u,d,h,y,w,g,N,_,S,A,O,R,I,ee,U,te,X,T,Y;const F=e.state;r=e.next_in,T=e.input,a=r+(e.avail_in-5),i=e.next_out,Y=e.output,l=i-(n-e.avail_out),c=i+(e.avail_out-257),u=F.dmax,d=F.wsize,h=F.whave,y=F.wnext,w=F.window,g=F.hold,N=F.bits,_=F.lencode,S=F.distcode,A=(1<<F.lenbits)-1,O=(1<<F.distbits)-1;e:do{N<15&&(g+=T[r++]<<N,N+=8,g+=T[r++]<<N,N+=8),R=_[g&A];t:for(;;){if(I=R>>>24,g>>>=I,N-=I,I=R>>>16&255,I===0)Y[i++]=R&65535;else if(I&16){ee=R&65535,I&=15,I&&(N<I&&(g+=T[r++]<<N,N+=8),ee+=g&(1<<I)-1,g>>>=I,N-=I),N<15&&(g+=T[r++]<<N,N+=8,g+=T[r++]<<N,N+=8),R=S[g&O];n:for(;;){if(I=R>>>24,g>>>=I,N-=I,I=R>>>16&255,I&16){if(U=R&65535,I&=15,N<I&&(g+=T[r++]<<N,N+=8,N<I&&(g+=T[r++]<<N,N+=8)),U+=g&(1<<I)-1,U>u){e.msg="invalid distance too far back",F.mode=Ef;break e}if(g>>>=I,N-=I,I=i-l,U>I){if(I=U-I,I>h&&F.sane){e.msg="invalid distance too far back",F.mode=Ef;break e}if(te=0,X=w,y===0){if(te+=d-I,I<ee){ee-=I;do Y[i++]=w[te++];while(--I);te=i-U,X=Y}}else if(y<I){if(te+=d+y-I,I-=y,I<ee){ee-=I;do Y[i++]=w[te++];while(--I);if(te=0,y<ee){I=y,ee-=I;do Y[i++]=w[te++];while(--I);te=i-U,X=Y}}}else if(te+=y-I,I<ee){ee-=I;do Y[i++]=w[te++];while(--I);te=i-U,X=Y}for(;ee>2;)Y[i++]=X[te++],Y[i++]=X[te++],Y[i++]=X[te++],ee-=3;ee&&(Y[i++]=X[te++],ee>1&&(Y[i++]=X[te++]))}else{te=i-U;do Y[i++]=Y[te++],Y[i++]=Y[te++],Y[i++]=Y[te++],ee-=3;while(ee>2);ee&&(Y[i++]=Y[te++],ee>1&&(Y[i++]=Y[te++]))}}else if((I&64)===0){R=S[(R&65535)+(g&(1<<I)-1)];continue n}else{e.msg="invalid distance code",F.mode=Ef;break e}break}}else if((I&64)===0){R=_[(R&65535)+(g&(1<<I)-1)];continue t}else if(I&32){F.mode=o6;break e}else{e.msg="invalid literal/length code",F.mode=Ef;break e}break}}while(r<a&&i<c);ee=N>>3,r-=ee,N-=ee<<3,g&=(1<<N)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=i<c?257+(c-i):257-(i-c),F.hold=g,F.bits=N};const $c=15,o2=852,i2=592,s2=0,Mm=1,l2=2,s6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),c6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),d6=(t,e,n,r,a,i,l,c)=>{const u=c.bits;let d=0,h=0,y=0,w=0,g=0,N=0,_=0,S=0,A=0,O=0,R,I,ee,U,te,X=null,T;const Y=new Uint16Array($c+1),F=new Uint16Array($c+1);let M=null,j,D,$;for(d=0;d<=$c;d++)Y[d]=0;for(h=0;h<r;h++)Y[e[n+h]]++;for(g=u,w=$c;w>=1&&Y[w]===0;w--);if(g>w&&(g=w),w===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<w&&Y[y]===0;y++);for(g<y&&(g=y),S=1,d=1;d<=$c;d++)if(S<<=1,S-=Y[d],S<0)return-1;if(S>0&&(t===s2||w!==1))return-1;for(F[1]=0,d=1;d<$c;d++)F[d+1]=F[d]+Y[d];for(h=0;h<r;h++)e[n+h]!==0&&(l[F[e[n+h]]++]=h);if(t===s2?(X=M=l,T=20):t===Mm?(X=s6,M=l6,T=257):(X=c6,M=u6,T=0),O=0,h=0,d=y,te=i,N=g,_=0,ee=-1,A=1<<g,U=A-1,t===Mm&&A>o2||t===l2&&A>i2)return 1;for(;;){j=d-_,l[h]+1<T?(D=0,$=l[h]):l[h]>=T?(D=M[l[h]-T],$=X[l[h]-T]):(D=96,$=0),R=1<<d-_,I=1<<N,y=I;do I-=R,a[te+(O>>_)+I]=j<<24|D<<16|$|0;while(I!==0);for(R=1<<d-1;O&R;)R>>=1;if(R!==0?(O&=R-1,O+=R):O=0,h++,--Y[d]===0){if(d===w)break;d=e[n+l[h]]}if(d>g&&(O&U)!==ee){for(_===0&&(_=g),te+=y,N=d-_,S=1<<N;N+_<w&&(S-=Y[N+_],!(S<=0));)N++,S<<=1;if(A+=1<<N,t===Mm&&A>o2||t===l2&&A>i2)return 1;ee=O&U,a[ee]=g<<24|N<<16|te-i|0}}return O!==0&&(a[te+O]=d-_<<24|64<<16|0),c.bits=g,0};var od=d6;const f6=0,uy=1,dy=2,{Z_FINISH:c2,Z_BLOCK:h6,Z_TREES:_f,Z_OK:oc,Z_STREAM_END:m6,Z_NEED_DICT:p6,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:fy,Z_MEM_ERROR:hy,Z_BUF_ERROR:g6,Z_DEFLATED:u2}=sy,vh=16180,d2=16181,f2=16182,h2=16183,m2=16184,p2=16185,g2=16186,v2=16187,y2=16188,b2=16189,ih=16190,ys=16191,Rm=16192,w2=16193,Fm=16194,x2=16195,E2=16196,_2=16197,S2=16198,Sf=16199,kf=16200,k2=16201,N2=16202,A2=16203,C2=16204,L2=16205,Dm=16206,P2=16207,T2=16208,nr=16209,my=16210,py=16211,v6=852,y6=592,b6=15,w6=b6,M2=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function x6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<vh||e.mode>py?1:0},gy=t=>{if(lc(t))return Vo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=vh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(v6),e.distcode=e.distdyn=new Int32Array(y6),e.sane=1,e.back=-1,oc},vy=t=>{if(lc(t))return Vo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gy(t)},yy=(t,e)=>{let n;if(lc(t))return Vo;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Vo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,vy(t))},by=(t,e)=>{if(!t)return Vo;const n=new x6;t.state=n,n.strm=t,n.window=null,n.mode=vh;const r=yy(t,e);return r!==oc&&(t.state=null),r},E6=t=>by(t,w6);let R2=!0,Om,Im;const _6=t=>{if(R2){Om=new Int32Array(512),Im=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(od(uy,t.lens,0,288,Om,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;od(dy,t.lens,0,32,Im,0,t.work,{bits:5}),R2=!1}t.lencode=Om,t.lenbits=9,t.distcode=Im,t.distbits=5},wy=(t,e,n,r)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(n-r,n-r+a),i.wnext),r-=a,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},S6=(t,e)=>{let n,r,a,i,l,c,u,d,h,y,w,g,N,_,S=0,A,O,R,I,ee,U,te,X;const T=new Uint8Array(4);let Y,F;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lc(t)||!t.output||!t.input&&t.avail_in!==0)return Vo;n=t.state,n.mode===ys&&(n.mode=Rm),l=t.next_out,a=t.output,u=t.avail_out,i=t.next_in,r=t.input,c=t.avail_in,d=n.hold,h=n.bits,y=c,w=u,X=oc;e:for(;;)switch(n.mode){case vh:if(n.wrap===0){n.mode=Rm;break}for(;h<16;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=d&255,T[1]=d>>>8&255,n.check=Fi(n.check,T,2,0),d=0,h=0,n.mode=d2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",n.mode=nr;break}if((d&15)!==u2){t.msg="unknown compression method",n.mode=nr;break}if(d>>>=4,h-=4,te=(d&15)+8,n.wbits===0&&(n.wbits=te),te>15||te>n.wbits){t.msg="invalid window size",n.mode=nr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=d&512?b2:ys,d=0,h=0;break;case d2:for(;h<16;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(n.flags=d,(n.flags&255)!==u2){t.msg="unknown compression method",n.mode=nr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=nr;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,n.check=Fi(n.check,T,2,0)),d=0,h=0,n.mode=f2;case f2:for(;h<32;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,T[2]=d>>>16&255,T[3]=d>>>24&255,n.check=Fi(n.check,T,4,0)),d=0,h=0,n.mode=h2;case h2:for(;h<16;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,n.check=Fi(n.check,T,2,0)),d=0,h=0,n.mode=m2;case m2:if(n.flags&1024){for(;h<16;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,n.check=Fi(n.check,T,2,0)),d=0,h=0}else n.head&&(n.head.extra=null);n.mode=p2;case p2:if(n.flags&1024&&(g=n.length,g>c&&(g=c),g&&(n.head&&(te=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+g),te)),n.flags&512&&n.wrap&4&&(n.check=Fi(n.check,r,g,i)),c-=g,i+=g,n.length-=g),n.length))break e;n.length=0,n.mode=g2;case g2:if(n.flags&2048){if(c===0)break e;g=0;do te=r[i+g++],n.head&&te&&n.length<65536&&(n.head.name+=String.fromCharCode(te));while(te&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=Fi(n.check,r,g,i)),c-=g,i+=g,te)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=v2;case v2:if(n.flags&4096){if(c===0)break e;g=0;do te=r[i+g++],n.head&&te&&n.length<65536&&(n.head.comment+=String.fromCharCode(te));while(te&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=Fi(n.check,r,g,i)),c-=g,i+=g,te)break e}else n.head&&(n.head.comment=null);n.mode=y2;case y2:if(n.flags&512){for(;h<16;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(n.wrap&4&&d!==(n.check&65535)){t.msg="header crc mismatch",n.mode=nr;break}d=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=ys;break;case b2:for(;h<32;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}t.adler=n.check=M2(d),d=0,h=0,n.mode=ih;case ih:if(n.havedict===0)return t.next_out=l,t.avail_out=u,t.next_in=i,t.avail_in=c,n.hold=d,n.bits=h,p6;t.adler=n.check=1,n.mode=ys;case ys:if(e===h6||e===_f)break e;case Rm:if(n.last){d>>>=h&7,h-=h&7,n.mode=Dm;break}for(;h<3;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}switch(n.last=d&1,d>>>=1,h-=1,d&3){case 0:n.mode=w2;break;case 1:if(_6(n),n.mode=Sf,e===_f){d>>>=2,h-=2;break e}break;case 2:n.mode=E2;break;case 3:t.msg="invalid block type",n.mode=nr}d>>>=2,h-=2;break;case w2:for(d>>>=h&7,h-=h&7;h<32;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",n.mode=nr;break}if(n.length=d&65535,d=0,h=0,n.mode=Fm,e===_f)break e;case Fm:n.mode=x2;case x2:if(g=n.length,g){if(g>c&&(g=c),g>u&&(g=u),g===0)break e;a.set(r.subarray(i,i+g),l),c-=g,i+=g,u-=g,l+=g,n.length-=g;break}n.mode=ys;break;case E2:for(;h<14;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(n.nlen=(d&31)+257,d>>>=5,h-=5,n.ndist=(d&31)+1,d>>>=5,h-=5,n.ncode=(d&15)+4,d>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=nr;break}n.have=0,n.mode=_2;case _2:for(;n.have<n.ncode;){for(;h<3;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}n.lens[M[n.have++]]=d&7,d>>>=3,h-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Y={bits:n.lenbits},X=od(f6,n.lens,0,19,n.lencode,0,n.work,Y),n.lenbits=Y.bits,X){t.msg="invalid code lengths set",n.mode=nr;break}n.have=0,n.mode=S2;case S2:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[d&(1<<n.lenbits)-1],A=S>>>24,O=S>>>16&255,R=S&65535,!(A<=h);){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(R<16)d>>>=A,h-=A,n.lens[n.have++]=R;else{if(R===16){for(F=A+2;h<F;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(d>>>=A,h-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=nr;break}te=n.lens[n.have-1],g=3+(d&3),d>>>=2,h-=2}else if(R===17){for(F=A+3;h<F;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}d>>>=A,h-=A,te=0,g=3+(d&7),d>>>=3,h-=3}else{for(F=A+7;h<F;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}d>>>=A,h-=A,te=0,g=11+(d&127),d>>>=7,h-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=nr;break}for(;g--;)n.lens[n.have++]=te}}if(n.mode===nr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=nr;break}if(n.lenbits=9,Y={bits:n.lenbits},X=od(uy,n.lens,0,n.nlen,n.lencode,0,n.work,Y),n.lenbits=Y.bits,X){t.msg="invalid literal/lengths set",n.mode=nr;break}if(n.distbits=6,n.distcode=n.distdyn,Y={bits:n.distbits},X=od(dy,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Y),n.distbits=Y.bits,X){t.msg="invalid distances set",n.mode=nr;break}if(n.mode=Sf,e===_f)break e;case Sf:n.mode=kf;case kf:if(c>=6&&u>=258){t.next_out=l,t.avail_out=u,t.next_in=i,t.avail_in=c,n.hold=d,n.bits=h,i6(t,w),l=t.next_out,a=t.output,u=t.avail_out,i=t.next_in,r=t.input,c=t.avail_in,d=n.hold,h=n.bits,n.mode===ys&&(n.back=-1);break}for(n.back=0;S=n.lencode[d&(1<<n.lenbits)-1],A=S>>>24,O=S>>>16&255,R=S&65535,!(A<=h);){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(O&&(O&240)===0){for(I=A,ee=O,U=R;S=n.lencode[U+((d&(1<<I+ee)-1)>>I)],A=S>>>24,O=S>>>16&255,R=S&65535,!(I+A<=h);){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}d>>>=I,h-=I,n.back+=I}if(d>>>=A,h-=A,n.back+=A,n.length=R,O===0){n.mode=L2;break}if(O&32){n.back=-1,n.mode=ys;break}if(O&64){t.msg="invalid literal/length code",n.mode=nr;break}n.extra=O&15,n.mode=k2;case k2:if(n.extra){for(F=n.extra;h<F;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=N2;case N2:for(;S=n.distcode[d&(1<<n.distbits)-1],A=S>>>24,O=S>>>16&255,R=S&65535,!(A<=h);){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if((O&240)===0){for(I=A,ee=O,U=R;S=n.distcode[U+((d&(1<<I+ee)-1)>>I)],A=S>>>24,O=S>>>16&255,R=S&65535,!(I+A<=h);){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}d>>>=I,h-=I,n.back+=I}if(d>>>=A,h-=A,n.back+=A,O&64){t.msg="invalid distance code",n.mode=nr;break}n.offset=R,n.extra=O&15,n.mode=A2;case A2:if(n.extra){for(F=n.extra;h<F;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=nr;break}n.mode=C2;case C2:if(u===0)break e;if(g=w-u,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=nr;break}g>n.wnext?(g-=n.wnext,N=n.wsize-g):N=n.wnext-g,g>n.length&&(g=n.length),_=n.window}else _=a,N=l-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do a[l++]=_[N++];while(--g);n.length===0&&(n.mode=kf);break;case L2:if(u===0)break e;a[l++]=n.length,u--,n.mode=kf;break;case Dm:if(n.wrap){for(;h<32;){if(c===0)break e;c--,d|=r[i++]<<h,h+=8}if(w-=u,t.total_out+=w,n.total+=w,n.wrap&4&&w&&(t.adler=n.check=n.flags?Fi(n.check,a,w,l-w):yp(n.check,a,w,l-w)),w=u,n.wrap&4&&(n.flags?d:M2(d))!==n.check){t.msg="incorrect data check",n.mode=nr;break}d=0,h=0}n.mode=P2;case P2:if(n.wrap&&n.flags){for(;h<32;){if(c===0)break e;c--,d+=r[i++]<<h,h+=8}if(n.wrap&4&&d!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=nr;break}d=0,h=0}n.mode=T2;case T2:X=m6;break e;case nr:X=fy;break e;case my:return hy;case py:default:return Vo}return t.next_out=l,t.avail_out=u,t.next_in=i,t.avail_in=c,n.hold=d,n.bits=h,(n.wsize||w!==t.avail_out&&n.mode<nr&&(n.mode<Dm||e!==c2))&&wy(t,t.output,t.next_out,w-t.avail_out),y-=t.avail_in,w-=t.avail_out,t.total_in+=y,t.total_out+=w,n.total+=w,n.wrap&4&&w&&(t.adler=n.check=n.flags?Fi(n.check,a,w,t.next_out-w):yp(n.check,a,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(n.mode===ys?128:0)+(n.mode===Sf||n.mode===Fm?256:0),(y===0&&w===0||e===c2)&&X===oc&&(X=g6),X},k6=t=>{if(lc(t))return Vo;let e=t.state;return e.window&&(e.window=null),t.state=null,oc},N6=(t,e)=>{if(lc(t))return Vo;const n=t.state;return(n.wrap&2)===0?Vo:(n.head=e,e.done=!1,oc)},A6=(t,e)=>{const n=e.length;let r,a,i;return lc(t)||(r=t.state,r.wrap!==0&&r.mode!==ih)?Vo:r.mode===ih&&(a=1,a=yp(a,e,n,0),a!==r.check)?fy:(i=wy(t,e,n,n),i?(r.mode=my,hy):(r.havedict=1,oc))};var C6=vy,L6=yy,P6=gy,T6=E6,M6=by,R6=S6,F6=k6,D6=N6,O6=A6,I6="pako inflate (from Nodeca project)",Es={inflateReset:C6,inflateReset2:L6,inflateResetKeep:P6,inflateInit:T6,inflateInit2:M6,inflate:R6,inflateEnd:F6,inflateGetHeader:D6,inflateSetDictionary:O6,inflateInfo:I6};function j6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var B6=j6;const xy=Object.prototype.toString,{Z_NO_FLUSH:z6,Z_FINISH:U6,Z_OK:pd,Z_STREAM_END:jm,Z_NEED_DICT:Bm,Z_STREAM_ERROR:q6,Z_DATA_ERROR:F2,Z_MEM_ERROR:W6}=sy;function Ed(t){this.options=ly.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a6,this.strm.avail_out=0;let n=Es.inflateInit2(this.strm,e.windowBits);if(n!==pd)throw new Error(bp[n]);if(this.header=new B6,Es.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wp.string2buf(e.dictionary):xy.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Es.inflateSetDictionary(this.strm,e.dictionary),n!==pd)))throw new Error(bp[n])}Ed.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?U6:z6,xy.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Es.inflate(n,l),i===Bm&&a&&(i=Es.inflateSetDictionary(n,a),i===pd?i=Es.inflate(n,l):i===F2&&(i=Bm));n.avail_in>0&&i===jm&&n.state.wrap>0&&t[n.next_in]!==0;)Es.inflateReset(n),i=Es.inflate(n,l);switch(i){case q6:case F2:case Bm:case W6:return this.onEnd(i),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||i===jm))if(this.options.to==="string"){let u=wp.utf8border(n.output,n.next_out),d=n.next_out-u,h=wp.buf2string(n.output,u);n.next_out=d,n.avail_out=r-d,d&&n.output.set(n.output.subarray(u,u+d),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===pd&&c===0)){if(i===jm)return i=Es.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Ed.prototype.onData=function(t){this.chunks.push(t)};Ed.prototype.onEnd=function(t){t===pd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ly.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function H6(t,e){const n=new Ed(e);if(n.push(t),n.err)throw n.msg||bp[n.err];return n.result}var $6=Ed,V6=H6,Y6={Inflate:$6,inflate:V6};const{Inflate:G6,inflate:K6}=Y6;var D2=G6,X6=K6;const Ey=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Ey[t]=e}const O2=4294967295;function J6(t,e,n){let r=t;for(let a=0;a<n;a++)r=Ey[(r^e[a])&255]^r>>>8;return r}function Q6(t,e){return(J6(O2,t,e)^O2)>>>0}function I2(t,e,n){const r=t.readUint32(),a=Q6(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${a}`)}function _y(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Sy(t,e,n,r){let a=0;for(;a<r;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-r]&255}function ky(t,e,n,r){let a=0;if(n.length===0)for(;a<r;a++)e[a]=t[a];else for(;a<r;a++)e[a]=t[a]+n[a]&255}function Ny(t,e,n,r,a){let i=0;if(n.length===0){for(;i<a;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-a]+n[i]>>1)&255}}function Ay(t,e,n,r,a){let i=0;if(n.length===0){for(;i<a;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+Z6(e[i-a],n[i],n[i-a])&255}}function Z6(t,e,n){const r=t+e-n,a=Math.abs(r-t),i=Math.abs(r-e),l=Math.abs(r-n);return a<=i&&a<=l?t:i<=l?e:n}function e8(t,e,n,r,a,i){switch(t){case 0:_y(e,n,a);break;case 1:Sy(e,n,a,i);break;case 2:ky(e,n,r,a);break;case 3:Ny(e,n,r,a,i);break;case 4:Ay(e,n,r,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const t8=new Uint16Array([255]),n8=new Uint8Array(t8.buffer),r8=n8[0]===255;function a8(t){const{data:e,width:n,height:r,channels:a,depth:i}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(i/8)*a,u=new Uint8Array(r*n*c);let d=0;for(let h=0;h<7;h++){const y=l[h],w=Math.ceil((n-y.x)/y.xStep),g=Math.ceil((r-y.y)/y.yStep);if(w<=0||g<=0)continue;const N=w*c,_=new Uint8Array(N);for(let S=0;S<g;S++){const A=e[d++],O=e.subarray(d,d+N);d+=N;const R=new Uint8Array(N);e8(A,O,R,_,N,c),_.set(R);for(let I=0;I<w;I++){const ee=y.x+I*y.xStep,U=y.y+S*y.yStep;if(!(ee>=n||U>=r))for(let te=0;te<c;te++)u[(U*n+ee)*c+te]=R[I*c+te]}}}if(i===16){const h=new Uint16Array(u.buffer);if(r8)for(let y=0;y<h.length;y++)h[y]=o8(h[y]);return h}else return u}function o8(t){return(t&255)<<8|t>>8&255}const i8=new Uint16Array([255]),s8=new Uint8Array(i8.buffer),l8=s8[0]===255,c8=new Uint8Array(0);function j2(t){const{data:e,width:n,height:r,channels:a,depth:i}=t,l=Math.ceil(i/8)*a,c=Math.ceil(i/8*a*n),u=new Uint8Array(r*c);let d=c8,h=0,y,w;for(let g=0;g<r;g++){switch(y=e.subarray(h+1,h+1+c),w=u.subarray(g*c,(g+1)*c),e[h]){case 0:_y(y,w,c);break;case 1:Sy(y,w,c,l);break;case 2:ky(y,w,d,c);break;case 3:Ny(y,w,d,c,l);break;case 4:Ay(y,w,d,c,l);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}d=w,h+=c+1}if(i===16){const g=new Uint16Array(u.buffer);if(l8)for(let N=0;N<g.length;N++)g[N]=u8(g[N]);return g}else return u}function u8(t){return(t&255)<<8|t>>8&255}const Bf=Uint8Array.of(137,80,78,71,13,10,26,10);function B2(t){if(!d8(t.readBytes(Bf.length)))throw new Error("wrong PNG signature")}function d8(t){if(t.length<Bf.length)return!1;for(let e=0;e<Bf.length;e++)if(t[e]!==Bf[e])return!1;return!0}const f8="tEXt",h8=0,Cy=new TextDecoder("latin1");function m8(t){if(g8(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const p8=/^[\u0000-\u00FF]*$/;function g8(t){if(!p8.test(t))throw new Error("invalid latin1 text")}function v8(t,e,n){const r=Ly(e);t[r]=y8(e,n-r.length-1)}function Ly(t){for(t.mark();t.readByte()!==h8;);const e=t.offset;t.reset();const n=Cy.decode(t.readBytes(e-t.offset-1));return t.skip(1),m8(n),n}function y8(t,e){return Cy.decode(t.readBytes(e))}const wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},zm={UNKNOWN:-1,DEFLATE:0},z2={UNKNOWN:-1,ADAPTIVE:0},Um={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Nf={NONE:0,BACKGROUND:1,PREVIOUS:2},qm={SOURCE:0,OVER:1};class b8 extends eg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new D2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=zm.UNKNOWN,this._filterMethod=z2.UNKNOWN,this._interlaceMethod=Um.UNKNOWN,this._colorType=wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(B2(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(B2(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case f8:v8(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?I2(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?I2(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=w8(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case wo.GREYSCALE:r=1;break;case wo.TRUECOLOUR:r=3;break;case wo.INDEXED_COLOUR:r=1;break;case wo.GREYSCALE_ALPHA:r=2;break;case wo.TRUECOLOUR_ALPHA:r=4;break;case wo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==zm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<n;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case wo.GREYSCALE:case wo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case wo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wo.UNKNOWN:case wo.GREYSCALE_ALPHA:case wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Ly(this),r=this.readUint8();if(r!==zm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:X6(a)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=j2({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Nf.NONE:break;case Nf.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const l=(a*e.width+i)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[l+c]=0}break;case Nf.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,a=(i,l)=>{const c=((i+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(i*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case qm.SOURCE:for(let i=0;i<n.height;i++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(i,l);for(let d=0;d<this._png.channels;d++)e.data[c+d]=n.data[u+d]}break;case qm.OVER:for(let i=0;i<n.height;i++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(i,l);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/r,y=d%(this._png.channels-1)===0?1:n.data[u+d],w=Math.floor(h*y+(1-h)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==z2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Um.NO_INTERLACE)this._png.data=j2({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Um.ADAM7)this._png.data=a8({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Nf.NONE,blendOp:qm.SOURCE,data:e}),this._inflator=new D2,this._writingDataChunks=!1}}function w8(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var U2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(U2||(U2={}));function x8(t,e){return new b8(t,e).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Wm(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var qn={log:Wm,warn:function(t){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Wm.call(null,arguments))},error:function(t){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Wm(t))}};function Hm(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Gl(r.response,e,n)},r.onerror=function(){qn.error("could not download file")},r.send()}function q2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Af(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Gl=Ut.saveAs||((typeof window>"u"?"undefined":On(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ut.URL||Ut.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?q2(a.href)?Hm(t,e,n):Af(a,a.target="_blank"):Af(a)):(a.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Af(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(q2(t))Hm(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Af(r)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:On(i)!=="object"&&(qn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Hm(t,e,n);var a=t.type==="application/octet-stream",i=/constructor/i.test(Ut.HTMLElement)||Ut.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":On(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var h=c.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},c.readAsDataURL(t)}else{var u=Ut.URL||Ut.webkitURL,d=u.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Py(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,l=a.exec(t);l&&(e=i(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}var zf=Ut.atob.bind(Ut),W2=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $m(t,e){var n=t[0],r=t[1],a=t[2],i=t[3];n=Sa(n,r,a,i,e[0],7,-680876936),i=Sa(i,n,r,a,e[1],12,-389564586),a=Sa(a,i,n,r,e[2],17,606105819),r=Sa(r,a,i,n,e[3],22,-1044525330),n=Sa(n,r,a,i,e[4],7,-176418897),i=Sa(i,n,r,a,e[5],12,1200080426),a=Sa(a,i,n,r,e[6],17,-1473231341),r=Sa(r,a,i,n,e[7],22,-45705983),n=Sa(n,r,a,i,e[8],7,1770035416),i=Sa(i,n,r,a,e[9],12,-1958414417),a=Sa(a,i,n,r,e[10],17,-42063),r=Sa(r,a,i,n,e[11],22,-1990404162),n=Sa(n,r,a,i,e[12],7,1804603682),i=Sa(i,n,r,a,e[13],12,-40341101),a=Sa(a,i,n,r,e[14],17,-1502002290),n=ka(n,r=Sa(r,a,i,n,e[15],22,1236535329),a,i,e[1],5,-165796510),i=ka(i,n,r,a,e[6],9,-1069501632),a=ka(a,i,n,r,e[11],14,643717713),r=ka(r,a,i,n,e[0],20,-373897302),n=ka(n,r,a,i,e[5],5,-701558691),i=ka(i,n,r,a,e[10],9,38016083),a=ka(a,i,n,r,e[15],14,-660478335),r=ka(r,a,i,n,e[4],20,-405537848),n=ka(n,r,a,i,e[9],5,568446438),i=ka(i,n,r,a,e[14],9,-1019803690),a=ka(a,i,n,r,e[3],14,-187363961),r=ka(r,a,i,n,e[8],20,1163531501),n=ka(n,r,a,i,e[13],5,-1444681467),i=ka(i,n,r,a,e[2],9,-51403784),a=ka(a,i,n,r,e[7],14,1735328473),n=Na(n,r=ka(r,a,i,n,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Na(i,n,r,a,e[8],11,-2022574463),a=Na(a,i,n,r,e[11],16,1839030562),r=Na(r,a,i,n,e[14],23,-35309556),n=Na(n,r,a,i,e[1],4,-1530992060),i=Na(i,n,r,a,e[4],11,1272893353),a=Na(a,i,n,r,e[7],16,-155497632),r=Na(r,a,i,n,e[10],23,-1094730640),n=Na(n,r,a,i,e[13],4,681279174),i=Na(i,n,r,a,e[0],11,-358537222),a=Na(a,i,n,r,e[3],16,-722521979),r=Na(r,a,i,n,e[6],23,76029189),n=Na(n,r,a,i,e[9],4,-640364487),i=Na(i,n,r,a,e[12],11,-421815835),a=Na(a,i,n,r,e[15],16,530742520),n=Aa(n,r=Na(r,a,i,n,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Aa(i,n,r,a,e[7],10,1126891415),a=Aa(a,i,n,r,e[14],15,-1416354905),r=Aa(r,a,i,n,e[5],21,-57434055),n=Aa(n,r,a,i,e[12],6,1700485571),i=Aa(i,n,r,a,e[3],10,-1894986606),a=Aa(a,i,n,r,e[10],15,-1051523),r=Aa(r,a,i,n,e[1],21,-2054922799),n=Aa(n,r,a,i,e[8],6,1873313359),i=Aa(i,n,r,a,e[15],10,-30611744),a=Aa(a,i,n,r,e[6],15,-1560198380),r=Aa(r,a,i,n,e[13],21,1309151649),n=Aa(n,r,a,i,e[4],6,-145523070),i=Aa(i,n,r,a,e[11],10,-1120210379),a=Aa(a,i,n,r,e[2],15,718787259),r=Aa(r,a,i,n,e[9],21,-343485551),t[0]=ll(n,t[0]),t[1]=ll(r,t[1]),t[2]=ll(a,t[2]),t[3]=ll(i,t[3])}function yh(t,e,n,r,a,i){return e=ll(ll(e,t),ll(r,i)),ll(e<<a|e>>>32-a,n)}function Sa(t,e,n,r,a,i,l){return yh(e&n|~e&r,t,e,a,i,l)}function ka(t,e,n,r,a,i,l){return yh(e&r|n&~r,t,e,a,i,l)}function Na(t,e,n,r,a,i,l){return yh(e^n^r,t,e,a,i,l)}function Aa(t,e,n,r,a,i,l){return yh(n^(e|~r),t,e,a,i,l)}function Ty(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)$m(r,E8(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for($m(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*n,$m(r,a),r}function E8(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var H2="0123456789abcdef".split("");function _8(t){for(var e="",n=0;n<4;n++)e+=H2[t>>8*n+4&15]+H2[t>>8*n&15];return e}function S8(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function xp(t){return Ty(t).map(S8).join("")}var k8=function(t){for(var e=0;e<t.length;e++)t[e]=_8(t[e]);return t.join("")}(Ty("hello"))!="5d41402abc4b2a76b9719d911017c592";function ll(t,e){if(k8){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ep(t,e){var n,r,a,i;if(t!==n){for(var l=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var h=c[u];d=(d+h+l.charCodeAt(u))%256,c[u]=c[d],c[d]=h}n=t,r=c}else c=r;var y=e.length,w=0,g=0,N="";for(u=0;u<y;u++)g=(g+(h=c[w=(w+1)%256]))%256,c[w]=c[g],c[g]=h,l=c[(c[w]+c[g])%256],N+=String.fromCharCode(e.charCodeAt(u)^l);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $2={print:4,modify:8,copy:16,"annot-forms":32};function Xc(t,e,n,r){this.v=1,this.r=2;var a=192;t.forEach(function(c){if($2.perm!==void 0)throw new Error("Invalid permission: "+c);a+=$2[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=xp(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ep(this.encryptionKey,this.padding)}function Jc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var a=t.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[r]}return e}function V2(t){if(On(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,a){if(a=a||!1,typeof n!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!a],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[n]){var l=e[n][i];try{l[0].apply(t,r)}catch(c){Ut.console&&qn.error("jsPDF PubSub Error",c.message,c)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function sh(t){if(!(this instanceof sh))return new sh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function My(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Jl(t,e,n,r,a){if(!(this instanceof Jl))return new Jl(t,e,n,r,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,My.call(this,r,a)}function Qc(t,e,n,r,a){if(!(this instanceof Qc))return new Qc(t,e,n,r,a);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,My.call(this,r,a)}function _t(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],l=[],c=1,u=16,d="S",h=null;On(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,a=t.format||a,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),d=t.defaultPathOperation||"S"),l=t.filters||(i===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var y=t.putOnlyUsedFonts||!1,w={},g={internal:{},__private__:{}};g.__private__.PubSub=V2;var N="1.3",_=g.__private__.getPdfVersion=function(){return N};g.__private__.setPdfVersion=function(E){N=E};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return S};var A=g.__private__.getPageFormat=function(E){return S[E]};a=a||"a4";var O="compat",R="advanced",I=O;function ee(){this.saveGraphicsState(),le(new pe(At,0,0,-At,0,Yr()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),d="n",I=R}function U(){this.restoreGraphicsState(),d="S",I=O}var te=g.__private__.combineFontStyleAndFontWeight=function(E,B){if(E=="bold"&&B=="normal"||E=="bold"&&B==400||E=="normal"&&B=="italic"||E=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(E=B==400||B==="normal"?E==="italic"?"italic":"normal":B!=700&&B!=="bold"||E!=="normal"?(B==700?"bold":B)+""+E:"bold"),E};g.advancedAPI=function(E){var B=I===O;return B&&ee.call(this),typeof E!="function"||(E(this),B&&U.call(this)),this},g.compatAPI=function(E){var B=I===R;return B&&U.call(this),typeof E!="function"||(E(this),B&&ee.call(this)),this},g.isAdvancedAPI=function(){return I===R};var X,T=function(E){if(I!==R)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=g.roundToPrecision=g.__private__.roundToPrecision=function(E,B){var ie=e||B;if(isNaN(E)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ie).replace(/0+$/,"")};X=g.hpf=g.__private__.hpf=typeof u=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(E,u)}:u==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(E,16)};var F=g.f2=g.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return Y(E,2)},M=g.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return Y(E,3)},j=g.scale=g.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return I===O?E*At:I===R?E:void 0},D=function(E){return j(function(B){return I===O?Yr()-B:I===R?B:void 0}(E))};g.__private__.setPrecision=g.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var $,ne="00000000000000000000000000000000",ce=g.__private__.getFileId=function(){return ne},re=g.__private__.setFileId=function(E){return ne=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ar=new Xc(h.userPermissions,h.userPassword,h.ownerPassword,ne)),ne};g.setFileId=function(E){return re(E),this},g.getFileId=function(){return ce()};var de=g.__private__.convertDateToPDFDate=function(E){var B=E.getTimezoneOffset(),ie=B<0?"+":"-",me=Math.floor(Math.abs(B/60)),Ee=Math.abs(B%60),Ie=[ie,Z(me),"'",Z(Ee),"'"].join("");return["D:",E.getFullYear(),Z(E.getMonth()+1),Z(E.getDate()),Z(E.getHours()),Z(E.getMinutes()),Z(E.getSeconds()),Ie].join("")},ye=g.__private__.convertPDFDateToDate=function(E){var B=parseInt(E.substr(2,4),10),ie=parseInt(E.substr(6,2),10)-1,me=parseInt(E.substr(8,2),10),Ee=parseInt(E.substr(10,2),10),Ie=parseInt(E.substr(12,2),10),ze=parseInt(E.substr(14,2),10);return new Date(B,ie,me,Ee,Ie,ze,0)},G=g.__private__.setCreationDate=function(E){var B;if(E===void 0&&(E=new Date),E instanceof Date)B=de(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=E}return $=B},P=g.__private__.getCreationDate=function(E){var B=$;return E==="jsDate"&&(B=ye($)),B};g.setCreationDate=function(E){return G(E),this},g.getCreationDate=function(E){return P(E)};var K,Z=g.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},se=g.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},fe=0,xe=[],Ce=[],Se=0,Me=[],qe=[],Ze=!1,et=Ce;g.__private__.setCustomOutputDestination=function(E){Ze=!0,et=E};var Re=function(E){Ze||(et=E)};g.__private__.resetCustomOutputDestination=function(){Ze=!1,et=Ce};var le=g.__private__.out=function(E){return E=E.toString(),Se+=E.length+1,et.push(E),et},Xt=g.__private__.write=function(E){return le(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},It=g.__private__.getArrayBuffer=function(E){for(var B=E.length,ie=new ArrayBuffer(B),me=new Uint8Array(ie);B--;)me[B]=E.charCodeAt(B);return ie},kt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return kt};var $e=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(E){return $e=I===R?E/At:E,this};var ht,Qe=g.__private__.getFontSize=g.getFontSize=function(){return I===O?$e:$e*At},Ct=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(E){return Ct=E,this},g.__private__.getR2L=g.getR2L=function(){return Ct};var vt,rn=g.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))ht=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');ht=E}else ht=parseInt(E,10)};g.__private__.getZoomMode=function(){return ht};var Dt,Nt=g.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');vt=E};g.__private__.getPageMode=function(){return vt};var Yt=g.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Dt=E};g.__private__.getLayoutMode=function(){return Dt},g.__private__.setDisplayMode=g.setDisplayMode=function(E,B,ie){return rn(E),Yt(B),Nt(ie),this};var Ot={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(E){if(Object.keys(Ot).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ot[E]},g.__private__.getDocumentProperties=function(){return Ot},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(E){for(var B in Ot)Ot.hasOwnProperty(B)&&E[B]&&(Ot[B]=E[B]);return this},g.__private__.setDocumentProperty=function(E,B){if(Object.keys(Ot).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ot[E]=B};var yt,At,rt,En,an,mt={},Bt={},un=[],St={},Gt={},Mt={},zn={},Ln=null,ln=0,Rt=[],en=new V2(g),Ta=t.hotfixes||[],wr={},Ua={},he=[],pe=function E(B,ie,me,Ee,Ie,ze){if(!(this instanceof E))return new E(B,ie,me,Ee,Ie,ze);isNaN(B)&&(B=1),isNaN(ie)&&(ie=0),isNaN(me)&&(me=0),isNaN(Ee)&&(Ee=1),isNaN(Ie)&&(Ie=0),isNaN(ze)&&(ze=0),this._matrix=[B,ie,me,Ee,Ie,ze]};Object.defineProperty(pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pe.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(E)},pe.prototype.multiply=function(E){var B=E.sx*this.sx+E.shy*this.shx,ie=E.sx*this.shy+E.shy*this.sy,me=E.shx*this.sx+E.sy*this.shx,Ee=E.shx*this.shy+E.sy*this.sy,Ie=E.tx*this.sx+E.ty*this.shx+this.tx,ze=E.tx*this.shy+E.ty*this.sy+this.ty;return new pe(B,ie,me,Ee,Ie,ze)},pe.prototype.decompose=function(){var E=this.sx,B=this.shy,ie=this.shx,me=this.sy,Ee=this.tx,Ie=this.ty,ze=Math.sqrt(E*E+B*B),lt=(E/=ze)*ie+(B/=ze)*me;ie-=E*lt,me-=B*lt;var dt=Math.sqrt(ie*ie+me*me);return lt/=dt,E*(me/=dt)<B*(ie/=dt)&&(E=-E,B=-B,lt=-lt,ze=-ze),{scale:new pe(ze,0,0,dt,0,0),translate:new pe(1,0,0,1,Ee,Ie),rotate:new pe(E,B,-B,E,0,0),skew:new pe(1,0,lt,1,0,0)}},pe.prototype.toString=function(E){return this.join(" ")},pe.prototype.inversed=function(){var E=this.sx,B=this.shy,ie=this.shx,me=this.sy,Ee=this.tx,Ie=this.ty,ze=1/(E*me-B*ie),lt=me*ze,dt=-B*ze,Lt=-ie*ze,Wt=E*ze;return new pe(lt,dt,Lt,Wt,-lt*Ee-Lt*Ie,-dt*Ee-Wt*Ie)},pe.prototype.applyToPoint=function(E){var B=E.x*this.sx+E.y*this.shx+this.tx,ie=E.x*this.shy+E.y*this.sy+this.ty;return new Co(B,ie)},pe.prototype.applyToRectangle=function(E){var B=this.applyToPoint(E),ie=this.applyToPoint(new Co(E.x+E.w,E.y+E.h));return new Zi(B.x,B.y,ie.x-B.x,ie.y-B.y)},pe.prototype.clone=function(){var E=this.sx,B=this.shy,ie=this.shx,me=this.sy,Ee=this.tx,Ie=this.ty;return new pe(E,B,ie,me,Ee,Ie)},g.Matrix=pe;var Pe=g.matrixMult=function(E,B){return B.multiply(E)},Ue=new pe(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ue;var Ve=function(E,B){if(!Gt[E]){var ie=(B instanceof Jl?"Sh":"P")+(Object.keys(St).length+1).toString(10);B.id=ie,Gt[E]=ie,St[ie]=B,en.publish("addPattern",B)}};g.ShadingPattern=Jl,g.TilingPattern=Qc,g.addShadingPattern=function(E,B){return T("addShadingPattern()"),Ve(E,B),this},g.beginTilingPattern=function(E){T("beginTilingPattern()"),$a(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},g.endTilingPattern=function(E,B){T("endTilingPattern()"),B.stream=qe[K].join(`
`),Ve(E,B),en.publish("endTilingPattern",B),he.pop().restore()};var nt,Ke=g.__private__.newObject=function(){var E=Xe();return tt(E,!0),E},Xe=g.__private__.newObjectDeferred=function(){return fe++,xe[fe]=function(){return Se},fe},tt=function(E,B){return B=typeof B=="boolean"&&B,xe[E]=Se,B&&le(E+" 0 obj"),E},xt=g.__private__.newAdditionalObject=function(){var E={objId:Xe(),content:""};return Me.push(E),E},ct=Xe(),ot=Xe(),qt=g.__private__.decodeColorString=function(E){var B=E.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ie=parseFloat(B[0]);B=[ie,ie,ie,"r"]}for(var me="#",Ee=0;Ee<3;Ee++)me+=("0"+Math.floor(255*parseFloat(B[Ee])).toString(16)).slice(-2);return me},Kt=g.__private__.encodeColorString=function(E){var B;typeof E=="string"&&(E={ch1:E});var ie=E.ch1,me=E.ch2,Ee=E.ch3,Ie=E.ch4,ze=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var lt=new Py(ie);if(lt.ok)ie=lt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var dt=parseInt(ie.substr(1),16);ie=dt>>16&255,me=dt>>8&255,Ee=255&dt}if(me===void 0||Ie===void 0&&ie===me&&me===Ee)B=typeof ie=="string"?ie+" "+ze[0]:E.precision===2?F(ie/255)+" "+ze[0]:M(ie/255)+" "+ze[0];else if(Ie===void 0||On(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",ze[1]].join(" ");B=typeof ie=="string"?[ie,me,Ee,ze[1]].join(" "):E.precision===2?[F(ie/255),F(me/255),F(Ee/255),ze[1]].join(" "):[M(ie/255),M(me/255),M(Ee/255),ze[1]].join(" ")}else B=typeof ie=="string"?[ie,me,Ee,Ie,ze[2]].join(" "):E.precision===2?[F(ie),F(me),F(Ee),F(Ie),ze[2]].join(" "):[M(ie),M(me),M(Ee),M(Ie),ze[2]].join(" ");return B},_n=g.__private__.getFilters=function(){return l},Sn=g.__private__.putStream=function(E){var B=(E=E||{}).data||"",ie=E.filters||_n(),me=E.alreadyAppliedFilters||[],Ee=E.addLength1||!1,Ie=B.length,ze=E.objectId,lt=function(Er){return Er};if(h!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(lt=ar.encryptor(ze,0));var dt={};ie===!0&&(ie=["FlateEncode"]);var Lt=E.additionalKeyValues||[],Wt=(dt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(B,ie):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(dt.data.length!==0&&(Lt.push({key:"Length",value:dt.data.length}),Ee===!0&&Lt.push({key:"Length1",value:Ie})),Wt.length!=0)if(Wt.split("/").length-1==1)Lt.push({key:"Filter",value:Wt});else{Lt.push({key:"Filter",value:"["+Wt+"]"});for(var hn=0;hn<Lt.length;hn+=1)if(Lt[hn].key==="DecodeParms"){for(var Yn=[],hr=0;hr<dt.reverseChain.split("/").length-1;hr+=1)Yn.push("null");Yn.push(Lt[hn].value),Lt[hn].value="["+Yn.join(" ")+"]"}}le("<<");for(var yn=0;yn<Lt.length;yn++)le("/"+Lt[yn].key+" "+Lt[yn].value);le(">>"),dt.data.length!==0&&(le("stream"),le(lt(dt.data)),le("endstream"))},vn=g.__private__.putPage=function(E){var B=E.number,ie=E.data,me=E.objId,Ee=E.contentsObjId;tt(me,!0),le("<</Type /Page"),le("/Parent "+E.rootDictionaryObjId+" 0 R"),le("/Resources "+E.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(X(E.mediaBox.bottomLeftX))+" "+parseFloat(X(E.mediaBox.bottomLeftY))+" "+X(E.mediaBox.topRightX)+" "+X(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&le("/CropBox ["+X(E.cropBox.bottomLeftX)+" "+X(E.cropBox.bottomLeftY)+" "+X(E.cropBox.topRightX)+" "+X(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&le("/BleedBox ["+X(E.bleedBox.bottomLeftX)+" "+X(E.bleedBox.bottomLeftY)+" "+X(E.bleedBox.topRightX)+" "+X(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&le("/TrimBox ["+X(E.trimBox.bottomLeftX)+" "+X(E.trimBox.bottomLeftY)+" "+X(E.trimBox.topRightX)+" "+X(E.trimBox.topRightY)+"]"),E.artBox!==null&&le("/ArtBox ["+X(E.artBox.bottomLeftX)+" "+X(E.artBox.bottomLeftY)+" "+X(E.artBox.topRightX)+" "+X(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&le("/UserUnit "+E.userUnit),en.publish("putPage",{objId:me,pageContext:Rt[B],pageNumber:B,page:ie}),le("/Contents "+Ee+" 0 R"),le(">>"),le("endobj");var Ie=ie.join(`
`);return I===R&&(Ie+=`
Q`),tt(Ee,!0),Sn({data:Ie,filters:_n(),objectId:Ee}),le("endobj"),me},Jt=g.__private__.putPages=function(){var E,B,ie=[];for(E=1;E<=ln;E++)Rt[E].objId=Xe(),Rt[E].contentsObjId=Xe();for(E=1;E<=ln;E++)ie.push(vn({number:E,data:qe[E],objId:Rt[E].objId,contentsObjId:Rt[E].contentsObjId,mediaBox:Rt[E].mediaBox,cropBox:Rt[E].cropBox,bleedBox:Rt[E].bleedBox,trimBox:Rt[E].trimBox,artBox:Rt[E].artBox,userUnit:Rt[E].userUnit,rootDictionaryObjId:ct,resourceDictionaryObjId:ot}));tt(ct,!0),le("<</Type /Pages");var me="/Kids [";for(B=0;B<ln;B++)me+=ie[B]+" 0 R ";le(me+"]"),le("/Count "+ln),le(">>"),le("endobj"),en.publish("postPutPages")},$r=function(E){en.publish("putFont",{font:E,out:le,newObject:Ke,putStream:Sn}),E.isAlreadyPutted!==!0&&(E.objectNumber=Ke(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Jc(E.postScriptName)),le("/Subtype /Type1"),typeof E.encoding=="string"&&le("/Encoding /"+E.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Ma=function(E){E.objectNumber=Ke();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[X(E.x),X(E.y),X(E.x+E.width),X(E.y+E.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ie=E.pages[1].join(`
`);Sn({data:ie,additionalKeyValues:B,objectId:E.objectNumber}),le("endobj")},Vr=function(E,B){B||(B=21);var ie=Ke(),me=function(ze,lt){var dt,Lt=[],Wt=1/(lt-1);for(dt=0;dt<1;dt+=Wt)Lt.push(dt);if(Lt.push(1),ze[0].offset!=0){var hn={offset:0,color:ze[0].color};ze.unshift(hn)}if(ze[ze.length-1].offset!=1){var Yn={offset:1,color:ze[ze.length-1].color};ze.push(Yn)}for(var hr="",yn=0,Er=0;Er<Lt.length;Er++){for(dt=Lt[Er];dt>ze[yn+1].offset;)yn++;var mr=ze[yn].offset,zr=(dt-mr)/(ze[yn+1].offset-mr),Zo=ze[yn].color,wi=ze[yn+1].color;hr+=se(Math.round((1-zr)*Zo[0]+zr*wi[0]).toString(16))+se(Math.round((1-zr)*Zo[1]+zr*wi[1]).toString(16))+se(Math.round((1-zr)*Zo[2]+zr*wi[2]).toString(16))}return hr.trim()}(E.colors,B),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+B+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sn({data:me,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),le("endobj"),E.objectNumber=Ke(),le("<< /ShadingType "+E.type),le("/ColorSpace /DeviceRGB");var Ie="/Coords ["+X(parseFloat(E.coords[0]))+" "+X(parseFloat(E.coords[1]))+" ";E.type===2?Ie+=X(parseFloat(E.coords[2]))+" "+X(parseFloat(E.coords[3])):Ie+=X(parseFloat(E.coords[2]))+" "+X(parseFloat(E.coords[3]))+" "+X(parseFloat(E.coords[4]))+" "+X(parseFloat(E.coords[5])),le(Ie+="]"),E.matrix&&le("/Matrix ["+E.matrix.toString()+"]"),le("/Function "+ie+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Br=function(E,B){var ie=Xe(),me=Ke();B.push({resourcesOid:ie,objectOid:me}),E.objectNumber=me;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+E.boundingBox.map(X).join(" ")+"]"}),Ee.push({key:"XStep",value:X(E.xStep)}),Ee.push({key:"YStep",value:X(E.yStep)}),Ee.push({key:"Resources",value:ie+" 0 R"}),E.matrix&&Ee.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Sn({data:E.stream,additionalKeyValues:Ee,objectId:E.objectNumber}),le("endobj")},Vi=function(E){for(var B in E.objectNumber=Ke(),le("<<"),E)switch(B){case"opacity":le("/ca "+F(E[B]));break;case"stroke-opacity":le("/CA "+F(E[B]))}le(">>"),le("endobj")},fn=function(E){tt(E.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in le("/Font <<"),mt)mt.hasOwnProperty(B)&&(y===!1||y===!0&&w.hasOwnProperty(B))&&le("/"+B+" "+mt[B].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(St).length>0){for(var B in le("/Shading <<"),St)St.hasOwnProperty(B)&&St[B]instanceof Jl&&St[B].objectNumber>=0&&le("/"+B+" "+St[B].objectNumber+" 0 R");en.publish("putShadingPatternDict"),le(">>")}}(),function(B){if(Object.keys(St).length>0){for(var ie in le("/Pattern <<"),St)St.hasOwnProperty(ie)&&St[ie]instanceof g.TilingPattern&&St[ie].objectNumber>=0&&St[ie].objectNumber<B&&le("/"+ie+" "+St[ie].objectNumber+" 0 R");en.publish("putTilingPatternDict"),le(">>")}}(E.objectOid),function(){if(Object.keys(Mt).length>0){var B;for(B in le("/ExtGState <<"),Mt)Mt.hasOwnProperty(B)&&Mt[B].objectNumber>=0&&le("/"+B+" "+Mt[B].objectNumber+" 0 R");en.publish("putGStateDict"),le(">>")}}(),function(){for(var B in le("/XObject <<"),wr)wr.hasOwnProperty(B)&&wr[B].objectNumber>=0&&le("/"+B+" "+wr[B].objectNumber+" 0 R");en.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},qa=function(E){Bt[E.fontName]=Bt[E.fontName]||{},Bt[E.fontName][E.fontStyle]=E.id},oo=function(E,B,ie,me,Ee){var Ie={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:E,fontName:B,fontStyle:ie,encoding:me,isStandardFont:Ee||!1,metadata:{}};return en.publish("addFont",{font:Ie,instance:this}),mt[Ie.id]=Ie,qa(Ie),Ie.id},Rr=g.__private__.pdfEscape=g.pdfEscape=function(E,B){return function(ie,me){var Ee,Ie,ze,lt,dt,Lt,Wt,hn,Yn;if(ze=(me=me||{}).sourceEncoding||"Unicode",dt=me.outputEncoding,(me.autoencode||dt)&&mt[yt].metadata&&mt[yt].metadata[ze]&&mt[yt].metadata[ze].encoding&&(lt=mt[yt].metadata[ze].encoding,!dt&&mt[yt].encoding&&(dt=mt[yt].encoding),!dt&&lt.codePages&&(dt=lt.codePages[0]),typeof dt=="string"&&(dt=lt[dt]),dt)){for(Wt=!1,Lt=[],Ee=0,Ie=ie.length;Ee<Ie;Ee++)(hn=dt[ie.charCodeAt(Ee)])?Lt.push(String.fromCharCode(hn)):Lt.push(ie[Ee]),Lt[Ee].charCodeAt(0)>>8&&(Wt=!0);ie=Lt.join("")}for(Ee=ie.length;Wt===void 0&&Ee!==0;)ie.charCodeAt(Ee-1)>>8&&(Wt=!0),Ee--;if(!Wt)return ie;for(Lt=me.noBOM?[]:[254,255],Ee=0,Ie=ie.length;Ee<Ie;Ee++){if((Yn=(hn=ie.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(Yn),Lt.push(hn-(Yn<<8))}return String.fromCharCode.apply(void 0,Lt)}(E,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qt=g.__private__.beginPage=function(E){qe[++ln]=[],Rt[ln]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Ra(ln),Re(qe[K])},rr=function(E,B){var ie,me,Ee;switch(n=B||n,typeof E=="string"&&(ie=A(E.toLowerCase()),Array.isArray(ie)&&(me=ie[0],Ee=ie[1])),Array.isArray(E)&&(me=E[0]*At,Ee=E[1]*At),isNaN(me)&&(me=a[0],Ee=a[1]),(me>14400||Ee>14400)&&(qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ee=Math.min(14400,Ee)),a=[me,Ee],n.substr(0,1)){case"l":Ee>me&&(a=[Ee,me]);break;case"p":me>Ee&&(a=[Ee,me])}Qt(a),Ji(Ha),le(Qi),wl!==0&&le(wl+" J"),xl!==0&&le(xl+" j"),en.publish("addPage",{pageNumber:ln})},io=function(E){E>0&&E<=ln&&(qe.splice(E,1),Rt.splice(E,1),ln--,K>ln&&(K=ln),this.setPage(K))},Ra=function(E){E>0&&E<=ln&&(K=E)},cn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return qe.length-1},Yo=function(E,B,ie){var me,Ee=void 0;return ie=ie||{},E=E!==void 0?E:mt[yt].fontName,B=B!==void 0?B:mt[yt].fontStyle,me=E.toLowerCase(),Bt[me]!==void 0&&Bt[me][B]!==void 0?Ee=Bt[me][B]:Bt[E]!==void 0&&Bt[E][B]!==void 0?Ee=Bt[E][B]:ie.disableWarning===!1&&qn.warn("Unable to look up font label for font '"+E+"', '"+B+"'. Refer to getFontList() for available fonts."),Ee||ie.noFallback||(Ee=Bt.times[B])==null&&(Ee=Bt.times.normal),Ee},xr=g.__private__.putInfo=function(){var E=Ke(),B=function(me){return me};for(var ie in h!==null&&(B=ar.encryptor(E,0)),le("<<"),le("/Producer ("+Rr(B("jsPDF "+_t.version))+")"),Ot)Ot.hasOwnProperty(ie)&&Ot[ie]&&le("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Rr(B(Ot[ie]))+")");le("/CreationDate ("+Rr(B($))+")"),le(">>"),le("endobj")},gl=g.__private__.putCatalog=function(E){var B=(E=E||{}).rootDictionaryObjId||ct;switch(Ke(),le("<<"),le("/Type /Catalog"),le("/Pages "+B+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ht;ie.substr(ie.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&le("/OpenAction [3 0 R /XYZ null null "+F(ht)+"]")}switch(Dt||(Dt="continuous"),Dt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}vt&&le("/PageMode /"+vt),en.publish("putCatalog"),le(">>"),le("endobj")},fr=g.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(fe+1)),le("/Root "+fe+" 0 R"),le("/Info "+(fe-1)+" 0 R"),h!==null&&le("/Encrypt "+ar.oid+" 0 R"),le("/ID [ <"+ne+"> <"+ne+"> ]"),le(">>")},uc=g.__private__.putHeader=function(){le("%PDF-"+N),le("%")},Yi=g.__private__.putXRef=function(){var E="0000000000";le("xref"),le("0 "+(fe+1)),le("0000000000 65535 f ");for(var B=1;B<=fe;B++)typeof xe[B]=="function"?le((E+xe[B]()).slice(-10)+" 00000 n "):xe[B]!==void 0?le((E+xe[B]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Wa=g.__private__.buildDocument=function(){var E;fe=0,Se=0,Ce=[],xe=[],Me=[],ct=Xe(),ot=Xe(),Re(Ce),en.publish("buildDocument"),uc(),Jt(),function(){en.publish("putAdditionalObjects");for(var ie=0;ie<Me.length;ie++){var me=Me[ie];tt(me.objId,!0),le(me.content),le("endobj")}en.publish("postPutAdditionalObjects")}(),E=[],function(){for(var ie in mt)mt.hasOwnProperty(ie)&&(y===!1||y===!0&&w.hasOwnProperty(ie))&&$r(mt[ie])}(),function(){var ie;for(ie in Mt)Mt.hasOwnProperty(ie)&&Vi(Mt[ie])}(),function(){for(var ie in wr)wr.hasOwnProperty(ie)&&Ma(wr[ie])}(),function(ie){var me;for(me in St)St.hasOwnProperty(me)&&(St[me]instanceof Jl?Vr(St[me]):St[me]instanceof Qc&&Br(St[me],ie))}(E),en.publish("putResources"),E.forEach(fn),fn({resourcesOid:ot,objectOid:Number.MAX_SAFE_INTEGER}),en.publish("postPutResources"),h!==null&&(ar.oid=Ke(),le("<<"),le("/Filter /Standard"),le("/V "+ar.v),le("/R "+ar.r),le("/U <"+ar.toHexString(ar.U)+">"),le("/O <"+ar.toHexString(ar.O)+">"),le("/P "+ar.P),le(">>"),le("endobj")),xr(),gl();var B=Se;return Yi(),fr(),le("startxref"),le(""+B),le("%%EOF"),Re(qe[K]),Ce.join(`
`)},so=g.__private__.getBlob=function(E){return new Blob([It(E)],{type:"application/pdf"})},da=g.output=g.__private__.output=(nt=function(E,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",E){case void 0:return Wa();case"save":g.save(B.filename);break;case"arraybuffer":return It(Wa());case"blob":return so(Wa());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(so(Wa()))||void 0;qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",me=Wa();try{ie=W2(me)}catch{ie=W2(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+B.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Ee=B.pdfObjectUrl,Ie="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",lt=Ut.open();return lt!==null&&lt.document.write(ze),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Lt=Ut.open();if(Lt!==null){Lt.document.write(dt);var Wt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=B.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',Yn=Ut.open();if(Yn!==null&&(Yn.document.write(hn),Yn.document.title=B.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",B);default:return null}},nt.foo=function(){try{return nt.apply(this,arguments)}catch(ie){var E=ie.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var B="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Ut.console)throw new Error(B);Ut.console.error(B,ie),Ut.alert&&alert(B)}},nt.foo.bar=nt,nt.foo),Gi=function(E){return Array.isArray(Ta)===!0&&Ta.indexOf(E)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Gi("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var ar=null;G(),re();var Ki=g.__private__.getPageInfo=g.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[E].objId,pageNumber:E,pageContext:Rt[E]}},dc=g.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Rt)if(Rt[B].objId===E)break;return Ki(B)},vl=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Rt[K].objId,pageNumber:K,pageContext:Rt[K]}};g.addPage=function(){return rr.apply(this,arguments),this},g.setPage=function(){return Ra.apply(this,arguments),Re.call(this,qe[K]),this},g.insertPage=function(E){return this.addPage(),this.movePage(K,E),this},g.movePage=function(E,B){var ie,me;if(E>B){ie=qe[E],me=Rt[E];for(var Ee=E;Ee>B;Ee--)qe[Ee]=qe[Ee-1],Rt[Ee]=Rt[Ee-1];qe[B]=ie,Rt[B]=me,this.setPage(B)}else if(E<B){ie=qe[E],me=Rt[E];for(var Ie=E;Ie<B;Ie++)qe[Ie]=qe[Ie+1],Rt[Ie]=Rt[Ie+1];qe[B]=ie,Rt[B]=me,this.setPage(B)}return this},g.deletePage=function(){return io.apply(this,arguments),this},g.__private__.text=g.text=function(E,B,ie,me,Ee){var Ie,ze,lt,dt,Lt,Wt,hn,Yn,hr,yn=(me=me||{}).scope||this;if(typeof E=="number"&&typeof B=="number"&&(typeof ie=="string"||Array.isArray(ie))){var Er=ie;ie=B,B=E,E=Er}if(arguments[3]instanceof pe==0?(lt=arguments[4],dt=arguments[5],On(hn=arguments[3])==="object"&&hn!==null||(typeof lt=="string"&&(dt=lt,lt=null),typeof hn=="string"&&(dt=hn,hn=null),typeof hn=="number"&&(lt=hn,hn=null),me={flags:hn,angle:lt,align:dt})):(T("The transform parameter of text() with a Matrix value"),hr=Ee),isNaN(B)||isNaN(ie)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return yn;var mr,zr="",Zo=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:fa,wi=yn.internal.scaleFactor;function gc(In){return In=In.split("	").join(Array(me.TabLen||9).join(" ")),Rr(In,hn)}function vc(In){for(var jn,or=In.concat(),ir=[],Sr=or.length;Sr--;)typeof(jn=or.shift())=="string"?ir.push(jn):Array.isArray(In)&&(jn.length===1||jn[1]===void 0&&jn[2]===void 0)?ir.push(jn[0]):ir.push([jn[0],jn[1],jn[2]]);return ir}function ts(In,jn){var or;if(typeof In=="string")or=jn(In)[0];else if(Array.isArray(In)){for(var ir,Sr,Mo=In.concat(),ho=[],Os=Mo.length;Os--;)typeof(ir=Mo.shift())=="string"?ho.push(jn(ir)[0]):Array.isArray(ir)&&typeof ir[0]=="string"&&(Sr=jn(ir[0],ir[1],ir[2]),ho.push([Sr[0],Sr[1],Sr[2]]));or=ho}return or}var fo=!1,El=!0;if(typeof E=="string")fo=!0;else if(Array.isArray(E)){var xi=E.concat();ze=[];for(var Ei,Fr=xi.length;Fr--;)(typeof(Ei=xi.shift())!="string"||Array.isArray(Ei)&&typeof Ei[0]!="string")&&(El=!1);fo=El}if(fo===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var ei=$e/yn.internal.scaleFactor,Lo=ei*(Zo-1);switch(me.baseline){case"bottom":ie-=Lo;break;case"top":ie+=ei-Lo;break;case"hanging":ie+=ei-2*Lo;break;case"middle":ie+=ei/2-Lo}if((Wt=me.maxWidth||0)>0&&(typeof E=="string"?E=yn.splitTextToSize(E,Wt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(In,jn){return In.concat(yn.splitTextToSize(jn,Wt))},[]))),Ie={text:E,x:B,y:ie,options:me,mutex:{pdfEscape:Rr,activeFontKey:yt,fonts:mt,activeFontSize:$e}},en.publish("preProcessText",Ie),E=Ie.text,lt=(me=Ie.options).angle,hr instanceof pe==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,me.rotationDirection===0&&(lt=-lt),I===R&&(lt=-lt);var Ts=Math.cos(lt),_l=Math.sin(lt);hr=new pe(Ts,_l,-_l,Ts,0,0)}else lt&&lt instanceof pe&&(hr=lt);I!==R||hr||(hr=Ue),(Lt=me.charSpace||uo)!==void 0&&(zr+=X(j(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=me.horizontalScale)!==void 0&&(zr+=X(100*Yn)+` Tz
`),me.lang;var na=-1,yc=me.renderingMode!==void 0?me.renderingMode:me.stroke,Ms=yn.internal.getCurrentPageInfo().pageContext;switch(yc){case 0:case!1:case"fill":na=0;break;case 1:case!0:case"stroke":na=1;break;case 2:case"fillThenStroke":na=2;break;case 3:case"invisible":na=3;break;case 4:case"fillAndAddForClipping":na=4;break;case 5:case"strokeAndAddPathForClipping":na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":na=6;break;case 7:case"addToPathForClipping":na=7}var bc=Ms.usedRenderingMode!==void 0?Ms.usedRenderingMode:-1;na!==-1?zr+=na+` Tr
`:bc!==-1&&(zr+=`0 Tr
`),na!==-1&&(Ms.usedRenderingMode=na),dt=me.align||"left";var _r,ha=$e*Zo,ti=yn.internal.pageSize.getWidth(),Sl=mt[yt];Lt=me.charSpace||uo,Wt=me.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var ni=[],ns=function(In){return yn.getStringUnitWidth(In,{font:Sl,charSpace:Lt,fontSize:$e,doKerning:!1})*$e/wi};if(Object.prototype.toString.call(E)==="[object Array]"){var ra;ze=vc(E),dt!=="left"&&(_r=ze.map(ns));var aa,_i=0;if(dt==="right"){B-=_r[0],E=[],Fr=ze.length;for(var oa=0;oa<Fr;oa++)oa===0?(aa=Fa(B),ra=Xo(ie)):(aa=j(_i-_r[oa]),ra=-ha),E.push([ze[oa],aa,ra]),_i=_r[oa]}else if(dt==="center"){B-=_r[0]/2,E=[],Fr=ze.length;for(var Si=0;Si<Fr;Si++)Si===0?(aa=Fa(B),ra=Xo(ie)):(aa=j((_i-_r[Si])/2),ra=-ha),E.push([ze[Si],aa,ra]),_i=_r[Si]}else if(dt==="left"){E=[],Fr=ze.length;for(var kl=0;kl<Fr;kl++)E.push(ze[kl])}else if(dt==="justify"&&Sl.encoding==="Identity-H"){E=[],Fr=ze.length,Wt=Wt!==0?Wt:ti;for(var ki=0,Qn=0;Qn<Fr;Qn++)if(ra=Qn===0?Xo(ie):-ha,aa=Qn===0?Fa(B):ki,Qn<Fr-1){var wc=j((Wt-_r[Qn])/(ze[Qn].split(" ").length-1)),ma=ze[Qn].split(" ");E.push([ma[0]+" ",aa,ra]),ki=0;for(var pa=1;pa<ma.length;pa++){var Rs=(ns(ma[pa-1]+" "+ma[pa])-ns(ma[pa]))*wi+wc;pa==ma.length-1?E.push([ma[pa],Rs,0]):E.push([ma[pa]+" ",Rs,0]),ki-=Rs}}else E.push([ze[Qn],aa,ra]);E.push(["",ki,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Fr=ze.length,Wt=Wt!==0?Wt:ti,Qn=0;Qn<Fr;Qn++)ra=Qn===0?Xo(ie):-ha,aa=Qn===0?Fa(B):0,Qn<Fr-1?ni.push(X(j((Wt-_r[Qn])/(ze[Qn].split(" ").length-1)))):ni.push(0),E.push([ze[Qn],aa,ra])}}(typeof me.R2L=="boolean"?me.R2L:Ct)===!0&&(E=ts(E,function(In,jn,or){return[In.split("").reverse().join(""),jn,or]})),Ie={text:E,x:B,y:ie,options:me,mutex:{pdfEscape:Rr,activeFontKey:yt,fonts:mt,activeFontSize:$e}},en.publish("postProcessText",Ie),E=Ie.text,mr=Ie.mutex.isHex||!1;var Ni=mt[yt].encoding;Ni!=="WinAnsiEncoding"&&Ni!=="StandardEncoding"||(E=ts(E,function(In,jn,or){return[gc(In),jn,or]})),ze=vc(E),E=[];for(var Fs,rs,ri,ai=Array.isArray(ze[0])?1:0,Po="",Ds=function(In,jn,or){var ir="";return or instanceof pe?(or=typeof me.angle=="number"?Pe(or,new pe(1,0,0,1,In,jn)):Pe(new pe(1,0,0,1,In,jn),or),I===R&&(or=Pe(new pe(1,0,0,-1,0,0),or)),ir=or.join(" ")+` Tm
`):ir=X(In)+" "+X(jn)+` Td
`,ir},ga=0;ga<ze.length;ga++){switch(Po="",ai){case 1:ri=(mr?"<":"(")+ze[ga][0]+(mr?">":")"),Fs=parseFloat(ze[ga][1]),rs=parseFloat(ze[ga][2]);break;case 0:ri=(mr?"<":"(")+ze[ga]+(mr?">":")"),Fs=Fa(B),rs=Xo(ie)}ni!==void 0&&ni[ga]!==void 0&&(Po=ni[ga]+` Tw
`),ga===0?E.push(Po+Ds(Fs,rs,hr)+ri):ai===0?E.push(Po+ri):ai===1&&E.push(Po+Ds(Fs,rs,hr)+ri)}E=ai===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var To=`BT
/`;return To+=yt+" "+$e+` Tf
`,To+=X($e*Zo)+` TL
`,To+=co+`
`,To+=zr,To+=E,le(To+="ET"),w[yt]=!0,yn};var Xi=g.__private__.clip=g.clip=function(E){return le(E==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Xi("evenodd")},g.__private__.discardPath=g.discardPath=function(){return le("n"),this};var So=g.__private__.isValidStyle=function(E){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(B=!0),B};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(E){return So(E)&&(d=E),this};var ks=g.__private__.getStyle=g.getStyle=function(E){var B=d;switch(E){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=E}return B},dn=g.close=function(){return le("h"),this};g.stroke=function(){return le("S"),this},g.fill=function(E){return Go("f",E),this},g.fillEvenOdd=function(E){return Go("f*",E),this},g.fillStroke=function(E){return Go("B",E),this},g.fillStrokeEvenOdd=function(E){return Go("B*",E),this};var Go=function(E,B){On(B)==="object"?fc(B,E):le(E)},Ns=function(E){E===null||I===R&&E===void 0||(E=ks(E),le(E))};function yl(E,B,ie,me,Ee){var Ie=new Qc(B||this.boundingBox,ie||this.xStep,me||this.yStep,this.gState,Ee||this.matrix);Ie.stream=this.stream;var ze=E+"$$"+this.cloneIndex+++"$$";return Ve(ze,Ie),Ie}var fc=function(E,B){var ie=Gt[E.key],me=St[ie];if(me instanceof Jl)le("q"),le(hc(B)),me.gState&&g.setGState(me.gState),le(E.matrix.toString()+" cm"),le("/"+ie+" sh"),le("Q");else if(me instanceof Qc){var Ee=new pe(1,0,0,-1,0,Yr());E.matrix&&(Ee=Ee.multiply(E.matrix||Ue),ie=yl.call(me,E.key,E.boundingBox,E.xStep,E.yStep,Ee).id),le("q"),le("/Pattern cs"),le("/"+ie+" scn"),me.gState&&g.setGState(me.gState),le(B),le("Q")}},hc=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},As=g.moveTo=function(E,B){return le(X(j(E))+" "+X(D(B))+" m"),this},Ko=g.lineTo=function(E,B){return le(X(j(E))+" "+X(D(B))+" l"),this},lo=g.curveTo=function(E,B,ie,me,Ee,Ie){return le([X(j(E)),X(D(B)),X(j(ie)),X(D(me)),X(j(Ee)),X(D(Ie)),"c"].join(" ")),this};g.__private__.line=g.line=function(E,B,ie,me,Ee){if(isNaN(E)||isNaN(B)||isNaN(ie)||isNaN(me)||!So(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return I===O?this.lines([[ie-E,me-B]],E,B,[1,1],Ee||"S"):this.lines([[ie-E,me-B]],E,B,[1,1]).stroke()},g.__private__.lines=g.lines=function(E,B,ie,me,Ee,Ie){var ze,lt,dt,Lt,Wt,hn,Yn,hr,yn,Er,mr,zr;if(typeof E=="number"&&(zr=ie,ie=B,B=E,E=zr),me=me||[1,1],Ie=Ie||!1,isNaN(B)||isNaN(ie)||!Array.isArray(E)||!Array.isArray(me)||!So(Ee)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(As(B,ie),ze=me[0],lt=me[1],Lt=E.length,Er=B,mr=ie,dt=0;dt<Lt;dt++)(Wt=E[dt]).length===2?(Er=Wt[0]*ze+Er,mr=Wt[1]*lt+mr,Ko(Er,mr)):(hn=Wt[0]*ze+Er,Yn=Wt[1]*lt+mr,hr=Wt[2]*ze+Er,yn=Wt[3]*lt+mr,Er=Wt[4]*ze+Er,mr=Wt[5]*lt+mr,lo(hn,Yn,hr,yn,Er,mr));return Ie&&dn(),Ns(Ee),this},g.path=function(E){for(var B=0;B<E.length;B++){var ie=E[B],me=ie.c;switch(ie.op){case"m":As(me[0],me[1]);break;case"l":Ko(me[0],me[1]);break;case"c":lo.apply(this,me);break;case"h":dn()}}return this},g.__private__.rect=g.rect=function(E,B,ie,me,Ee){if(isNaN(E)||isNaN(B)||isNaN(ie)||isNaN(me)||!So(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return I===O&&(me=-me),le([X(j(E)),X(D(B)),X(j(ie)),X(j(me)),"re"].join(" ")),Ns(Ee),this},g.__private__.triangle=g.triangle=function(E,B,ie,me,Ee,Ie,ze){if(isNaN(E)||isNaN(B)||isNaN(ie)||isNaN(me)||isNaN(Ee)||isNaN(Ie)||!So(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-E,me-B],[Ee-ie,Ie-me],[E-Ee,B-Ie]],E,B,[1,1],ze,!0),this},g.__private__.roundedRect=g.roundedRect=function(E,B,ie,me,Ee,Ie,ze){if(isNaN(E)||isNaN(B)||isNaN(ie)||isNaN(me)||isNaN(Ee)||isNaN(Ie)||!So(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*ie),Ie=Math.min(Ie,.5*me),this.lines([[ie-2*Ee,0],[Ee*lt,0,Ee,Ie-Ie*lt,Ee,Ie],[0,me-2*Ie],[0,Ie*lt,-Ee*lt,Ie,-Ee,Ie],[2*Ee-ie,0],[-Ee*lt,0,-Ee,-Ie*lt,-Ee,-Ie],[0,2*Ie-me],[0,-Ie*lt,Ee*lt,-Ie,Ee,-Ie]],E+Ee,B,[1,1],ze,!0),this},g.__private__.ellipse=g.ellipse=function(E,B,ie,me,Ee){if(isNaN(E)||isNaN(B)||isNaN(ie)||isNaN(me)||!So(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*ie,ze=4/3*(Math.SQRT2-1)*me;return As(E+ie,B),lo(E+ie,B-ze,E+Ie,B-me,E,B-me),lo(E-Ie,B-me,E-ie,B-ze,E-ie,B),lo(E-ie,B+ze,E-Ie,B+me,E,B+me),lo(E+Ie,B+me,E+ie,B+ze,E+ie,B),Ns(Ee),this},g.__private__.circle=g.circle=function(E,B,ie,me){if(isNaN(E)||isNaN(B)||isNaN(ie)||!So(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,B,ie,ie,me)},g.setFont=function(E,B,ie){return ie&&(B=te(B,ie)),yt=Yo(E,B,{disableWarning:!1}),this};var ko=g.__private__.getFont=g.getFont=function(){return mt[Yo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var E,B,ie={};for(E in Bt)if(Bt.hasOwnProperty(E))for(B in ie[E]=[],Bt[E])Bt[E].hasOwnProperty(B)&&ie[E].push(B);return ie},g.addFont=function(E,B,ie,me,Ee){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(ie=te(ie,me)),oo.call(this,E,B,ie,Ee=Ee||"Identity-H")};var fa,Ha=t.lineWidth||.200025,Ft=g.__private__.getLineWidth=g.getLineWidth=function(){return Ha},Ji=g.__private__.setLineWidth=g.setLineWidth=function(E){return Ha=E,le(X(j(E))+" w"),this};g.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(E,B){if(E=E||[],B=B||0,isNaN(B)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ie){return X(j(ie))}).join(" "),B=X(j(B)),le("["+E+"] "+B+" d"),this};var No=g.__private__.getLineHeight=g.getLineHeight=function(){return $e*fa};g.__private__.getLineHeight=g.getLineHeight=function(){return $e*fa};var fu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(fa=E),this},mc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return fa};fu(t.lineHeight);var Fa=g.__private__.getHorizontalCoordinate=function(E){return j(E)},Xo=g.__private__.getVerticalCoordinate=function(E){return I===R?E:Rt[K].mediaBox.topRightY-Rt[K].mediaBox.bottomLeftY-j(E)},pc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(E){return X(Fa(E))},Cs=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(E){return X(Xo(E))},Qi=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return qt(Qi)},g.__private__.setStrokeColor=g.setDrawColor=function(E,B,ie,me){return Qi=Kt({ch1:E,ch2:B,ch3:ie,ch4:me,pdfColorType:"draw",precision:2}),le(Qi),this};var bl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return qt(bl)},g.__private__.setFillColor=g.setFillColor=function(E,B,ie,me){return bl=Kt({ch1:E,ch2:B,ch3:ie,ch4:me,pdfColorType:"fill",precision:2}),le(bl),this};var co=t.textColor||"0 g",Ao=g.__private__.getTextColor=g.getTextColor=function(){return qt(co)};g.__private__.setTextColor=g.setTextColor=function(E,B,ie,me){return co=Kt({ch1:E,ch2:B,ch3:ie,ch4:me,pdfColorType:"text",precision:3}),this};var uo=t.charSpace,Ls=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(uo||0)};g.__private__.setCharSpace=g.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uo=E,this};var wl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(E){var B=g.CapJoinStyles[E];if(B===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=B,le(B+" J"),this};var xl=0;g.__private__.setLineJoin=g.setLineJoin=function(E){var B=g.CapJoinStyles[E];if(B===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xl=B,le(B+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(X(j(E))+" M"),this},g.GState=sh,g.setGState=function(E){(E=typeof E=="string"?Mt[zn[E]]:Jo(null,E)).equals(Ln)||(le("/"+E.id+" gs"),Ln=E)};var Jo=function(E,B){if(!E||!zn[E]){var ie=!1;for(var me in Mt)if(Mt.hasOwnProperty(me)&&Mt[me].equals(B)){ie=!0;break}if(ie)B=Mt[me];else{var Ee="GS"+(Object.keys(Mt).length+1).toString(10);Mt[Ee]=B,B.id=Ee}return E&&(zn[E]=B.id),en.publish("addGState",B),B}};g.addGState=function(E,B){return Jo(E,B),this},g.saveGraphicsState=function(){return le("q"),un.push({key:yt,size:$e,color:co}),this},g.restoreGraphicsState=function(){le("Q");var E=un.pop();return yt=E.key,$e=E.size,co=E.color,Ln=null,this},g.setCurrentTransformationMatrix=function(E){return le(E.toString()+" cm"),this},g.comment=function(E){return le("#"+E),this};var Co=function(E,B){var ie=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ie){isNaN(Ie)||(ie=parseFloat(Ie))}});var me=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Ie){isNaN(Ie)||(me=parseFloat(Ie))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Ie){Ee=Ie.toString()}}),this},Zi=function(E,B,ie,me){Co.call(this,E,B),this.type="rect";var Ee=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(ze){isNaN(ze)||(Ee=parseFloat(ze))}});var Ie=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(ze){isNaN(ze)||(Ie=parseFloat(ze))}}),this},es=function(){this.page=ln,this.currentPage=K,this.pages=qe.slice(0),this.pagesContext=Rt.slice(0),this.x=rt,this.y=En,this.matrix=an,this.width=bi(K),this.height=Yr(K),this.outputDestination=et,this.id="",this.objectNumber=-1};es.prototype.restore=function(){ln=this.page,K=this.currentPage,Rt=this.pagesContext,qe=this.pages,rt=this.x,En=this.y,an=this.matrix,Ps(K,this.width),Da(K,this.height),et=this.outputDestination};var $a=function(E,B,ie,me,Ee){he.push(new es),ln=K=0,qe=[],rt=E,En=B,an=Ee,Qt([ie,me])};for(var Qo in g.beginFormObject=function(E,B,ie,me,Ee){return $a(E,B,ie,me,Ee),this},g.endFormObject=function(E){return function(B){if(Ua[B])he.pop().restore();else{var ie=new es,me="Xo"+(Object.keys(wr).length+1).toString(10);ie.id=me,Ua[B]=me,wr[me]=ie,en.publish("addFormObject",ie),he.pop().restore()}}(E),this},g.doFormObject=function(E,B){var ie=wr[Ua[E]];return le("q"),le(B.toString()+" cm"),le("/"+ie.id+" Do"),le("Q"),this},g.getFormObject=function(E){var B=wr[Ua[E]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},g.save=function(E,B){return E=E||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Gl(so(Wa()),E),typeof Gl.unload=="function"&&Ut.setTimeout&&setTimeout(Gl.unload,911),this):new Promise(function(ie,me){try{var Ee=Gl(so(Wa()),E);typeof Gl.unload=="function"&&Ut.setTimeout&&setTimeout(Gl.unload,911),ie(Ee)}catch(Ie){me(Ie.message)}})},_t.API)_t.API.hasOwnProperty(Qo)&&(Qo==="events"&&_t.API.events.length?function(E,B){var ie,me,Ee;for(Ee=B.length-1;Ee!==-1;Ee--)ie=B[Ee][0],me=B[Ee][1],E.subscribe.apply(E,[ie].concat(typeof me=="function"?[me]:me))}(en,_t.API.events):g[Qo]=_t.API[Qo]);var bi=g.getPageWidth=function(E){return(Rt[E=E||K].mediaBox.topRightX-Rt[E].mediaBox.bottomLeftX)/At},Ps=g.setPageWidth=function(E,B){Rt[E].mediaBox.topRightX=B*At+Rt[E].mediaBox.bottomLeftX},Yr=g.getPageHeight=function(E){return(Rt[E=E||K].mediaBox.topRightY-Rt[E].mediaBox.bottomLeftY)/At},Da=g.setPageHeight=function(E,B){Rt[E].mediaBox.topRightY=B*At+Rt[E].mediaBox.bottomLeftY};return g.internal={pdfEscape:Rr,getStyle:ks,getFont:ko,getFontSize:Qe,getCharSpace:Ls,getTextColor:Ao,getLineHeight:No,getLineHeightFactor:mc,getLineWidth:Ft,write:Xt,getHorizontalCoordinate:Fa,getVerticalCoordinate:Xo,getCoordinateString:pc,getVerticalCoordinateString:Cs,collections:{},newObject:Ke,newAdditionalObject:xt,newObjectDeferred:Xe,newObjectDeferredBegin:tt,getFilters:_n,putStream:Sn,events:en,scaleFactor:At,pageSize:{getWidth:function(){return bi(K)},setWidth:function(E){Ps(K,E)},getHeight:function(){return Yr(K)},setHeight:function(E){Da(K,E)}},encryptionOptions:h,encryption:ar,getEncryptor:function(E){return h!==null?ar.encryptor(E,0):function(B){return B}},output:da,getNumberOfPages:cn,pages:qe,out:le,f2:F,f3:M,getPageInfo:Ki,getPageInfoByObjId:dc,getCurrentPageInfo:vl,getPDFVersion:_,Point:Co,Rectangle:Zi,Matrix:pe,hasHotfix:Gi},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return bi(K)},set:function(E){Ps(K,E)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Yr(K)},set:function(E){Da(K,E)},enumerable:!0,configurable:!0}),(function(E){for(var B=0,ie=kt.length;B<ie;B++){var me=oo.call(this,E[B][0],E[B][1],E[B][2],kt[B][3],!0);y===!1&&(w[me]=!0);var Ee=E[B][0].split("-");qa({id:me,fontName:Ee[0],fontStyle:Ee[1]||""})}en.publish("addFonts",{fonts:mt,dictionary:Bt})}).call(g,kt),yt="F1",rr(a,n),en.publish("initialized"),g}Xc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Xc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Xc.prototype.processOwnerPassword=function(t,e){return Ep(xp(e).substr(0,5),t)},Xc.prototype.encryptor=function(t,e){var n=xp(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Ep(n,r)}},sh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||On(t)!==On(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},_t.API={events:[]},_t.version="3.0.2";var br=_t.API,tg=1,cc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(t){return t.toFixed(2)},nl=function(t){return t.toFixed(5)};br.__acroform__={};var ao=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Y2=function(t){return t*tg},Oi=function(t){var e=new Fy,n=gt.internal.getHeight(t)||0,r=gt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vt(r)),Number(Vt(n))],e},N8=br.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},A8=br.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},C8=br.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Cr=br.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return C8(t,e-1)},Lr=br.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return N8(t,e-1)},Pr=br.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return A8(t,e-1)},L8=br.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=t[0],i=t[1],l=t[2],c=t[3],u={};return u.lowerLeft_X=n(a)||0,u.lowerLeft_Y=r(i+c)||0,u.upperRight_X=n(a+l)||0,u.upperRight_Y=r(i)||0,[Number(Vt(u.lowerLeft_X)),Number(Vt(u.lowerLeft_Y)),Number(Vt(u.upperRight_X)),Number(Vt(u.upperRight_Y))]},P8=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=_p(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Vt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Oi(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},_p=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(F){return F.split(`
`)}):a.map(function(F){return[F]});var i=n,l=gt.internal.getHeight(t)||0;l=l<0?-l:l;var c=gt.internal.getWidth(t)||0;c=c<0?-c:c;var u=function(F,M,j){if(F+1<a.length){var D=M+" "+a[F+1][0];return Cf(D,t,j).width<=c-4}return!1};i++;e:for(;i>0;){e="",i--;var d,h,y=Cf("3",t,i).height,w=t.multiline?l-i:(l-y)/2,g=w+=2,N=0,_=0,S=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Cf(e,t,i=12).width+", FieldWidth:"+c+`
`;break}for(var A="",O=0,R=0;R<a.length;R++)if(a.hasOwnProperty(R)){var I=!1;if(a[R].length!==1&&S!==a[R].length-1){if((y+2)*(O+2)+2>l)continue e;A+=a[R][S],I=!0,_=R,R--}else{A=(A+=a[R][S]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var ee=parseInt(R),U=u(ee,A,i),te=R>=a.length-1;if(U&&!te){A+=" ",S=0;continue}if(U||te){if(te)_=ee;else if(t.multiline&&(y+2)*(O+2)+2>l)continue e}else{if(!t.multiline||(y+2)*(O+2)+2>l)continue e;_=ee}}for(var X="",T=N;T<=_;T++){var Y=a[T];if(t.multiline){if(T===_){X+=Y[S]+" ",S=(S+1)%Y.length;continue}if(T===N){X+=Y[Y.length-1]+" ";continue}}X+=Y[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,h=Cf(X,t,i).width,t.textAlign){case"right":d=c-h-2;break;case"center":d=(c-h)/2;break;default:d=2}e+=Vt(d)+" "+Vt(g)+` Td
`,e+="("+cc(X)+`) Tj
`,e+=-Vt(d)+` 0 Td
`,g=-(i+2),h=0,N=I?_:_+1,O++,A=""}break}return r.text=e,r.fontSize=i,r},Cf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},T8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},M8=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},R8=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(T8)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Dy,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&M8(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,a){var i=!r;for(var l in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],u=[],d=c.Rect;if(c.Rect&&(c.Rect=L8(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=gt.createDefaultAppearanceStream(c),On(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var h=P8(c);u.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(c.appearanceStreamContent){var y="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var g=c.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var N=g[l];typeof N=="function"&&(N=N.call(a,c)),y+="/"+l+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=g)=="function"&&(N=N.call(a,c)),y+="/"+l+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:c.objId}),a.internal.out("endobj")}i&&function(_,S){for(var A in _)if(_.hasOwnProperty(A)){var O=A,R=_[A];S.internal.newObjectDeferredBegin(R.objId,!0),On(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete _[O]}}(a.internal.acroformPlugin.xForms,a)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ry=br.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(l){return l};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),On(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),a+="("+cc(r(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vm=function(t,e,n){var r=function(a){return a};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+cc(r(t))+")"},Ui=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ui.prototype.toString=function(){return this.objId+" 0 R"},Ui.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ui.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],a=this[r];a&&(Array.isArray(a)?t.push({key:r,value:Ry(a,this.objId,this.scope)}):a instanceof Ui?(a.scope=this.scope,t.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:r,value:a}))}return t};var Fy=function(){Ui.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ao(Fy,Ui);var Dy=function(){Ui.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+cc(n(t))+")"}},set:function(n){t=n}})};ao(Dy,Ui);var vi=function t(){Ui.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Cr(e,3)},set:function(A){A?this.F=Lr(e,3):this.F=Pr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(A){r=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof lh)return;i="FieldObject"+t.FieldNum++}var A=function(O){return O};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+cc(A(i))+")"},set:function(A){i=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(A){i=A}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/tg:d},set:function(A){d=A}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(A){h=A}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof lh||this instanceof nc))return Vm(y,this.objId,this.scope)},set:function(A){A=A.toString(),y=A}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ea==0?Vm(w,this.objId,this.scope):w},set:function(A){A=A.toString(),w=this instanceof ea==0?A.substr(0,1)==="("?Vc(A.substr(1,A.length-2)):Vc(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea==1?Vc(w.substr(1,w.length-1)):w},set:function(A){A=A.toString(),w=this instanceof ea==1?"/"+A:A}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ea==0?Vm(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof ea==0?A.substr(0,1)==="("?Vc(A.substr(1,A.length-2)):Vc(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea==1?Vc(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof ea==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(A){A=!!A,_=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(A){N=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,1)},set:function(A){A?this.Ff=Lr(this.Ff,1):this.Ff=Pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,2)},set:function(A){A?this.Ff=Lr(this.Ff,2):this.Ff=Pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,3)},set:function(A){A?this.Ff=Lr(this.Ff,3):this.Ff=Pr(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');S=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(S){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};ao(vi,Ui);var nu=function(){vi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ry(e,this.objId,this.scope)},set:function(n){var r,a;a=[],typeof(r=n)=="string"&&(a=function(i,l,c){c||(c=1);for(var u,d=[];u=l.exec(i);)d.push(u[c]);return d}(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,18)},set:function(n){n?this.Ff=Lr(this.Ff,18):this.Ff=Pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Lr(this.Ff,19):this.Ff=Pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,20)},set:function(n){n?(this.Ff=Lr(this.Ff,20),e.sort()):this.Ff=Pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,22)},set:function(n){n?this.Ff=Lr(this.Ff,22):this.Ff=Pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(n){n?this.Ff=Lr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,27)},set:function(n){n?this.Ff=Lr(this.Ff,27):this.Ff=Pr(this.Ff,27)}}),this.hasAppearanceStream=!1};ao(nu,vi);var ru=function(){nu.call(this),this.fontName="helvetica",this.combo=!1};ao(ru,nu);var au=function(){ru.call(this),this.combo=!0};ao(au,ru);var Uf=function(){au.call(this),this.edit=!0};ao(Uf,au);var ea=function(){vi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,15)},set:function(n){n?this.Ff=Lr(this.Ff,15):this.Ff=Pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,16)},set:function(n){n?this.Ff=Lr(this.Ff,16):this.Ff=Pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,17)},set:function(n){n?this.Ff=Lr(this.Ff,17):this.Ff=Pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(n){n?this.Ff=Lr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+cc(n(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){On(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ao(ea,vi);var qf=function(){ea.call(this),this.pushButton=!0};ao(qf,ea);var ou=function(){ea.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ao(ou,ea);var lh=function(){var t,e;vi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),r)l.push("/"+i+" ("+cc(a(r[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){On(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ao(lh,vi),ou.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ou.prototype.createOption=function(t){var e=new lh;return e.Parent=this,e.optionName=t,this.Kids.push(e),F8.call(this.scope,e),e};var Wf=function(){ea.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};ao(Wf,ea);var nc=function(){vi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,13)},set:function(e){e?this.Ff=Lr(this.Ff,13):this.Ff=Pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,21)},set:function(e){e?this.Ff=Lr(this.Ff,21):this.Ff=Pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(e){e?this.Ff=Lr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,24)},set:function(e){e?this.Ff=Lr(this.Ff,24):this.Ff=Pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,25)},set:function(e){e?this.Ff=Lr(this.Ff,25):this.Ff=Pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(e){e?this.Ff=Lr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ao(nc,vi);var Hf=function(){nc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,14)},set:function(t){t?this.Ff=Lr(this.Ff,14):this.Ff=Pr(this.Ff,14)}}),this.password=!0};ao(Hf,nc);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Oi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=_p(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Vt(gt.internal.getWidth(t))+" "+Vt(gt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Vt(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Oi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),a=[],i=gt.internal.getHeight(t),l=gt.internal.getWidth(t),c=_p(t,t.caption);return a.push("1 g"),a.push("0 0 "+Vt(l)+" "+Vt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vt(l-1)+" "+Vt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Vt(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Oi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(gt.internal.getWidth(t))+" "+Vt(gt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Circle.YesNormal,e.D[t]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Oi(t);e.scope=t.scope;var n=[],r=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=gt.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+nl(gt.internal.getWidth(t)/2)+" "+nl(gt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Oi(t);e.scope=t.scope;var n=[],r=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*gt.internal.Bezier_C).toFixed(5)),l=Number((r*gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+nl(gt.internal.getWidth(t)/2)+" "+nl(gt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+nl(gt.internal.getWidth(t)/2)+" "+nl(gt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Oi(t);e.scope=t.scope;var n=[],r=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+nl(gt.internal.getWidth(t)/2)+" "+nl(gt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Cross.YesNormal,e.D[t]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Oi(t);e.scope=t.scope;var n=[],r=gt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Vt(gt.internal.getWidth(t)-2)+" "+Vt(gt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(r.x1.x)+" "+Vt(r.x1.y)+" m"),n.push(Vt(r.x2.x)+" "+Vt(r.x2.y)+" l"),n.push(Vt(r.x4.x)+" "+Vt(r.x4.y)+" m"),n.push(Vt(r.x3.x)+" "+Vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Oi(t);e.scope=t.scope;var n=gt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(gt.internal.getWidth(t))+" "+Vt(gt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Vt(gt.internal.getWidth(t)-2)+" "+Vt(gt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),r.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),r.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),r.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Oi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(gt.internal.getWidth(t))+" "+Vt(gt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};gt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=gt.internal.getWidth(t),n=gt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},gt.internal.getWidth=function(t){var e=0;return On(t)==="object"&&(e=Y2(t.Rect[2])),e},gt.internal.getHeight=function(t){var e=0;return On(t)==="object"&&(e=Y2(t.Rect[3])),e};var F8=br.addField=function(t){if(R8(this,t),!(t instanceof vi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};br.AcroFormChoiceField=nu,br.AcroFormListBox=ru,br.AcroFormComboBox=au,br.AcroFormEditBox=Uf,br.AcroFormButton=ea,br.AcroFormPushButton=qf,br.AcroFormRadioButton=ou,br.AcroFormCheckBox=Wf,br.AcroFormTextField=nc,br.AcroFormPasswordField=Hf,br.AcroFormAppearance=gt,br.AcroForm={ChoiceField:nu,ListBox:ru,ComboBox:au,EditBox:Uf,Button:ea,PushButton:qf,RadioButton:ou,CheckBox:Wf,TextField:nc,PasswordField:Hf,Appearance:gt},_t.AcroForm={ChoiceField:nu,ListBox:ru,ComboBox:au,EditBox:Uf,Button:ea,PushButton:qf,RadioButton:ou,CheckBox:Wf,TextField:nc,PasswordField:Hf,Appearance:gt};_t.AcroForm;function Oy(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(F,M){var j,D,$,ne,ce,re=n;if((M=M||n)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(U(F))for(ce in r)for($=r[ce],j=0;j<$.length;j+=1){for(ne=!0,D=0;D<$[j].length;D+=1)if($[j][D]!==void 0&&$[j][D]!==F[D]){ne=!1;break}if(ne===!0){re=ce;break}}else for(ce in r)for($=r[ce],j=0;j<$.length;j+=1){for(ne=!0,D=0;D<$[j].length;D+=1)if($[j][D]!==void 0&&$[j][D]!==F.charCodeAt(D)){ne=!1;break}if(ne===!0){re=ce;break}}return re===n&&M!==n&&(re=M),re},i=function F(M){for(var j=this.internal.write,D=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:M.width}),ne.push({key:"Height",value:M.height}),M.colorSpace===A.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===A.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var ce="",re=0,de=M.transparency.length;re<de;re++)ce+=M.transparency[re]+" "+M.transparency[re]+" ";ne.push({key:"Mask",value:"["+ce+"]"})}M.sMask!==void 0&&ne.push({key:"SMask",value:M.objectId+1+" 0 R"});var ye=M.filter!==void 0?["/"+M.filter]:void 0;if(D({data:M.data,additionalKeyValues:ne,alreadyAppliedFilters:ye,objectId:M.objectId}),j("endobj"),"sMask"in M&&M.sMask!==void 0){var G=(M.predictor!=null?"/Predictor "+M.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+M.width,P={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:G,data:M.sMask};"filter"in M&&(P.filter=M.filter),F.call(this,P)}if(M.colorSpace===A.INDEXED){var K=this.internal.newObject();D({data:X(new Uint8Array(M.palette)),objectId:K}),j("endobj")}},l=function(){var F=this.internal.collections[e+"images"];for(var M in F)i.call(this,F[M])},c=function(){var F,M=this.internal.collections[e+"images"],j=this.internal.write;for(var D in M)j("/I"+(F=M[D]).index,F.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var F=this.internal.collections[e+"images"];return u.call(this),F},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(F){return typeof t["process"+F.toUpperCase()]=="function"},w=function(F){return On(F)==="object"&&F.nodeType===1},g=function(F,M){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var j=""+F.getAttribute("src");if(j.indexOf("data:image/")===0)return zf(unescape(j).split("base64,").pop());var D=t.loadFile(j,!0);if(D!==void 0)return D}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var $;switch(M){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;default:$="image/jpeg"}return zf(F.toDataURL($,1).split("base64,").pop())}},N=function(F){var M=this.internal.collections[e+"images"];if(M){for(var j in M)if(F===M[j].alias)return M[j]}},_=function(F,M,j){return F||M||(F=-96,M=-96),F<0&&(F=-1*j.width*72/F/this.internal.scaleFactor),M<0&&(M=-1*j.height*72/M/this.internal.scaleFactor),F===0&&(F=M*j.width/j.height),M===0&&(M=F*j.height/j.width),[F,M]},S=function(F,M,j,D,$,ne){var ce=_.call(this,j,D,$),re=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,ye=d.call(this);if(j=ce[0],D=ce[1],ye[$.index]=$,ne){ne*=Math.PI/180;var G=Math.cos(ne),P=Math.sin(ne),K=function(se){return se.toFixed(4)},Z=[K(G),K(P),K(-1*P),K(G),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,re(F),de(M+D),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([re(j),"0","0",re(D),"0","0","cm"].join(" "))):this.internal.write([re(j),"0","0",re(D),re(F),de(M+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(F){var M,j,D=0;if(typeof F=="string")for(j=F.length,M=0;M<j;M++)D=(D<<5)-D+F.charCodeAt(M),D|=0;else if(U(F))for(j=F.byteLength/2,M=0;M<j;M++)D=(D<<5)-D+F[M],D|=0;return D},I=t.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var M=!0;return F.length===0&&(M=!1),F.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(M=!1),M},ee=t.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var M=F.indexOf(",");return M<0?null:F.substring(0,M).trim().endsWith("base64")?F.substring(M+1):null};t.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var U=t.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},te=t.__addimage__.binaryStringToUint8Array=function(F){for(var M=F.length,j=new Uint8Array(M),D=0;D<M;D++)j[D]=F.charCodeAt(D);return j},X=t.__addimage__.arrayBufferToBinaryString=function(F){for(var M="",j=U(F)?F:new Uint8Array(F),D=0;D<j.length;D+=8192)M+=String.fromCharCode.apply(null,j.subarray(D,D+8192));return M};t.addImage=function(){var F,M,j,D,$,ne,ce,re,de;if(typeof arguments[1]=="number"?(M=n,j=arguments[1],D=arguments[2],$=arguments[3],ne=arguments[4],ce=arguments[5],re=arguments[6],de=arguments[7]):(M=arguments[1],j=arguments[2],D=arguments[3],$=arguments[4],ne=arguments[5],ce=arguments[6],re=arguments[7],de=arguments[8]),On(F=arguments[0])==="object"&&!w(F)&&"imageData"in F){var ye=F;F=ye.imageData,M=ye.format||M||n,j=ye.x||j||0,D=ye.y||D||0,$=ye.w||ye.width||$,ne=ye.h||ye.height||ne,ce=ye.alias||ce,re=ye.compression||re,de=ye.rotation||ye.angle||de}var G=this.internal.getFilters();if(re===void 0&&G.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(j)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=T.call(this,F,M,ce,re);return S.call(this,j,D,$,ne,P,de),this};var T=function(F,M,j,D){var $,ne,ce;if(typeof F=="string"&&a(F)===n){F=unescape(F);var re=Y(F,!1);(re!==""||(re=t.loadFile(F,!0))!==void 0)&&(F=re)}if(w(F)&&(F=g(F,M)),M=a(F,M),!y(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ce=j)==null||ce.length===0)&&(j=function(de){return typeof de=="string"||U(de)?R(de):U(de.data)?R(de.data):null}(F)),($=N.call(this,j))||(F instanceof Uint8Array||M==="RGBA"||(ne=F,F=te(F)),$=this["process"+M.toUpperCase()](F,h.call(this),j,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:O.NONE}(D),ne)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},Y=t.__addimage__.convertBase64ToBinaryString=function(F,M){M=typeof M!="boolean"||M;var j,D="";if(typeof F=="string"){var $;j=($=ee(F))!==null&&$!==void 0?$:F;try{D=zf(j)}catch(ne){if(M)throw I(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};t.getImageProperties=function(F){var M,j,D="";if(w(F)&&(F=g(F)),typeof F=="string"&&a(F)===n&&((D=Y(F,!1))===""&&(D=t.loadFile(F)||""),F=D),j=a(F),!y(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(F instanceof Uint8Array||(F=te(F)),!(M=this["process"+j.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=j,M}})(_t.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};_t.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,a,i,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,h=!1,y=0;y<d.length&&!h;y++)switch((r=d[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var g=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(_.objId),O=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+g(A(r.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+g(A(O))+") >>",_.content=i;var R=_.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(_.objId,"0 R",S.objId,"0 R");break;case"freetext":a="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var I=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(N(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var U=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,a,i,l){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:d(r),w:u(n+a),h:d(r+i)},options:l,type:"link"})},t.textWithLink=function(n,r,a,i){var l,c,u=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var h=this.splitTextToSize(n,c).length;l=Math.ceil(d*h)}else c=u,l=d;return this.text(n,r,a,i),a+=.2*d,i.align==="center"&&(r-=u/2),i.align==="right"&&(r-=u),this.link(r,a-d,c,l,i),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(_t.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},c=t.__arabicParser__.isArabicEndLetter=function(_){return l(_)&&i(_)&&e[_.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(_){return l(_)&&a.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return l(_)&&i(_)&&e[_.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return l(_)&&i(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return l(_)&&i(_)&&e[_.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return l(_)&&i(_)&&e[_.charCodeAt(0)].length==4},y=t.__arabicParser__.resolveLigatures=function(_){var S=0,A=n,O="",R=0;for(S=0;S<_.length;S+=1)A[_.charCodeAt(S)]!==void 0?(R++,typeof(A=A[_.charCodeAt(S)])=="number"&&(O+=String.fromCharCode(A),A=n,R=0),S===_.length-1&&(A=n,O+=_.charAt(S-(R-1)),S-=R-1,R=0)):(A=n,O+=_.charAt(S-R),S-=R,R=0);return O};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(_,S,A){return l(_)?i(_)===!1?-1:!d(_)||!l(S)&&!l(A)||!l(A)&&c(S)||c(_)&&!l(S)||c(_)&&u(S)||c(_)&&c(S)?0:h(_)&&l(S)&&!c(S)&&l(A)&&d(A)?3:c(_)||!l(A)?1:2:-1},g=function(_){var S=0,A=0,O=0,R="",I="",ee="",U=(_=_||"").split("\\s+"),te=[];for(S=0;S<U.length;S+=1){for(te.push(""),A=0;A<U[S].length;A+=1)R=U[S][A],I=U[S][A-1],ee=U[S][A+1],l(R)?(O=w(R,I,ee),te[S]+=O!==-1?String.fromCharCode(e[R.charCodeAt(0)][O]):R):te[S]+=R;te[S]=y(te[S])}return te.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var _,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(S)){var O=0;for(A=[],O=0;O<S.length;O+=1)Array.isArray(S[O])?A.push([g(S[O][0]),S[O][1],S[O][2]]):A.push([g(S[O])]);_=A}else _=g(S);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",N])}(_t.API),_t.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var a;if((n=n||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_t.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(_){w=_}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(_){N=_}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,g=0,N=0,_=0,S=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var A=d.maxWidth;A>0?typeof u=="string"?u=this.splitTextToSize(u,A):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(R,I){return R.concat(S.splitTextToSize(I,A))},[])):u=Array.isArray(u)?u:[u];for(var O=0;O<u.length;O++)g<(_=this.getStringUnitWidth(u[O],{font:y})*h)&&(g=_);return g!==0&&(N=u.length),{w:g/=w,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,g&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};t.table=function(u,d,h,y,w){if(r.call(this),!h)throw new Error("No data for PDF table.");var g,N,_,S,A=[],O=[],R=[],I={},ee={},U=[],te=[],X=(w=w||{}).autoSize||!1,T=w.printHeaders!==!1,Y=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,F=w.margins||Object.assign({width:this.getPageWidth()},e),M=typeof w.padding=="number"?w.padding:3,j=w.headerBackgroundColor||"#c8c8c8",D=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=D,this.setFontSize(Y),y==null)O=A=Object.keys(h[0]),R=A.map(function(){return"left"});else if(Array.isArray(y)&&On(y[0])==="object")for(A=y.map(function(ye){return ye.name}),O=y.map(function(ye){return ye.prompt||ye.name||""}),R=y.map(function(ye){return ye.align||"left"}),g=0;g<y.length;g+=1)ee[y[g].name]=.7499990551181103*y[g].width;else Array.isArray(y)&&typeof y[0]=="string"&&(O=A=y,R=A.map(function(){return"left"}));if(X||Array.isArray(y)&&typeof y[0]=="string")for(g=0;g<A.length;g+=1){for(I[S=A[g]]=h.map(function(ye){return ye[S]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(O[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=I[S],this.setFont(void 0,"normal"),_=0;_<N.length;_+=1)U.push(this.getTextDimensions(N[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[S]=Math.max.apply(null,U)+M+M,U=[]}if(T){var $={};for(g=0;g<A.length;g+=1)$[A[g]]={},$[A[g]].text=O[g],$[A[g]].align=R[g];var ne=c.call(this,$,ee);te=A.map(function(ye){return new i(u,d,ee[ye],ne,$[ye].text,void 0,$[ye].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var ce=y.reduce(function(ye,G){return ye[G.name]=G.align,ye},{});for(g=0;g<h.length;g+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:g,data:h[g]},this);var re=c.call(this,h[g],ee);for(_=0;_<A.length;_+=1){var de=h[g][A[_]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:g,col:_,data:de},this),l.call(this,new i(u,d,ee[A[_]],re,de,g+2,ce[A[_]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var h=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(g){var N=u[g];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*y/w+h+h},this).reduce(function(g,N){return Math.max(g,N)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,w.push(h)),h.lineNumber=u;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(_t.API);var Iy={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jy=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sp=Oy(jy),By=[100,200,300,400,500,600,700,800,900],D8=Oy(By);function Ym(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return Iy[i=i||"normal"]?i:"normal"}(t.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),a=function(i){return typeof Sp[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,n,r].join(" ")}}}function G2(t,e,n,r){var a;for(a=n;a>=0&&a<e.length;a+=r)if(t[e[a]])return t[e[a]];for(a=n;a>=0&&a<e.length;a-=r)if(t[e[a]])return t[e[a]]}var O8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},K2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function J2(t){return t.trimLeft()}function I8(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function j8(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Lf,Q2,Z2,Yc,Pf,e5,t5,n5,Gm=["times"];function r5(t,e,n,r){var a=4,i=o5;switch(r){case _t.API.image_compression.FAST:a=1,i=a5;break;case _t.API.image_compression.MEDIUM:a=6,i=i5;break;case _t.API.image_compression.SLOW:a=9,i=s5}t=function(c,u,d,h){for(var y,w=c.length/u,g=new Uint8Array(c.length+w),N=[B8,a5,o5,i5,s5],_=0;_<w;_+=1){var S=_*u,A=c.subarray(S,S+u);if(h)g.set(h(A,d,y),S+_);else{for(var O=N.length,R=[],I=0;I<O;I+=1)R[I]=N[I](A,d,y);var ee=U8(R.concat());g.set(R[ee],S+_)}y=A}return g}(t,e,n,i);var l=vp(t,{level:a});return _t.API.__addimage__.arrayBufferToBinaryString(l)}function B8(t){var e=Array.apply([],t);return e.unshift(0),e}function a5(t,e){var n=t.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var i=t[a-e]||0;r[a+1]=t[a]-i+256&255}return r}function o5(t,e,n){var r=t.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var l=n&&n[i]||0;a[i+1]=t[i]-l+256&255}return a}function i5(t,e,n){var r=t.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var l=t[i-e]||0,c=n&&n[i]||0;a[i+1]=t[i]+256-(l+c>>>1)&255}return a}function s5(t,e,n){var r=t.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var l=z8(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);a[i+1]=t[i]-l+256&255}return a}function z8(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),a=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=a&&r<=i?t:a<=i?e:n}function U8(t){var e=t.map(function(n){return n.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Km(t,e,n){var r=e*n,a=Math.floor(r/8),i=16-(r-8*a+n),l=(1<<n)-1;return zy(t,a)>>i&l}function l5(t,e,n,r){var a=n*r,i=Math.floor(a/8),l=16-(a-8*i+r),c=(1<<r)-1,u=(e&c)<<l;(function(d,h,y){if(h+1<d.byteLength)d.setUint16(h,y,!1);else{var w=y>>8&255;d.setUint8(h,w)}})(t,i,zy(t,i)&~(c<<l)&65535|u)}function zy(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function q8(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,l=1<<1+(7&a);t[e++],t[e++];var c=null,u=null;i&&(c=e,u=l,e+=3*l);var d=!0,h=[],y=0,w=null,g=0,N=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];y=t[e++]|t[e++]<<8,w=t[e++],1&_||(w=null),g=_>>2&7,e++;break;case 254:for(;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,I=t[e++],ee=I>>6&1,U=1<<1+(7&I),te=c,X=u,T=!1;I>>7&&(T=!0,te=e,X=U,e+=3*U);var Y=e;for(e++;;){var F;if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}h.push({x:S,y:A,width:O,height:R,has_local_palette:T,palette_offset:te,palette_size:X,data_offset:Y,data_length:e-Y,transparent_index:w,interlaced:!!ee,delay:y,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(M){if(M<0||M>=h.length)throw new Error("Frame index out of range.");return h[M]},this.decodeAndBlitFrameBGRA=function(M,j){var D=this.frameInfo(M),$=D.width*D.height,ne=new Uint8Array($);c5(t,D.data_offset,ne,$);var ce=D.palette_offset,re=D.transparent_index;re===null&&(re=256);var de=D.width,ye=n-de,G=de,P=4*(D.y*n+D.x),K=4*((D.y+D.height)*n+D.x),Z=P,se=4*ye;D.interlaced===!0&&(se+=4*n*7);for(var fe=8,xe=0,Ce=ne.length;xe<Ce;++xe){var Se=ne[xe];if(G===0&&(G=de,(Z+=se)>=K&&(se=4*ye+4*n*(fe-1),Z=P+(de+ye)*(fe<<1),fe>>=1)),Se===re)Z+=4;else{var Me=t[ce+3*Se],qe=t[ce+3*Se+1],Ze=t[ce+3*Se+2];j[Z++]=Ze,j[Z++]=qe,j[Z++]=Me,j[Z++]=255}--G}},this.decodeAndBlitFrameRGBA=function(M,j){var D=this.frameInfo(M),$=D.width*D.height,ne=new Uint8Array($);c5(t,D.data_offset,ne,$);var ce=D.palette_offset,re=D.transparent_index;re===null&&(re=256);var de=D.width,ye=n-de,G=de,P=4*(D.y*n+D.x),K=4*((D.y+D.height)*n+D.x),Z=P,se=4*ye;D.interlaced===!0&&(se+=4*n*7);for(var fe=8,xe=0,Ce=ne.length;xe<Ce;++xe){var Se=ne[xe];if(G===0&&(G=de,(Z+=se)>=K&&(se=4*ye+4*n*(fe-1),Z=P+(de+ye)*(fe<<1),fe>>=1)),Se===re)Z+=4;else{var Me=t[ce+3*Se],qe=t[ce+3*Se+1],Ze=t[ce+3*Se+2];j[Z++]=Me,j[Z++]=qe,j[Z++]=Ze,j[Z++]=255}--G}}}function c5(t,e,n,r){for(var a=t[e++],i=1<<a,l=i+1,c=l+1,u=a+1,d=(1<<u)-1,h=0,y=0,w=0,g=t[e++],N=new Int32Array(4096),_=null;;){for(;h<16&&g!==0;)y|=t[e++]<<h,h+=8,g===1?g=t[e++]:--g;if(h<u)break;var S=y&d;if(y>>=u,h-=u,S!==i){if(S===l)break;for(var A=S<c?S:_,O=0,R=A;R>i;)R=N[R]>>8,++O;var I=R;if(w+O+(A!==S?1:0)>r)return void qn.log("Warning, gif stream longer than expected.");n[w++]=I;var ee=w+=O;for(A!==S&&(n[w++]=I),R=A;O--;)R=N[R],n[--ee]=255&R,R>>=8;_!==null&&c<4096&&(N[c++]=_<<8|I,c>=d+1&&u<12&&(++u,d=d<<1|1)),_=S}else c=l+1,d=(1<<(u=a+1))-1,_=null}return w!==r&&qn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Xm(t){var e,n,r,a,i,l=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(64),y=new Array(65535),w=new Array(65535),g=new Array(64),N=new Array(64),_=[],S=0,A=7,O=new Array(64),R=new Array(64),I=new Array(64),ee=new Array(256),U=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(P,K){for(var Z=0,se=0,fe=new Array,xe=1;xe<=16;xe++){for(var Ce=1;Ce<=P[xe];Ce++)fe[K[se]]=[],fe[K[se]][0]=Z,fe[K[se]][1]=xe,se++,Z++;Z*=2}return fe}function ce(P){for(var K=P[0],Z=P[1]-1;Z>=0;)K&1<<Z&&(S|=1<<A),Z--,--A<0&&(S==255?(re(255),re(0)):re(S),A=7,S=0)}function re(P){_.push(P)}function de(P){re(P>>8&255),re(255&P)}function ye(P,K,Z,se,fe){for(var xe,Ce=fe[0],Se=fe[240],Me=function($e,ht){var Qe,Ct,vt,rn,Dt,Nt,Yt,Ot,yt,At,rt=0;for(yt=0;yt<8;++yt){Qe=$e[rt],Ct=$e[rt+1],vt=$e[rt+2],rn=$e[rt+3],Dt=$e[rt+4],Nt=$e[rt+5],Yt=$e[rt+6];var En=Qe+(Ot=$e[rt+7]),an=Qe-Ot,mt=Ct+Yt,Bt=Ct-Yt,un=vt+Nt,St=vt-Nt,Gt=rn+Dt,Mt=rn-Dt,zn=En+Gt,Ln=En-Gt,ln=mt+un,Rt=mt-un;$e[rt]=zn+ln,$e[rt+4]=zn-ln;var en=.707106781*(Rt+Ln);$e[rt+2]=Ln+en,$e[rt+6]=Ln-en;var Ta=.382683433*((zn=Mt+St)-(Rt=Bt+an)),wr=.5411961*zn+Ta,Ua=1.306562965*Rt+Ta,he=.707106781*(ln=St+Bt),pe=an+he,Pe=an-he;$e[rt+5]=Pe+wr,$e[rt+3]=Pe-wr,$e[rt+1]=pe+Ua,$e[rt+7]=pe-Ua,rt+=8}for(rt=0,yt=0;yt<8;++yt){Qe=$e[rt],Ct=$e[rt+8],vt=$e[rt+16],rn=$e[rt+24],Dt=$e[rt+32],Nt=$e[rt+40],Yt=$e[rt+48];var Ue=Qe+(Ot=$e[rt+56]),Ve=Qe-Ot,nt=Ct+Yt,Ke=Ct-Yt,Xe=vt+Nt,tt=vt-Nt,xt=rn+Dt,ct=rn-Dt,ot=Ue+xt,qt=Ue-xt,Kt=nt+Xe,_n=nt-Xe;$e[rt]=ot+Kt,$e[rt+32]=ot-Kt;var Sn=.707106781*(_n+qt);$e[rt+16]=qt+Sn,$e[rt+48]=qt-Sn;var vn=.382683433*((ot=ct+tt)-(_n=Ke+Ve)),Jt=.5411961*ot+vn,$r=1.306562965*_n+vn,Ma=.707106781*(Kt=tt+Ke),Vr=Ve+Ma,Br=Ve-Ma;$e[rt+40]=Br+Jt,$e[rt+24]=Br-Jt,$e[rt+8]=Vr+$r,$e[rt+56]=Vr-$r,rt++}for(yt=0;yt<64;++yt)At=$e[yt]*ht[yt],g[yt]=At>0?At+.5|0:At-.5|0;return g}(P,K),qe=0;qe<64;++qe)N[te[qe]]=Me[qe];var Ze=N[0]-Z;Z=N[0],Ze==0?ce(se[0]):(ce(se[w[xe=32767+Ze]]),ce(y[xe]));for(var et=63;et>0&&N[et]==0;)et--;if(et==0)return ce(Ce),Z;for(var Re,le=1;le<=et;){for(var Xt=le;N[le]==0&&le<=et;)++le;var It=le-Xt;if(It>=16){Re=It>>4;for(var kt=1;kt<=Re;++kt)ce(Se);It&=15}xe=32767+N[le],ce(fe[(It<<4)+w[xe]]),ce(y[xe]),le++}return et!=63&&ce(Ce),Z}function G(P){P=Math.min(Math.max(P,1),100),i!=P&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var fe=l((Z[se]*K+50)/100);fe=Math.min(Math.max(fe,1),255),c[te[se]]=fe}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var Se=l((xe[Ce]*K+50)/100);Se=Math.min(Math.max(Se,1),255),u[te[Ce]]=Se}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,Ze=0;Ze<8;Ze++)for(var et=0;et<8;et++)d[qe]=1/(c[te[qe]]*Me[Ze]*Me[et]*8),h[qe]=1/(u[te[qe]]*Me[Ze]*Me[et]*8),qe++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,K){K&&G(K),_=new Array,S=0,A=7,de(65496),de(65504),de(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),de(1),de(1),re(0),re(0),function(){de(65499),de(132),re(0);for(var Ct=0;Ct<64;Ct++)re(c[Ct]);re(1);for(var vt=0;vt<64;vt++)re(u[vt])}(),function(Ct,vt){de(65472),de(17),re(8),de(vt),de(Ct),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(P.width,P.height),function(){de(65476),de(418),re(0);for(var Ct=0;Ct<16;Ct++)re(X[Ct+1]);for(var vt=0;vt<=11;vt++)re(T[vt]);re(16);for(var rn=0;rn<16;rn++)re(Y[rn+1]);for(var Dt=0;Dt<=161;Dt++)re(F[Dt]);re(1);for(var Nt=0;Nt<16;Nt++)re(M[Nt+1]);for(var Yt=0;Yt<=11;Yt++)re(j[Yt]);re(17);for(var Ot=0;Ot<16;Ot++)re(D[Ot+1]);for(var yt=0;yt<=161;yt++)re($[yt])}(),de(65498),de(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var Z=0,se=0,fe=0;S=0,A=7,this.encode.displayName="_encode_";for(var xe,Ce,Se,Me,qe,Ze,et,Re,le,Xt=P.data,It=P.width,kt=P.height,$e=4*It,ht=0;ht<kt;){for(xe=0;xe<$e;){for(qe=$e*ht+xe,et=-1,Re=0,le=0;le<64;le++)Ze=qe+(Re=le>>3)*$e+(et=4*(7&le)),ht+Re>=kt&&(Ze-=$e*(ht+1+Re-kt)),xe+et>=$e&&(Ze-=xe+et-$e+4),Ce=Xt[Ze++],Se=Xt[Ze++],Me=Xt[Ze++],O[le]=(U[Ce]+U[Se+256|0]+U[Me+512|0]>>16)-128,R[le]=(U[Ce+768|0]+U[Se+1024|0]+U[Me+1280|0]>>16)-128,I[le]=(U[Ce+1280|0]+U[Se+1536|0]+U[Me+1792|0]>>16)-128;Z=ye(O,d,Z,e,r),se=ye(R,h,se,n,a),fe=ye(I,h,fe,n,a),xe+=32}ht+=8}if(A>=0){var Qe=[];Qe[1]=A+1,Qe[0]=(1<<A+1)-1,ce(Qe)}return de(65497),new Uint8Array(_)},t=t||50,function(){for(var P=String.fromCharCode,K=0;K<256;K++)ee[K]=P(K)}(),e=ne(X,T),n=ne(M,j),r=ne(Y,F),a=ne(D,$),function(){for(var P=1,K=2,Z=1;Z<=15;Z++){for(var se=P;se<K;se++)w[32767+se]=Z,y[32767+se]=[],y[32767+se][1]=Z,y[32767+se][0]=se;for(var fe=-(K-1);fe<=-P;fe++)w[32767+fe]=Z,y[32767+fe]=[],y[32767+fe][1]=Z,y[32767+fe][0]=K-1+fe;P<<=1,K<<=1}}(),function(){for(var P=0;P<256;P++)U[P]=19595*P,U[P+256|0]=38470*P,U[P+512|0]=7471*P+32768,U[P+768|0]=-11059*P,U[P+1024|0]=-21709*P,U[P+1280|0]=32768*P+8421375,U[P+1536|0]=-27439*P,U[P+1792|0]=-5329*P}(),G(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function mi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u5(t){function e(T){if(!T)throw Error("assert :P")}function n(T,Y,F){for(var M=0;4>M;M++)if(T[Y+M]!=F.charCodeAt(M))return!0;return!1}function r(T,Y,F,M,j){for(var D=0;D<j;D++)T[Y+D]=F[M+D]}function a(T,Y,F,M){for(var j=0;j<M;j++)T[Y+j]=F}function i(T){return new Int32Array(T)}function l(T,Y){for(var F=[],M=0;M<T;M++)F.push(new Y);return F}function c(T,Y){var F=[];return function M(j,D,$){for(var ne=$[D],ce=0;ce<ne&&(j.push($.length>D+1?[]:new Y),!($.length<D+1));ce++)M(j[ce],D+1,$)}(F,0,T),F}var u=function(){var T=this;function Y(p,b){for(var k=1<<b-1>>>0;p&k;)k>>>=1;return k?(p&k-1)+k:p}function F(p,b,k,L,z){e(!(L%k));do p[b+(L-=k)]=z;while(0<L)}function M(p,b,k,L,z){if(e(2328>=z),512>=z)var H=i(512);else if((H=i(z))==null)return 0;return function(V,J,Q,ae,ge,ke){var oe,be,_e=J,Oe=1<<Q,Ae=i(16),Fe=i(16);for(e(ge!=0),e(ae!=null),e(V!=null),e(0<Q),be=0;be<ge;++be){if(15<ae[be])return 0;++Ae[ae[be]]}if(Ae[0]==ge)return 0;for(Fe[1]=0,oe=1;15>oe;++oe){if(Ae[oe]>1<<oe)return 0;Fe[oe+1]=Fe[oe]+Ae[oe]}for(be=0;be<ge;++be)oe=ae[be],0<ae[be]&&(ke[Fe[oe]++]=be);if(Fe[15]==1)return(ae=new j).g=0,ae.value=ke[0],F(V,_e,1,Oe,ae),Oe;var De,je=-1,Be=Oe-1,wt=0,it=1,Ht=1,ft=1<<Q;for(be=0,oe=1,ge=2;oe<=Q;++oe,ge<<=1){if(it+=Ht<<=1,0>(Ht-=Ae[oe]))return 0;for(;0<Ae[oe];--Ae[oe])(ae=new j).g=oe,ae.value=ke[be++],F(V,_e+wt,ge,ft,ae),wt=Y(wt,oe)}for(oe=Q+1,ge=2;15>=oe;++oe,ge<<=1){if(it+=Ht<<=1,0>(Ht-=Ae[oe]))return 0;for(;0<Ae[oe];--Ae[oe]){if(ae=new j,(wt&Be)!=je){for(_e+=ft,De=1<<(je=oe)-Q;15>je&&!(0>=(De-=Ae[je]));)++je,De<<=1;Oe+=ft=1<<(De=je-Q),V[J+(je=wt&Be)].g=De+Q,V[J+je].value=_e-J-je}ae.g=oe-Q,ae.value=ke[be++],F(V,_e+(wt>>Q),ge,ft,ae),wt=Y(wt,oe)}}return it!=2*Fe[15]-1?0:Oe}(p,b,k,L,z,H)}function j(){this.value=this.g=0}function D(){this.value=this.g=0}function $(){this.G=l(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(oa,D)}function ne(p,b,k,L){e(p!=null),e(b!=null),e(2147483648>L),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=k,p.Jd=b,p.Yc=k+L,p.Zc=4<=L?k+L-4+1:k,Ce(p)}function ce(p,b){for(var k=0;0<b--;)k|=Me(p,128)<<b;return k}function re(p,b){var k=ce(p,b);return Se(p)?-k:k}function de(p,b,k,L){var z,H=0;for(e(p!=null),e(b!=null),e(4294967288>L),p.Sb=L,p.Ra=0,p.u=0,p.h=0,4<L&&(L=4),z=0;z<L;++z)H+=b[k+z]<<8*z;p.Ra=H,p.bb=L,p.oa=b,p.pa=k}function ye(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ki-8>>>0,++p.bb,p.u-=8;se(p)&&(p.h=1,p.u=0)}function G(p,b){if(e(0<=b),!p.h&&b<=kl){var k=Z(p)&Si[b];return p.u+=b,ye(p),k}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&ki-1)>>>0}function se(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ki}function fe(p,b){p.u=b,p.h=se(p)}function xe(p){p.u>=Qn&&(e(p.u>=Qn),ye(p))}function Ce(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Se(p){return ce(p,1)}function Me(p,b){var k=p.Ca;0>p.b&&Ce(p);var L=p.b,z=k*b>>>8,H=(p.I>>>L>z)+0;for(H?(k-=z,p.I-=z+1<<L>>>0):k=z+1,L=k,z=0;256<=L;)z+=8,L>>=8;return L=7^z+wc[L],p.b-=L,p.Ca=(k<<L)-1,H}function qe(p,b,k){p[b+0]=k>>24&255,p[b+1]=k>>16&255,p[b+2]=k>>8&255,p[b+3]=255&k}function Ze(p,b){return p[b+0]|p[b+1]<<8}function et(p,b){return Ze(p,b)|p[b+2]<<16}function Re(p,b){return Ze(p,b)|Ze(p,b+2)<<16}function le(p,b){var k=1<<b;return e(p!=null),e(0<b),p.X=i(k),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function Xt(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),r(b.X,0,p.X,0,1<<b.Xa)}function It(){this.X=[],this.Xa=this.Mb=0}function kt(p,b,k,L){e(k!=null),e(L!=null);var z=k[0],H=L[0];return z==0&&(z=(p*H+b/2)/b),H==0&&(H=(b*z+p/2)/p),0>=z||0>=H?0:(k[0]=z,L[0]=H,1)}function $e(p,b){return p+(1<<b)-1>>>b}function ht(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function Qe(p,b){T[b]=function(k,L,z,H,V,J,Q){var ae;for(ae=0;ae<V;++ae){var ge=T[p](J[Q+ae-1],z,H+ae);J[Q+ae]=ht(k[L+ae],ge)}}}function Ct(){this.ud=this.hd=this.jd=0}function vt(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function rn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Dt(p,b){return rn(p+(p-b+.5>>1))}function Nt(p,b,k){return Math.abs(b-k)-Math.abs(p-k)}function Yt(p,b,k,L,z,H,V){for(L=H[V-1],k=0;k<z;++k)H[V+k]=L=ht(p[b+k],L)}function Ot(p,b,k,L,z){var H;for(H=0;H<k;++H){var V=p[b+H],J=V>>8&255,Q=16711935&(Q=(Q=16711935&V)+((J<<16)+J));L[z+H]=(4278255360&V)+Q>>>0}}function yt(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function At(p,b,k,L,z,H){var V;for(V=0;V<L;++V){var J=b[k+V],Q=J>>>8,ae=J,ge=255&(ge=(ge=J>>>16)+((p.jd<<24>>24)*(Q<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(Q<<24>>24)>>>5)+((p.ud<<24>>24)*(ge<<24>>24)>>>5)),z[H+V]=(4278255360&J)+(ge<<16)+ae}}function rt(p,b,k,L,z){T[b]=function(H,V,J,Q,ae,ge,ke,oe,be){for(Q=ke;Q<oe;++Q)for(ke=0;ke<be;++ke)ae[ge++]=z(J[L(H[V++])])},T[p]=function(H,V,J,Q,ae,ge,ke){var oe=8>>H.b,be=H.Ea,_e=H.K[0],Oe=H.w;if(8>oe)for(H=(1<<H.b)-1,Oe=(1<<oe)-1;V<J;++V){var Ae,Fe=0;for(Ae=0;Ae<be;++Ae)Ae&H||(Fe=L(Q[ae++])),ge[ke++]=z(_e[Fe&Oe]),Fe>>=oe}else T["VP8LMapColor"+k](Q,ae,_e,Oe,ge,ke,V,J,be)}}function En(p,b,k,L,z){for(k=b+k;b<k;){var H=p[b++];L[z++]=H>>16&255,L[z++]=H>>8&255,L[z++]=255&H}}function an(p,b,k,L,z){for(k=b+k;b<k;){var H=p[b++];L[z++]=H>>16&255,L[z++]=H>>8&255,L[z++]=255&H,L[z++]=H>>24&255}}function mt(p,b,k,L,z){for(k=b+k;b<k;){var H=(V=p[b++])>>16&240|V>>12&15,V=240&V|V>>28&15;L[z++]=H,L[z++]=V}}function Bt(p,b,k,L,z){for(k=b+k;b<k;){var H=(V=p[b++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;L[z++]=H,L[z++]=V}}function un(p,b,k,L,z){for(k=b+k;b<k;){var H=p[b++];L[z++]=255&H,L[z++]=H>>8&255,L[z++]=H>>16&255}}function St(p,b,k,L,z,H){if(H==0)for(k=b+k;b<k;)qe(L,((H=p[b++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else r(L,z,p,b,k)}function Gt(p,b){T[b][0]=T[p+"0"],T[b][1]=T[p+"1"],T[b][2]=T[p+"2"],T[b][3]=T[p+"3"],T[b][4]=T[p+"4"],T[b][5]=T[p+"5"],T[b][6]=T[p+"6"],T[b][7]=T[p+"7"],T[b][8]=T[p+"8"],T[b][9]=T[p+"9"],T[b][10]=T[p+"10"],T[b][11]=T[p+"11"],T[b][12]=T[p+"12"],T[b][13]=T[p+"13"],T[b][14]=T[p+"0"],T[b][15]=T[p+"0"]}function Mt(p){return p==Bs||p==ss||p==Pl||p==Tl}function zn(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ln(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zn,this.f.kb=new Ln,this.sd=null}function Rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ta(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function wr(p,b){var k=p.T,L=b.ba.f.RGBA,z=L.eb,H=L.fb+p.ka*L.A,V=ya[b.ba.S],J=p.y,Q=p.O,ae=p.f,ge=p.N,ke=p.ea,oe=p.W,be=b.cc,_e=b.dc,Oe=b.Mc,Ae=b.Nc,Fe=p.ka,De=p.ka+p.T,je=p.U,Be=je+1>>1;for(Fe==0?V(J,Q,null,null,ae,ge,ke,oe,ae,ge,ke,oe,z,H,null,null,je):(V(b.ec,b.fc,J,Q,be,_e,Oe,Ae,ae,ge,ke,oe,z,H-L.A,z,H,je),++k);Fe+2<De;Fe+=2)be=ae,_e=ge,Oe=ke,Ae=oe,ge+=p.Rc,oe+=p.Rc,H+=2*L.A,V(J,(Q+=2*p.fa)-p.fa,J,Q,be,_e,Oe,Ae,ae,ge,ke,oe,z,H-L.A,z,H,je);return Q+=p.fa,p.j+De<p.o?(r(b.ec,b.fc,J,Q,je),r(b.cc,b.dc,ae,ge,Be),r(b.Mc,b.Nc,ke,oe,Be),k--):1&De||V(J,Q,null,null,ae,ge,ke,oe,ae,ge,ke,oe,z,H+L.A,null,null,je),k}function Ua(p,b,k){var L=p.F,z=[p.J];if(L!=null){var H=p.U,V=b.ba.S,J=V==Ll||V==Pl;b=b.ba.f.RGBA;var Q=[0],ae=p.ka;Q[0]=p.T,p.Kb&&(ae==0?--Q[0]:(--ae,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(Q[0]=p.o-p.j-ae));var ge=b.eb;ae=b.fb+ae*b.A,p=Al(L,z[0],p.width,H,Q,ge,ae+(J?0:3),b.A),e(k==Q),p&&Mt(V)&&is(ge,ae,J,H,Q,b.A)}return 0}function he(p){var b=p.ma,k=b.ba.S,L=11>k,z=k==Ai||k==Cl||k==Ll||k==Pn||k==12||Mt(k);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!ra(b.Oa,p,z?11:12))return 0;if(z&&Mt(k)&&El(),p.da)alert("todo:use_scaling");else{if(L){if(b.Ib=Ta,p.Kb){if(k=p.U+1>>1,b.memory=i(p.U+2*k),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+k,b.Ib=wr,El()}}else alert("todo:EmitYUV");z&&(b.Jb=Ua,L&&ts())}if(L&&!Ur){for(p=0;256>p;++p)ba[p]=89858*(p-128)+mo>>oi,wa[p]=-22014*(p-128)+mo,Ws[p]=-45773*(p-128),ds[p]=113618*(p-128)+mo>>oi;for(p=kn;p<Nn;++p)b=76283*(p-16)+mo>>oi,Cc[p-kn]=_r(b,255),Pd[p-kn]=_r(b+8>>4,15);Ur=1}return 1}function pe(p){var b=p.ma,k=p.U,L=p.T;return e(!(1&p.ka)),0>=k||0>=L?0:(k=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,k),b.Dc+=k,1)}function Pe(p){p.ma.memory=null}function Ue(p,b,k,L){return G(p,8)!=47?0:(b[0]=G(p,14)+1,k[0]=G(p,14)+1,L[0]=G(p,1),G(p,3)!=0?0:!p.h)}function Ve(p,b){if(4>p)return p+1;var k=p-2>>1;return(2+(1&p)<<k)+G(b,k)+1}function nt(p,b){return 120<b?b-120:1<=(k=((k=xh[b-1])>>4)*p+(8-(15&k)))?k:1;var k}function Ke(p,b,k){var L=Z(k),z=p[b+=255&L].g-8;return 0<z&&(fe(k,k.u+8),L=Z(k),b+=p[b].value,b+=L&(1<<z)-1),fe(k,k.u+p[b].g),p[b].value}function Xe(p,b,k){return k.g+=p.g,k.value+=p.value<<b>>>0,e(8>=k.g),p.g}function tt(p,b,k){var L=p.xc;return e((b=L==0?0:p.vc[p.md*(k>>L)+(b>>L)])<p.Wb),p.Ya[b]}function xt(p,b,k,L){var z=p.ab,H=p.c*b,V=p.C;b=V+b;var J=k,Q=L;for(L=p.Ta,k=p.Ua;0<z--;){var ae=p.gc[z],ge=V,ke=b,oe=J,be=Q,_e=(Q=L,J=k,ae.Ea);switch(e(ge<ke),e(ke<=ae.nc),ae.hc){case 2:Rs(oe,be,(ke-ge)*_e,Q,J);break;case 0:var Oe=ge,Ae=ke,Fe=Q,De=J,je=(ft=ae).Ea;Oe==0&&(ma(oe,be,null,null,1,Fe,De),Yt(oe,be+1,0,0,je-1,Fe,De+1),be+=je,De+=je,++Oe);for(var Be=1<<ft.b,wt=Be-1,it=$e(je,ft.b),Ht=ft.K,ft=ft.w+(Oe>>ft.b)*it;Oe<Ae;){var tn=Ht,Zn=ft,$t=1;for(pa(oe,be,Fe,De-je,1,Fe,De);$t<je;){var st=($t&~wt)+Be;st>je&&(st=je),(0,ai[tn[Zn++]>>8&15])(oe,be+ +$t,Fe,De+$t-je,st-$t,Fe,De+$t),$t=st}be+=je,De+=je,++Oe&wt||(ft+=it)}ke!=ae.nc&&r(Q,J-_e,Q,J+(ke-ge-1)*_e,_e);break;case 1:for(_e=oe,Ae=be,je=(oe=ae.Ea)-(De=oe&~(Fe=(be=1<<ae.b)-1)),Oe=$e(oe,ae.b),Be=ae.K,ae=ae.w+(ge>>ae.b)*Oe;ge<ke;){for(wt=Be,it=ae,Ht=new Ct,ft=Ae+De,tn=Ae+oe;Ae<ft;)yt(wt[it++],Ht),Po(Ht,_e,Ae,be,Q,J),Ae+=be,J+=be;Ae<tn&&(yt(wt[it++],Ht),Po(Ht,_e,Ae,je,Q,J),Ae+=je,J+=je),++ge&Fe||(ae+=Oe)}break;case 3:if(oe==Q&&be==J&&0<ae.b){for(Ae=Q,oe=_e=J+(ke-ge)*_e-(De=(ke-ge)*$e(ae.Ea,ae.b)),be=Q,Fe=J,Oe=[],De=(je=De)-1;0<=De;--De)Oe[De]=be[Fe+De];for(De=je-1;0<=De;--De)Ae[oe+De]=Oe[De];Ni(ae,ge,ke,Q,_e,Q,J)}else Ni(ae,ge,ke,oe,be,Q,J)}J=L,Q=k}Q!=k&&r(L,k,J,Q,H)}function ct(p,b){var k=p.V,L=p.Ba+p.c*p.C,z=b-p.C;if(e(b<=p.l.o),e(16>=z),0<z){var H=p.l,V=p.Ta,J=p.Ua,Q=H.width;if(xt(p,z,k,L),z=J=[J],e((k=p.C)<(L=b)),e(H.v<H.va),L>H.o&&(L=H.o),k<H.j){var ae=H.j-k;k=H.j,z[0]+=ae*Q}if(k>=L?k=0:(z[0]+=4*H.v,H.ka=k-H.j,H.U=H.va-H.v,H.T=L-k,k=1),k){if(J=J[0],11>(k=p.ca).S){var ge=k.f.RGBA,ke=(L=k.S,z=H.U,H=H.T,ae=ge.eb,ge.A),oe=H;for(ge=ge.fb+p.Ma*ge.A;0<oe--;){var be=V,_e=J,Oe=z,Ae=ae,Fe=ge;switch(L){case Sc:Ds(be,_e,Oe,Ae,Fe);break;case Ai:ga(be,_e,Oe,Ae,Fe);break;case Bs:ga(be,_e,Oe,Ae,Fe),is(Ae,Fe,0,Oe,1,0);break;case kd:jn(be,_e,Oe,Ae,Fe);break;case Cl:St(be,_e,Oe,Ae,Fe,1);break;case ss:St(be,_e,Oe,Ae,Fe,1),is(Ae,Fe,0,Oe,1,0);break;case Ll:St(be,_e,Oe,Ae,Fe,0);break;case Pl:St(be,_e,Oe,Ae,Fe,0),is(Ae,Fe,1,Oe,1,0);break;case Pn:To(be,_e,Oe,Ae,Fe);break;case Tl:To(be,_e,Oe,Ae,Fe),gu(Ae,Fe,Oe,1,0);break;case kc:In(be,_e,Oe,Ae,Fe);break;default:e(0)}J+=Q,ge+=ke}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=k.height)}}p.C=b,e(p.C<=p.i)}function ot(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var k=p.Ya[b].G,L=p.Ya[b].H;if(0<k[1][L[1]+0].g||0<k[2][L[2]+0].g||0<k[3][L[3]+0].g)return 0}return 1}function qt(p,b,k,L,z,H){if(p.Z!=0){var V=p.qd,J=p.rd;for(e(Gr[p.Z]!=null);b<k;++b)Gr[p.Z](V,J,L,z,L,z,H),V=L,J=z,z+=H;p.qd=V,p.rd=J}}function Kt(p,b){var k=p.l.ma,L=k.Z==0||k.Z==1?p.l.j:p.C;if(L=p.C<L?L:p.C,e(b<=p.l.o),b>L){var z=p.l.width,H=k.ca,V=k.tb+z*L,J=p.V,Q=p.Ba+p.c*L,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),rs(ae[0],L,b,J,Q,H,V),qt(k,L,b,H,V,z)}p.C=p.Ma=b}function _n(p,b,k,L,z,H,V){var J=p.$/L,Q=p.$%L,ae=p.m,ge=p.s,ke=k+p.$,oe=ke;z=k+L*z;var be=k+L*H,_e=280+ge.ua,Oe=p.Pb?J:16777216,Ae=0<ge.ua?ge.Wa:null,Fe=ge.wc,De=ke<be?tt(ge,Q,J):null;e(p.C<H),e(be<=z);var je=!1;e:for(;;){for(;je||ke<be;){var Be=0;if(J>=Oe){var wt=ke-k;e((Oe=p).Pb),Oe.wd=Oe.m,Oe.xd=wt,0<Oe.s.ua&&Xt(Oe.s.Wa,Oe.s.vb),Oe=J+Ac}if(Q&Fe||(De=tt(ge,Q,J)),e(De!=null),De.Qb&&(b[ke]=De.qb,je=!0),!je)if(xe(ae),De.jc){Be=ae,wt=b;var it=ke,Ht=De.pd[Z(Be)&oa-1];e(De.jc),256>Ht.g?(fe(Be,Be.u+Ht.g),wt[it]=Ht.value,Be=0):(fe(Be,Be.u+Ht.g-256),e(256<=Ht.value),Be=Ht.value),Be==0&&(je=!0)}else Be=Ke(De.G[0],De.H[0],ae);if(ae.h)break;if(je||256>Be){if(!je)if(De.nd)b[ke]=(De.qb|Be<<8)>>>0;else{if(xe(ae),je=Ke(De.G[1],De.H[1],ae),xe(ae),wt=Ke(De.G[2],De.H[2],ae),it=Ke(De.G[3],De.H[3],ae),ae.h)break;b[ke]=(it<<24|je<<16|Be<<8|wt)>>>0}if(je=!1,++ke,++Q>=L&&(Q=0,++J,V!=null&&J<=H&&!(J%16)&&V(p,J),Ae!=null))for(;oe<ke;)Be=b[oe++],Ae.X[(506832829*Be&4294967295)>>>Ae.Mb]=Be}else if(280>Be){if(Be=Ve(Be-256,ae),wt=Ke(De.G[4],De.H[4],ae),xe(ae),wt=nt(L,wt=Ve(wt,ae)),ae.h)break;if(ke-k<wt||z-ke<Be)break e;for(it=0;it<Be;++it)b[ke+it]=b[ke+it-wt];for(ke+=Be,Q+=Be;Q>=L;)Q-=L,++J,V!=null&&J<=H&&!(J%16)&&V(p,J);if(e(ke<=z),Q&Fe&&(De=tt(ge,Q,J)),Ae!=null)for(;oe<ke;)Be=b[oe++],Ae.X[(506832829*Be&4294967295)>>>Ae.Mb]=Be}else{if(!(Be<_e))break e;for(je=Be-280,e(Ae!=null);oe<ke;)Be=b[oe++],Ae.X[(506832829*Be&4294967295)>>>Ae.Mb]=Be;Be=ke,e(!(je>>>(wt=Ae).Xa)),b[Be]=wt.X[je],je=!0}je||e(ae.h==se(ae))}if(p.Pb&&ae.h&&ke<z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Xt(p.s.vb,p.s.Wa);else{if(ae.h)break e;V?.(p,J>H?H:J),p.a=0,p.$=ke-k}return 1}return p.a=3,0}function Sn(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function vn(){var p=new Yn;return p==null?null:(p.a=0,p.xb=Us,Gt("Predictor","VP8LPredictors"),Gt("Predictor","VP8LPredictors_C"),Gt("PredictorAdd","VP8LPredictorsAdd"),Gt("PredictorAdd","VP8LPredictorsAdd_C"),Rs=Ot,Po=At,Ds=En,ga=an,To=mt,In=Bt,jn=un,T.VP8LMapColor32b=Fs,T.VP8LMapColor8b=ri,p)}function Jt(p,b,k,L,z){var H=1,V=[p],J=[b],Q=L.m,ae=L.s,ge=null,ke=0;e:for(;;){if(k)for(;H&&G(Q,1);){var oe=V,be=J,_e=L,Oe=1,Ae=_e.m,Fe=_e.gc[_e.ab],De=G(Ae,2);if(_e.Oc&1<<De)H=0;else{switch(_e.Oc|=1<<De,Fe.hc=De,Fe.Ea=oe[0],Fe.nc=be[0],Fe.K=[null],++_e.ab,e(4>=_e.ab),De){case 0:case 1:Fe.b=G(Ae,3)+2,Oe=Jt($e(Fe.Ea,Fe.b),$e(Fe.nc,Fe.b),0,_e,Fe.K),Fe.K=Fe.K[0];break;case 3:var je,Be=G(Ae,8)+1,wt=16<Be?0:4<Be?1:2<Be?2:3;if(oe[0]=$e(Fe.Ea,wt),Fe.b=wt,je=Oe=Jt(Be,1,0,_e,Fe.K)){var it,Ht=Be,ft=Fe,tn=1<<(8>>ft.b),Zn=i(tn);if(Zn==null)je=0;else{var $t=ft.K[0],st=ft.w;for(Zn[0]=ft.K[0][0],it=1;it<1*Ht;++it)Zn[it]=ht($t[st+it],Zn[it-1]);for(;it<4*tn;++it)Zn[it]=0;ft.K[0]=null,ft.K[0]=Zn,je=1}}Oe=je;break;case 2:break;default:e(0)}H=Oe}}if(V=V[0],J=J[0],H&&G(Q,1)&&!(H=1<=(ke=G(Q,4))&&11>=ke)){L.a=3;break e}var Je;if(Je=H)t:{var sr,jt,Zt,Bn=L,Dr=V,pr=J,Gn=ke,kr=k,Or=Bn.m,Hn=Bn.s,on=[null],mn=1,$n=0,pn=Ad[Gn];n:for(;;){if(kr&&G(Or,1)){var er=G(Or,3)+2,tr=$e(Dr,er),Tn=$e(pr,er),Kr=tr*Tn;if(!Jt(tr,Tn,0,Bn,on))break n;for(on=on[0],Hn.xc=er,sr=0;sr<Kr;++sr){var An=on[sr]>>8&65535;on[sr]=An,An>=mn&&(mn=An+1)}}if(Or.h)break n;for(jt=0;5>jt;++jt){var Mn=ls[jt];!jt&&0<Gn&&(Mn+=1<<Gn),$n<Mn&&($n=Mn)}var gr=l(mn*pn,j),qr=mn,xa=l(qr,$);if(xa==null)var lr=null;else e(65536>=qr),lr=xa;var cr=i($n);if(lr==null||cr==null||gr==null){Bn.a=1;break n}var Xr=gr;for(sr=Zt=0;sr<mn;++sr){var Rn=lr[sr],Jr=Rn.G,Ga=Rn.H,po=0,Ir=1,ur=0;for(jt=0;5>jt;++jt){Mn=ls[jt],Jr[jt]=Xr,Ga[jt]=Zt,!jt&&0<Gn&&(Mn+=1<<Gn);a:{var Pi,si=Mn,Hs=Bn,Do=cr,Md=Xr,Cu=Zt,Un=0,go=Hs.m,Lu=G(go,1);if(a(Do,0,0,si),Lu){var Pu=G(go,1)+1,Lc=G(go,1),Pc=G(go,Lc==0?1:8);Do[Pc]=1,Pu==2&&(Do[Pc=G(go,8)]=1);var Oo=1}else{var Vn=i(19),vr=G(go,4)+4;if(19<vr){Hs.a=3;var dr=0;break a}for(Pi=0;Pi<vr;++Pi)Vn[wh[Pi]]=G(go,3);var $s=void 0,li=void 0,Vs=Hs,Nh=Vn,Nr=si,Tc=Do,Ol=0,Io=Vs.m,vo=8,Oa=l(128,j);r:for(;M(Oa,0,7,Nh,19);){if(G(Io,1)){var Il=2+2*G(Io,3);if(($s=2+G(Io,Il))>Nr)break r}else $s=Nr;for(li=0;li<Nr&&$s--;){xe(Io);var Mc=Oa[0+(127&Z(Io))];fe(Io,Io.u+Mc.g);var Ti=Mc.value;if(16>Ti)Tc[li++]=Ti,Ti!=0&&(vo=Ti);else{var Rd=Ti==16,Tu=Ti-16,Fd=Nc[Tu],Mu=G(Io,Ml[Tu])+Fd;if(li+Mu>Nr)break r;for(var Dd=Rd?vo:0;0<Mu--;)Tc[li++]=Dd}}Ol=1;break r}Ol||(Vs.a=3),Oo=Ol}(Oo=Oo&&!go.h)&&(Un=M(Md,Cu,8,Do,si)),Oo&&Un!=0?dr=Un:(Hs.a=3,dr=0)}if(dr==0)break n;if(Ir&&Nd[jt]==1&&(Ir=Xr[Zt].g==0),po+=Xr[Zt].g,Zt+=dr,3>=jt){var Ys,Rc=cr[0];for(Ys=1;Ys<Mn;++Ys)cr[Ys]>Rc&&(Rc=cr[Ys]);ur+=Rc}}if(Rn.nd=Ir,Rn.Qb=0,Ir&&(Rn.qb=(Jr[3][Ga[3]+0].value<<24|Jr[1][Ga[1]+0].value<<16|Jr[2][Ga[2]+0].value)>>>0,po==0&&256>Jr[0][Ga[0]+0].value&&(Rn.Qb=1,Rn.qb+=Jr[0][Ga[0]+0].value<<8)),Rn.jc=!Rn.Qb&&6>ur,Rn.jc){var jl,Ia=Rn;for(jl=0;jl<oa;++jl){var ci=jl,yo=Ia.pd[ci],hs=Ia.G[0][Ia.H[0]+ci];256<=hs.value?(yo.g=hs.g+256,yo.value=hs.value):(yo.g=0,yo.value=0,ci>>=Xe(hs,8,yo),ci>>=Xe(Ia.G[1][Ia.H[1]+ci],16,yo),ci>>=Xe(Ia.G[2][Ia.H[2]+ci],0,yo),Xe(Ia.G[3][Ia.H[3]+ci],24,yo))}}}Hn.vc=on,Hn.Wb=mn,Hn.Ya=lr,Hn.yc=gr,Je=1;break t}Je=0}if(!(H=Je)){L.a=3;break e}if(0<ke){if(ae.ua=1<<ke,!le(ae.Wa,ke)){L.a=1,H=0;break e}}else ae.ua=0;var Fc=L,Dc=V,Od=J,Oc=Fc.s,Ic=Oc.xc;if(Fc.c=Dc,Fc.i=Od,Oc.md=$e(Dc,Ic),Oc.wc=Ic==0?-1:(1<<Ic)-1,k){L.xb=Fo;break e}if((ge=i(V*J))==null){L.a=1,H=0;break e}H=(H=_n(L,ge,0,V,J,J,null))&&!Q.h;break e}return H?(z!=null?z[0]=ge:(e(ge==null),e(k)),L.$=0,k||Sn(ae)):Sn(ae),H}function $r(p,b){var k=p.c*p.i,L=k+b+16*b;return e(p.c<=b),p.V=i(L),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+k+b,1)}function Ma(p,b){var k=p.C,L=b-k,z=p.V,H=p.Ba+p.c*k;for(e(b<=p.l.o);0<L;){var V=16<L?16:L,J=p.l.ma,Q=p.l.width,ae=Q*V,ge=J.ca,ke=J.tb+Q*k,oe=p.Ta,be=p.Ua;xt(p,V,z,H),vu(oe,be,ge,ke,ae),qt(J,k,k+V,ge,ke,Q),L-=V,z+=V*p.c,k+=V}e(k==b),p.C=p.Ma=b}function Vr(){this.ub=this.yd=this.td=this.Rb=0}function Br(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vi(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function fn(){this.Yb=function(){var p=[];return function b(k,L,z){for(var H=z[L],V=0;V<H&&(k.push(z.length>L+1?[]:0),!(z.length<L+1));V++)b(k[V],L+1,z)}(p,0,[3,11]),p}()}function qa(){this.jb=i(3),this.Wc=c([4,8],fn),this.Xc=c([4,17],fn)}function oo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Rr(){this.ld=this.La=this.dd=this.tc=0}function Qt(){this.Na=this.la=0}function rr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function io(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ra(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rr),this.Y=0,this.ya=Array(new io),this.aa=0,this.l=new xr}function cn(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Yo(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new Vr,this.Kc=new Br,this.ed=new oo,this.Qa=new Vi,this.Ic=this.$c=this.Aa=0,this.D=new Ra,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,P),this.ia=0,this.pb=l(4,rr),this.Pa=new qa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cn),this.Hd=0,this.rb=Array(new Qt),this.sb=0,this.wa=Array(new Rr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new io),this.L=this.aa=0,this.gd=c([4,2],Rr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function gl(){var p=new Yo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,cs||(cs=Wa)),p}function fr(p,b,k){return p.a==0&&(p.a=b,p.sc=k,p.cb=0),0}function uc(p,b,k){return 3<=k&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function Yi(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return fr(p,2,"null VP8Io passed to VP8GetHeaders()");var k=b.data,L=b.w,z=b.ha;if(4>z)return fr(p,7,"Truncated header.");var H=k[L+0]|k[L+1]<<8|k[L+2]<<16,V=p.Od;if(V.Rb=!(1&H),V.td=H>>1&7,V.yd=H>>4&1,V.ub=H>>5,3<V.td)return fr(p,3,"Incorrect keyframe parameters.");if(!V.yd)return fr(p,4,"Frame not displayable.");L+=3,z-=3;var J=p.Kc;if(V.Rb){if(7>z)return fr(p,7,"cannot parse picture header");if(!uc(k,L,z))return fr(p,3,"Bad code word");J.c=16383&(k[L+4]<<8|k[L+3]),J.Td=k[L+4]>>6,J.i=16383&(k[L+6]<<8|k[L+5]),J.Ud=k[L+6]>>6,L+=7,z-=7,p.za=J.c+15>>4,p.Ub=J.i+15>>4,b.width=J.c,b.height=J.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(V.ub>z)return fr(p,7,"bad partition length");ne(H=p.m,k,L,V.ub),L+=V.ub,z-=V.ub,V.Rb&&(J.Ld=Se(H),J.Kd=Se(H)),J=p.Qa;var Q,ae=p.Pa;if(e(H!=null),e(J!=null),J.Cb=Se(H),J.Cb){if(J.Bb=Se(H),Se(H)){for(J.Fb=Se(H),Q=0;4>Q;++Q)J.Zb[Q]=Se(H)?re(H,7):0;for(Q=0;4>Q;++Q)J.Lb[Q]=Se(H)?re(H,6):0}if(J.Bb)for(Q=0;3>Q;++Q)ae.jb[Q]=Se(H)?ce(H,8):255}else J.Bb=0;if(H.Ka)return fr(p,3,"cannot parse segment header");if((J=p.ed).zd=Se(H),J.Tb=ce(H,6),J.wb=ce(H,3),J.Pc=Se(H),J.Pc&&Se(H)){for(ae=0;4>ae;++ae)Se(H)&&(J.vd[ae]=re(H,6));for(ae=0;4>ae;++ae)Se(H)&&(J.od[ae]=re(H,6))}if(p.L=J.Tb==0?0:J.zd?1:2,H.Ka)return fr(p,3,"cannot parse filter header");var ge=z;if(z=Q=L,L=Q+ge,J=ge,p.Xb=(1<<ce(p.m,2))-1,ge<3*(ae=p.Xb))k=7;else{for(Q+=3*ae,J-=3*ae,ge=0;ge<ae;++ge){var ke=k[z+0]|k[z+1]<<8|k[z+2]<<16;ke>J&&(ke=J),ne(p.Jc[+ge],k,Q,ke),Q+=ke,J-=ke,z+=3}ne(p.Jc[+ae],k,Q,J),k=Q<L?0:5}if(k!=0)return fr(p,k,"cannot parse partitions");for(k=ce(Q=p.m,7),z=Se(Q)?re(Q,4):0,L=Se(Q)?re(Q,4):0,J=Se(Q)?re(Q,4):0,ae=Se(Q)?re(Q,4):0,Q=Se(Q)?re(Q,4):0,ge=p.Qa,ke=0;4>ke;++ke){if(ge.Cb){var oe=ge.Zb[ke];ge.Fb||(oe+=k)}else{if(0<ke){p.pb[ke]=p.pb[0];continue}oe=k}var be=p.pb[ke];be.Sc[0]=zs[_r(oe+z,127)],be.Sc[1]=Rl[_r(oe+0,127)],be.Eb[0]=2*zs[_r(oe+L,127)],be.Eb[1]=101581*Rl[_r(oe+J,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=zs[_r(oe+ae,117)],be.Qc[1]=Rl[_r(oe+Q,127)],be.lc=oe+Q}if(!V.Rb)return fr(p,4,"Not a key frame.");for(Se(H),V=p.Pa,k=0;4>k;++k){for(z=0;8>z;++z)for(L=0;3>L;++L)for(J=0;11>J;++J)ae=Me(H,_h[k][z][L][J])?ce(H,8):Ld[k][z][L][J],V.Wc[k][z].Yb[L][J]=ae;for(z=0;17>z;++z)V.Xc[k][z]=V.Wc[k][ku[z]]}return p.kc=Se(H),p.kc&&(p.Bd=ce(H,8)),p.cb=1}function Wa(p,b,k,L,z,H,V){var J=b[z].Yb[k];for(k=0;16>z;++z){if(!Me(p,J[k+0]))return z;for(;!Me(p,J[k+1]);)if(J=b[++z].Yb[0],k=0,z==16)return 16;var Q=b[z+1].Yb;if(Me(p,J[k+2])){var ae=p,ge=0;if(Me(ae,(oe=J)[(ke=k)+3]))if(Me(ae,oe[ke+6])){for(J=0,ke=2*(ge=Me(ae,oe[ke+8]))+(oe=Me(ae,oe[ke+9+ge])),ge=0,oe=_u[ke];oe[J];++J)ge+=ge+Me(ae,oe[J]);ge+=3+(8<<ke)}else Me(ae,oe[ke+7])?(ge=7+2*Me(ae,165),ge+=Me(ae,145)):ge=5+Me(ae,159);else ge=Me(ae,oe[ke+4])?3+Me(ae,oe[ke+5]):2;J=Q[2]}else ge=1,J=Q[1];Q=V+Su[z],0>(ae=p).b&&Ce(ae);var ke,oe=ae.b,be=(ke=ae.Ca>>1)-(ae.I>>oe)>>31;--ae.b,ae.Ca+=be,ae.Ca|=1,ae.I-=(ke+1&be)<<oe,H[Q]=((ge^be)-be)*L[(0<z)+0]}return 16}function so(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function da(p,b,k,L,z){z=p[b+k+32*L]+(z>>3),p[b+k+32*L]=-256&z?0>z?0:255:z}function Gi(p,b,k,L,z,H){da(p,b,0,k,L+z),da(p,b,1,k,L+H),da(p,b,2,k,L-H),da(p,b,3,k,L-z)}function ar(p){return(20091*p>>16)+p}function Ki(p,b,k,L){var z,H=0,V=i(16);for(z=0;4>z;++z){var J=p[b+0]+p[b+8],Q=p[b+0]-p[b+8],ae=(35468*p[b+4]>>16)-ar(p[b+12]),ge=ar(p[b+4])+(35468*p[b+12]>>16);V[H+0]=J+ge,V[H+1]=Q+ae,V[H+2]=Q-ae,V[H+3]=J-ge,H+=4,b++}for(z=H=0;4>z;++z)J=(p=V[H+0]+4)+V[H+8],Q=p-V[H+8],ae=(35468*V[H+4]>>16)-ar(V[H+12]),da(k,L,0,0,J+(ge=ar(V[H+4])+(35468*V[H+12]>>16))),da(k,L,1,0,Q+ae),da(k,L,2,0,Q-ae),da(k,L,3,0,J-ge),H++,L+=32}function dc(p,b,k,L){var z=p[b+0]+4,H=35468*p[b+4]>>16,V=ar(p[b+4]),J=35468*p[b+1]>>16;Gi(k,L,0,z+V,p=ar(p[b+1]),J),Gi(k,L,1,z+H,p,J),Gi(k,L,2,z-H,p,J),Gi(k,L,3,z-V,p,J)}function vl(p,b,k,L,z){Ki(p,b,k,L),z&&Ki(p,b+16,k,L+4)}function Xi(p,b,k,L){ir(p,b+0,k,L,1),ir(p,b+32,k,L+128,1)}function So(p,b,k,L){var z;for(p=p[b+0]+4,z=0;4>z;++z)for(b=0;4>b;++b)da(k,L,b,z,p)}function ks(p,b,k,L){p[b+0]&&ho(p,b+0,k,L),p[b+16]&&ho(p,b+16,k,L+4),p[b+32]&&ho(p,b+32,k,L+128),p[b+48]&&ho(p,b+48,k,L+128+4)}function dn(p,b,k,L){var z,H=i(16);for(z=0;4>z;++z){var V=p[b+0+z]+p[b+12+z],J=p[b+4+z]+p[b+8+z],Q=p[b+4+z]-p[b+8+z],ae=p[b+0+z]-p[b+12+z];H[0+z]=V+J,H[8+z]=V-J,H[4+z]=ae+Q,H[12+z]=ae-Q}for(z=0;4>z;++z)V=(p=H[0+4*z]+3)+H[3+4*z],J=H[1+4*z]+H[2+4*z],Q=H[1+4*z]-H[2+4*z],ae=p-H[3+4*z],k[L+0]=V+J>>3,k[L+16]=ae+Q>>3,k[L+32]=V-J>>3,k[L+48]=ae-Q>>3,L+=64}function Go(p,b,k){var L,z=b-32,H=ia,V=255-p[z-1];for(L=0;L<k;++L){var J,Q=H,ae=V+p[b-1];for(J=0;J<k;++J)p[b+J]=Q[ae+p[z+J]];b+=32}}function Ns(p,b){Go(p,b,4)}function yl(p,b){Go(p,b,8)}function fc(p,b){Go(p,b,16)}function hc(p,b){var k;for(k=0;16>k;++k)r(p,b+32*k,p,b-32,16)}function As(p,b){var k;for(k=16;0<k;--k)a(p,b,p[b-1],16),b+=32}function Ko(p,b,k){var L;for(L=0;16>L;++L)a(b,k+32*L,p,16)}function lo(p,b){var k,L=16;for(k=0;16>k;++k)L+=p[b-1+32*k]+p[b+k-32];Ko(L>>5,p,b)}function ko(p,b){var k,L=8;for(k=0;16>k;++k)L+=p[b-1+32*k];Ko(L>>4,p,b)}function fa(p,b){var k,L=8;for(k=0;16>k;++k)L+=p[b+k-32];Ko(L>>4,p,b)}function Ha(p,b){Ko(128,p,b)}function Ft(p,b,k){return p+2*b+k+2>>2}function Ji(p,b){var k,L=b-32;for(L=new Uint8Array([Ft(p[L-1],p[L+0],p[L+1]),Ft(p[L+0],p[L+1],p[L+2]),Ft(p[L+1],p[L+2],p[L+3]),Ft(p[L+2],p[L+3],p[L+4])]),k=0;4>k;++k)r(p,b+32*k,L,0,L.length)}function No(p,b){var k=p[b-1],L=p[b-1+32],z=p[b-1+64],H=p[b-1+96];qe(p,b+0,16843009*Ft(p[b-1-32],k,L)),qe(p,b+32,16843009*Ft(k,L,z)),qe(p,b+64,16843009*Ft(L,z,H)),qe(p,b+96,16843009*Ft(z,H,H))}function fu(p,b){var k,L=4;for(k=0;4>k;++k)L+=p[b+k-32]+p[b-1+32*k];for(L>>=3,k=0;4>k;++k)a(p,b+32*k,L,4)}function mc(p,b){var k=p[b-1+0],L=p[b-1+32],z=p[b-1+64],H=p[b-1-32],V=p[b+0-32],J=p[b+1-32],Q=p[b+2-32],ae=p[b+3-32];p[b+0+96]=Ft(L,z,p[b-1+96]),p[b+1+96]=p[b+0+64]=Ft(k,L,z),p[b+2+96]=p[b+1+64]=p[b+0+32]=Ft(H,k,L),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Ft(V,H,k),p[b+3+64]=p[b+2+32]=p[b+1+0]=Ft(J,V,H),p[b+3+32]=p[b+2+0]=Ft(Q,J,V),p[b+3+0]=Ft(ae,Q,J)}function Fa(p,b){var k=p[b+1-32],L=p[b+2-32],z=p[b+3-32],H=p[b+4-32],V=p[b+5-32],J=p[b+6-32],Q=p[b+7-32];p[b+0+0]=Ft(p[b+0-32],k,L),p[b+1+0]=p[b+0+32]=Ft(k,L,z),p[b+2+0]=p[b+1+32]=p[b+0+64]=Ft(L,z,H),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Ft(z,H,V),p[b+3+32]=p[b+2+64]=p[b+1+96]=Ft(H,V,J),p[b+3+64]=p[b+2+96]=Ft(V,J,Q),p[b+3+96]=Ft(J,Q,Q)}function Xo(p,b){var k=p[b-1+0],L=p[b-1+32],z=p[b-1+64],H=p[b-1-32],V=p[b+0-32],J=p[b+1-32],Q=p[b+2-32],ae=p[b+3-32];p[b+0+0]=p[b+1+64]=H+V+1>>1,p[b+1+0]=p[b+2+64]=V+J+1>>1,p[b+2+0]=p[b+3+64]=J+Q+1>>1,p[b+3+0]=Q+ae+1>>1,p[b+0+96]=Ft(z,L,k),p[b+0+64]=Ft(L,k,H),p[b+0+32]=p[b+1+96]=Ft(k,H,V),p[b+1+32]=p[b+2+96]=Ft(H,V,J),p[b+2+32]=p[b+3+96]=Ft(V,J,Q),p[b+3+32]=Ft(J,Q,ae)}function pc(p,b){var k=p[b+0-32],L=p[b+1-32],z=p[b+2-32],H=p[b+3-32],V=p[b+4-32],J=p[b+5-32],Q=p[b+6-32],ae=p[b+7-32];p[b+0+0]=k+L+1>>1,p[b+1+0]=p[b+0+64]=L+z+1>>1,p[b+2+0]=p[b+1+64]=z+H+1>>1,p[b+3+0]=p[b+2+64]=H+V+1>>1,p[b+0+32]=Ft(k,L,z),p[b+1+32]=p[b+0+96]=Ft(L,z,H),p[b+2+32]=p[b+1+96]=Ft(z,H,V),p[b+3+32]=p[b+2+96]=Ft(H,V,J),p[b+3+64]=Ft(V,J,Q),p[b+3+96]=Ft(J,Q,ae)}function Cs(p,b){var k=p[b-1+0],L=p[b-1+32],z=p[b-1+64],H=p[b-1+96];p[b+0+0]=k+L+1>>1,p[b+2+0]=p[b+0+32]=L+z+1>>1,p[b+2+32]=p[b+0+64]=z+H+1>>1,p[b+1+0]=Ft(k,L,z),p[b+3+0]=p[b+1+32]=Ft(L,z,H),p[b+3+32]=p[b+1+64]=Ft(z,H,H),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=H}function Qi(p,b){var k=p[b-1+0],L=p[b-1+32],z=p[b-1+64],H=p[b-1+96],V=p[b-1-32],J=p[b+0-32],Q=p[b+1-32],ae=p[b+2-32];p[b+0+0]=p[b+2+32]=k+V+1>>1,p[b+0+32]=p[b+2+64]=L+k+1>>1,p[b+0+64]=p[b+2+96]=z+L+1>>1,p[b+0+96]=H+z+1>>1,p[b+3+0]=Ft(J,Q,ae),p[b+2+0]=Ft(V,J,Q),p[b+1+0]=p[b+3+32]=Ft(k,V,J),p[b+1+32]=p[b+3+64]=Ft(L,k,V),p[b+1+64]=p[b+3+96]=Ft(z,L,k),p[b+1+96]=Ft(H,z,L)}function bl(p,b){var k;for(k=0;8>k;++k)r(p,b+32*k,p,b-32,8)}function co(p,b){var k;for(k=0;8>k;++k)a(p,b,p[b-1],8),b+=32}function Ao(p,b,k){var L;for(L=0;8>L;++L)a(b,k+32*L,p,8)}function uo(p,b){var k,L=8;for(k=0;8>k;++k)L+=p[b+k-32]+p[b-1+32*k];Ao(L>>4,p,b)}function Ls(p,b){var k,L=4;for(k=0;8>k;++k)L+=p[b+k-32];Ao(L>>3,p,b)}function wl(p,b){var k,L=4;for(k=0;8>k;++k)L+=p[b-1+32*k];Ao(L>>3,p,b)}function xl(p,b){Ao(128,p,b)}function Jo(p,b,k){var L=p[b-k],z=p[b+0],H=3*(z-L)+Ro[1020+p[b-2*k]-p[b+k]],V=js[112+(H+4>>3)];p[b-k]=ia[255+L+js[112+(H+3>>3)]],p[b+0]=ia[255+z-V]}function Co(p,b,k,L){var z=p[b+0],H=p[b+k];return Va[255+p[b-2*k]-p[b-k]]>L||Va[255+H-z]>L}function Zi(p,b,k,L){return 4*Va[255+p[b-k]-p[b+0]]+Va[255+p[b-2*k]-p[b+k]]<=L}function es(p,b,k,L,z){var H=p[b-3*k],V=p[b-2*k],J=p[b-k],Q=p[b+0],ae=p[b+k],ge=p[b+2*k],ke=p[b+3*k];return 4*Va[255+J-Q]+Va[255+V-ae]>L?0:Va[255+p[b-4*k]-H]<=z&&Va[255+H-V]<=z&&Va[255+V-J]<=z&&Va[255+ke-ge]<=z&&Va[255+ge-ae]<=z&&Va[255+ae-Q]<=z}function $a(p,b,k,L){var z=2*L+1;for(L=0;16>L;++L)Zi(p,b+L,k,z)&&Jo(p,b+L,k)}function Qo(p,b,k,L){var z=2*L+1;for(L=0;16>L;++L)Zi(p,b+L*k,1,z)&&Jo(p,b+L*k,1)}function bi(p,b,k,L){var z;for(z=3;0<z;--z)$a(p,b+=4*k,k,L)}function Ps(p,b,k,L){var z;for(z=3;0<z;--z)Qo(p,b+=4,k,L)}function Yr(p,b,k,L,z,H,V,J){for(H=2*H+1;0<z--;){if(es(p,b,k,H,V))if(Co(p,b,k,J))Jo(p,b,k);else{var Q=p,ae=b,ge=k,ke=Q[ae-2*ge],oe=Q[ae-ge],be=Q[ae+0],_e=Q[ae+ge],Oe=Q[ae+2*ge],Ae=27*(De=Ro[1020+3*(be-oe)+Ro[1020+ke-_e]])+63>>7,Fe=18*De+63>>7,De=9*De+63>>7;Q[ae-3*ge]=ia[255+Q[ae-3*ge]+De],Q[ae-2*ge]=ia[255+ke+Fe],Q[ae-ge]=ia[255+oe+Ae],Q[ae+0]=ia[255+be-Ae],Q[ae+ge]=ia[255+_e-Fe],Q[ae+2*ge]=ia[255+Oe-De]}b+=L}}function Da(p,b,k,L,z,H,V,J){for(H=2*H+1;0<z--;){if(es(p,b,k,H,V))if(Co(p,b,k,J))Jo(p,b,k);else{var Q=p,ae=b,ge=k,ke=Q[ae-ge],oe=Q[ae+0],be=Q[ae+ge],_e=js[112+(4+(Oe=3*(oe-ke))>>3)],Oe=js[112+(Oe+3>>3)],Ae=_e+1>>1;Q[ae-2*ge]=ia[255+Q[ae-2*ge]+Ae],Q[ae-ge]=ia[255+ke+Oe],Q[ae+0]=ia[255+oe-_e],Q[ae+ge]=ia[255+be-Ae]}b+=L}}function E(p,b,k,L,z,H){Yr(p,b,k,1,16,L,z,H)}function B(p,b,k,L,z,H){Yr(p,b,1,k,16,L,z,H)}function ie(p,b,k,L,z,H){var V;for(V=3;0<V;--V)Da(p,b+=4*k,k,1,16,L,z,H)}function me(p,b,k,L,z,H){var V;for(V=3;0<V;--V)Da(p,b+=4,1,k,16,L,z,H)}function Ee(p,b,k,L,z,H,V,J){Yr(p,b,z,1,8,H,V,J),Yr(k,L,z,1,8,H,V,J)}function Ie(p,b,k,L,z,H,V,J){Yr(p,b,1,z,8,H,V,J),Yr(k,L,1,z,8,H,V,J)}function ze(p,b,k,L,z,H,V,J){Da(p,b+4*z,z,1,8,H,V,J),Da(k,L+4*z,z,1,8,H,V,J)}function lt(p,b,k,L,z,H,V,J){Da(p,b+4,1,z,8,H,V,J),Da(k,L+4,1,z,8,H,V,J)}function dt(){this.ba=new ln,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hn(){this.ua=0,this.Wa=new It,this.vb=new It,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new j}function Yn(){this.xb=this.a=0,this.l=new xr,this.ca=new ln,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hn,this.ab=0,this.gc=l(4,Wt),this.Oc=0}function hr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yn(p,b,k,L,z,H,V){for(p=p==null?0:p[b+0],b=0;b<V;++b)z[H+b]=p+k[L+b]&255,p=z[H+b]}function Er(p,b,k,L,z,H,V){var J;if(p==null)yn(null,null,k,L,z,H,V);else for(J=0;J<V;++J)z[H+J]=p[b+J]+k[L+J]&255}function mr(p,b,k,L,z,H,V){if(p==null)yn(null,null,k,L,z,H,V);else{var J,Q=p[b+0],ae=Q,ge=Q;for(J=0;J<V;++J)ae=ge+(Q=p[b+J])-ae,ge=k[L+J]+(-256&ae?0>ae?0:255:ae)&255,ae=Q,z[H+J]=ge}}function zr(p,b,k,L){var z=b.width,H=b.o;if(e(p!=null&&b!=null),0>k||0>=L||k+L>H)return null;if(!p.Cc){if(p.ga==null){var V;if(p.ga=new hr,(V=p.ga==null)||(V=b.width*b.o,e(p.Gb.length==0),p.Gb=i(V),p.Uc=0,p.Gb==null?V=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,V=1),V=!V),!V){V=p.ga;var J=p.Fa,Q=p.P,ae=p.qc,ge=p.mb,ke=p.nb,oe=Q+1,be=ae-1,_e=V.l;if(e(J!=null&&ge!=null&&b!=null),Gr[0]=null,Gr[1]=yn,Gr[2]=Er,Gr[3]=mr,V.ca=ge,V.tb=ke,V.c=b.width,V.i=b.height,e(0<V.c&&0<V.i),1>=ae)b=0;else if(V.$a=3&J[Q+0],V.Z=J[Q+0]>>2&3,V.Lc=J[Q+0]>>4&3,Q=J[Q+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||Q)b=0;else if(_e.put=pe,_e.ac=he,_e.bc=Pe,_e.ma=V,_e.width=b.width,_e.height=b.height,_e.Da=b.Da,_e.v=b.v,_e.va=b.va,_e.j=b.j,_e.o=b.o,V.$a)e:{e(V.$a==1),b=vn();t:for(;;){if(b==null){b=0;break e}if(e(V!=null),V.mc=b,b.c=V.c,b.i=V.i,b.l=V.l,b.l.ma=V,b.l.width=V.c,b.l.height=V.i,b.a=0,de(b.m,J,oe,be),!Jt(V.c,V.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ot(b.s)?(V.ic=1,J=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(J),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(V.ic=0,b=$r(b,V.c)),!b))break t;b=1;break e}V.mc=null,b=0}else b=be>=V.c*V.i;V=!b}if(V)return null;p.ga.Lc!=1?p.Ga=0:L=H-k}e(p.ga!=null),e(k+L<=H);e:{if(b=(J=p.ga).c,H=J.l.o,J.$a==0){if(oe=p.rc,be=p.Vc,_e=p.Fa,Q=p.P+1+k*b,ae=p.mb,ge=p.nb+k*b,e(Q<=p.P+p.qc),J.Z!=0)for(e(Gr[J.Z]!=null),V=0;V<L;++V)Gr[J.Z](oe,be,_e,Q,ae,ge,b),oe=ae,be=ge,ge+=b,Q+=b;else for(V=0;V<L;++V)r(ae,ge,_e,Q,b),oe=ae,be=ge,ge+=b,Q+=b;p.rc=oe,p.Vc=be}else{if(e(J.mc!=null),b=k+L,e((V=J.mc)!=null),e(b<=V.i),V.C>=b)b=1;else if(J.ic||ts(),J.ic){J=V.V,oe=V.Ba,be=V.c;var Oe=V.i,Ae=(_e=1,Q=V.$/be,ae=V.$%be,ge=V.m,ke=V.s,V.$),Fe=be*Oe,De=be*b,je=ke.wc,Be=Ae<De?tt(ke,ae,Q):null;e(Ae<=Fe),e(b<=Oe),e(ot(ke));t:for(;;){for(;!ge.h&&Ae<De;){if(ae&je||(Be=tt(ke,ae,Q)),e(Be!=null),xe(ge),256>(Oe=Ke(Be.G[0],Be.H[0],ge)))J[oe+Ae]=Oe,++Ae,++ae>=be&&(ae=0,++Q<=b&&!(Q%16)&&Kt(V,Q));else{if(!(280>Oe)){_e=0;break t}Oe=Ve(Oe-256,ge);var wt,it=Ke(Be.G[4],Be.H[4],ge);if(xe(ge),!(Ae>=(it=nt(be,it=Ve(it,ge)))&&Fe-Ae>=Oe)){_e=0;break t}for(wt=0;wt<Oe;++wt)J[oe+Ae+wt]=J[oe+Ae+wt-it];for(Ae+=Oe,ae+=Oe;ae>=be;)ae-=be,++Q<=b&&!(Q%16)&&Kt(V,Q);Ae<De&&ae&je&&(Be=tt(ke,ae,Q))}e(ge.h==se(ge))}Kt(V,Q>b?b:Q);break t}!_e||ge.h&&Ae<Fe?(_e=0,V.a=ge.h?5:3):V.$=Ae,b=_e}else b=_n(V,V.V,V.Ba,V.c,V.i,b,Ma);if(!b){L=0;break e}}k+L>=H&&(p.Cc=1),L=1}if(!L)return null;if(p.Cc&&((L=p.ga)!=null&&(L.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+k*z}function Zo(p,b,k,L,z,H){for(;0<z--;){var V,J=p,Q=b+(k?1:0),ae=p,ge=b+(k?0:3);for(V=0;V<L;++V){var ke=ae[ge+4*V];ke!=255&&(ke*=32897,J[Q+4*V+0]=J[Q+4*V+0]*ke>>23,J[Q+4*V+1]=J[Q+4*V+1]*ke>>23,J[Q+4*V+2]=J[Q+4*V+2]*ke>>23)}b+=H}}function wi(p,b,k,L,z){for(;0<L--;){var H;for(H=0;H<k;++H){var V=p[b+2*H+0],J=15&(ae=p[b+2*H+1]),Q=4369*J,ae=(240&ae|ae>>4)*Q>>16;p[b+2*H+0]=(240&V|V>>4)*Q>>16&240|(15&V|V<<4)*Q>>16>>4&15,p[b+2*H+1]=240&ae|J}b+=z}}function gc(p,b,k,L,z,H,V,J){var Q,ae,ge=255;for(ae=0;ae<z;++ae){for(Q=0;Q<L;++Q){var ke=p[b+Q];H[V+4*Q]=ke,ge&=ke}b+=k,V+=J}return ge!=255}function vc(p,b,k,L,z){var H;for(H=0;H<z;++H)k[L+H]=p[b+H]>>8}function ts(){is=Zo,gu=wi,Al=gc,vu=vc}function fo(p,b,k){T[p]=function(L,z,H,V,J,Q,ae,ge,ke,oe,be,_e,Oe,Ae,Fe,De,je){var Be,wt=je-1>>1,it=J[Q+0]|ae[ge+0]<<16,Ht=ke[oe+0]|be[_e+0]<<16;e(L!=null);var ft=3*it+Ht+131074>>2;for(b(L[z+0],255&ft,ft>>16,Oe,Ae),H!=null&&(ft=3*Ht+it+131074>>2,b(H[V+0],255&ft,ft>>16,Fe,De)),Be=1;Be<=wt;++Be){var tn=J[Q+Be]|ae[ge+Be]<<16,Zn=ke[oe+Be]|be[_e+Be]<<16,$t=it+tn+Ht+Zn+524296,st=$t+2*(tn+Ht)>>3;ft=st+it>>1,it=($t=$t+2*(it+Zn)>>3)+tn>>1,b(L[z+2*Be-1],255&ft,ft>>16,Oe,Ae+(2*Be-1)*k),b(L[z+2*Be-0],255&it,it>>16,Oe,Ae+(2*Be-0)*k),H!=null&&(ft=$t+Ht>>1,it=st+Zn>>1,b(H[V+2*Be-1],255&ft,ft>>16,Fe,De+(2*Be-1)*k),b(H[V+2*Be+0],255&it,it>>16,Fe,De+(2*Be+0)*k)),it=tn,Ht=Zn}1&je||(ft=3*it+Ht+131074>>2,b(L[z+je-1],255&ft,ft>>16,Oe,Ae+(je-1)*k),H!=null&&(ft=3*Ht+it+131074>>2,b(H[V+je-1],255&ft,ft>>16,Fe,De+(je-1)*k)))}}function El(){ya[Sc]=Sh,ya[Ai]=Ci,ya[kd]=kh,ya[Cl]=qs,ya[Ll]=us,ya[Pn]=Fl,ya[kc]=Nu,ya[Bs]=Ci,ya[ss]=qs,ya[Pl]=us,ya[Tl]=Fl}function xi(p){return p&-16384?0>p?0:255:p>>Li}function Ei(p,b){return xi((19077*p>>8)+(26149*b>>8)-14234)}function Fr(p,b,k){return xi((19077*p>>8)-(6419*b>>8)-(13320*k>>8)+8708)}function ei(p,b){return xi((19077*p>>8)+(33050*b>>8)-17685)}function Lo(p,b,k,L,z){L[z+0]=Ei(p,k),L[z+1]=Fr(p,b,k),L[z+2]=ei(p,b)}function Ts(p,b,k,L,z){L[z+0]=ei(p,b),L[z+1]=Fr(p,b,k),L[z+2]=Ei(p,k)}function _l(p,b,k,L,z){var H=Fr(p,b,k);b=H<<3&224|ei(p,b)>>3,L[z+0]=248&Ei(p,k)|H>>5,L[z+1]=b}function na(p,b,k,L,z){var H=240&ei(p,b)|15;L[z+0]=240&Ei(p,k)|Fr(p,b,k)>>4,L[z+1]=H}function yc(p,b,k,L,z){L[z+0]=255,Lo(p,b,k,L,z+1)}function Ms(p,b,k,L,z){Ts(p,b,k,L,z),L[z+3]=255}function bc(p,b,k,L,z){Lo(p,b,k,L,z),L[z+3]=255}function _r(p,b){return 0>p?0:p>b?b:p}function ha(p,b,k){T[p]=function(L,z,H,V,J,Q,ae,ge,ke){for(var oe=ge+(-2&ke)*k;ge!=oe;)b(L[z+0],H[V+0],J[Q+0],ae,ge),b(L[z+1],H[V+0],J[Q+0],ae,ge+k),z+=2,++V,++Q,ge+=2*k;1&ke&&b(L[z+0],H[V+0],J[Q+0],ae,ge)}}function ti(p,b,k){return k==0?p==0?b==0?6:5:b==0?4:0:k}function Sl(p,b,k,L,z){switch(p>>>30){case 3:ir(b,k,L,z,0);break;case 2:Sr(b,k,L,z);break;case 1:ho(b,k,L,z)}}function ni(p,b){var k,L,z=b.M,H=b.Nb,V=p.oc,J=p.pc+40,Q=p.oc,ae=p.pc+584,ge=p.oc,ke=p.pc+600;for(k=0;16>k;++k)V[J+32*k-1]=129;for(k=0;8>k;++k)Q[ae+32*k-1]=129,ge[ke+32*k-1]=129;for(0<z?V[J-1-32]=Q[ae-1-32]=ge[ke-1-32]=129:(a(V,J-32-1,127,21),a(Q,ae-32-1,127,9),a(ge,ke-32-1,127,9)),L=0;L<p.za;++L){var oe=b.ya[b.aa+L];if(0<L){for(k=-1;16>k;++k)r(V,J+32*k-4,V,J+32*k+12,4);for(k=-1;8>k;++k)r(Q,ae+32*k-4,Q,ae+32*k+4,4),r(ge,ke+32*k-4,ge,ke+32*k+4,4)}var be=p.Gd,_e=p.Hd+L,Oe=oe.ad,Ae=oe.Hc;if(0<z&&(r(V,J-32,be[_e].y,0,16),r(Q,ae-32,be[_e].f,0,8),r(ge,ke-32,be[_e].ea,0,8)),oe.Za){var Fe=V,De=J-32+16;for(0<z&&(L>=p.za-1?a(Fe,De,be[_e].y[15],4):r(Fe,De,be[_e+1].y,0,4)),k=0;4>k;k++)Fe[De+128+k]=Fe[De+256+k]=Fe[De+384+k]=Fe[De+0+k];for(k=0;16>k;++k,Ae<<=2)Fe=V,De=J+Au[k],Ya[oe.Ob[k]](Fe,De),Sl(Ae,Oe,16*+k,Fe,De)}else if(Fe=ti(L,z,oe.Ob[0]),sa[Fe](V,J),Ae!=0)for(k=0;16>k;++k,Ae<<=2)Sl(Ae,Oe,16*+k,V,J+Au[k]);for(k=oe.Gc,Fe=ti(L,z,oe.Dd),va[Fe](Q,ae),va[Fe](ge,ke),Ae=Oe,Fe=Q,De=ae,255&(oe=0|k)&&(170&oe?Mo(Ae,256,Fe,De):Os(Ae,256,Fe,De)),oe=ge,Ae=ke,255&(k>>=8)&&(170&k?Mo(Oe,320,oe,Ae):Os(Oe,320,oe,Ae)),z<p.Ub-1&&(r(be[_e].y,0,V,J+480,16),r(be[_e].f,0,Q,ae+224,8),r(be[_e].ea,0,ge,ke+224,8)),k=8*H*p.B,be=p.sa,_e=p.ta+16*L+16*H*p.R,Oe=p.qa,oe=p.ra+8*L+k,Ae=p.Ha,Fe=p.Ia+8*L+k,k=0;16>k;++k)r(be,_e+k*p.R,V,J+32*k,16);for(k=0;8>k;++k)r(Oe,oe+k*p.B,Q,ae+32*k,8),r(Ae,Fe+k*p.B,ge,ke+32*k,8)}}function ns(p,b,k,L,z,H,V,J,Q){var ae=[0],ge=[0],ke=0,oe=Q!=null?Q.kd:0,be=Q??new Lt;if(p==null||12>k)return 7;be.data=p,be.w=b,be.ha=k,b=[b],k=[k],be.gb=[be.gb];e:{var _e=b,Oe=k,Ae=be.gb;if(e(p!=null),e(Oe!=null),e(Ae!=null),Ae[0]=0,12<=Oe[0]&&!n(p,_e[0],"RIFF")){if(n(p,_e[0]+8,"WEBP")){Ae=3;break e}var Fe=Re(p,_e[0]+4);if(12>Fe||4294967286<Fe){Ae=3;break e}if(oe&&Fe>Oe[0]-8){Ae=7;break e}Ae[0]=Fe,_e[0]+=12,Oe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Fe=0<be.gb[0],k=k[0];;){e:{var De=p;Oe=b,Ae=k;var je=ae,Be=ge,wt=_e=[0];if((ft=ke=[ke])[0]=0,8>Ae[0])Ae=7;else{if(!n(De,Oe[0],"VP8X")){if(Re(De,Oe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var it=Re(De,Oe[0]+8),Ht=1+et(De,Oe[0]+12);if(2147483648<=Ht*(De=1+et(De,Oe[0]+15))){Ae=3;break e}wt!=null&&(wt[0]=it),je!=null&&(je[0]=Ht),Be!=null&&(Be[0]=De),Oe[0]+=18,Ae[0]-=18,ft[0]=1}Ae=0}}if(ke=ke[0],_e=_e[0],Ae!=0)return Ae;if(Oe=!!(2&_e),!Fe&&ke)return 3;if(H!=null&&(H[0]=!!(16&_e)),V!=null&&(V[0]=Oe),J!=null&&(J[0]=0),V=ae[0],_e=ge[0],ke&&Oe&&Q==null){Ae=0;break}if(4>k){Ae=7;break}if(Fe&&ke||!Fe&&!ke&&!n(p,b[0],"ALPH")){k=[k],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{it=p,Ae=b,Fe=k;var ft=be.gb;je=be.na,Be=be.P,wt=be.Sa,Ht=22,e(it!=null),e(Fe!=null),De=Ae[0];var tn=Fe[0];for(e(je!=null),e(wt!=null),je[0]=null,Be[0]=null,wt[0]=0;;){if(Ae[0]=De,Fe[0]=tn,8>tn){Ae=7;break e}var Zn=Re(it,De+4);if(4294967286<Zn){Ae=3;break e}var $t=8+Zn+1&-2;if(Ht+=$t,0<ft&&Ht>ft){Ae=3;break e}if(!n(it,De,"VP8 ")||!n(it,De,"VP8L")){Ae=0;break e}if(tn[0]<$t){Ae=7;break e}n(it,De,"ALPH")||(je[0]=it,Be[0]=De+8,wt[0]=Zn),De+=$t,tn-=$t}}if(k=k[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ae!=0)break}k=[k],be.Ja=[be.Ja],be.xa=[be.xa];e:if(ft=p,Ae=b,Fe=k,je=be.gb[0],Be=be.Ja,wt=be.xa,it=Ae[0],De=!n(ft,it,"VP8 "),Ht=!n(ft,it,"VP8L"),e(ft!=null),e(Fe!=null),e(Be!=null),e(wt!=null),8>Fe[0])Ae=7;else{if(De||Ht){if(ft=Re(ft,it+4),12<=je&&ft>je-12){Ae=3;break e}if(oe&&ft>Fe[0]-8){Ae=7;break e}Be[0]=ft,Ae[0]+=8,Fe[0]-=8,wt[0]=Ht}else wt[0]=5<=Fe[0]&&ft[it+0]==47&&!(ft[it+4]>>5),Be[0]=Fe[0];Ae=0}if(k=k[0],be.Ja=be.Ja[0],be.xa=be.xa[0],b=b[0],Ae!=0)break;if(4294967286<be.Ja)return 3;if(J==null||Oe||(J[0]=be.xa?2:1),V=[V],_e=[_e],be.xa){if(5>k){Ae=7;break}J=V,oe=_e,Oe=H,p==null||5>k?p=0:5<=k&&p[b+0]==47&&!(p[b+4]>>5)?(Fe=[0],ft=[0],je=[0],de(Be=new K,p,b,k),Ue(Be,Fe,ft,je)?(J!=null&&(J[0]=Fe[0]),oe!=null&&(oe[0]=ft[0]),Oe!=null&&(Oe[0]=je[0]),p=1):p=0):p=0}else{if(10>k){Ae=7;break}J=_e,p==null||10>k||!uc(p,b+3,k-3)?p=0:(oe=p[b+0]|p[b+1]<<8|p[b+2]<<16,Oe=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=be.Ja||!Oe||!p?p=0:(V&&(V[0]=Oe),J&&(J[0]=p),p=1))}if(!p||(V=V[0],_e=_e[0],ke&&(ae[0]!=V||ge[0]!=_e)))return 3;Q!=null&&(Q[0]=be,Q.offset=b-Q.w,e(4294967286>b-Q.w),e(Q.offset==Q.ha-k));break}return Ae==0||Ae==7&&ke&&Q==null?(H!=null&&(H[0]|=be.na!=null&&0<be.na.length),L!=null&&(L[0]=V),z!=null&&(z[0]=_e),0):Ae}function ra(p,b,k){var L=b.width,z=b.height,H=0,V=0,J=L,Q=z;if(b.Da=p!=null&&0<p.Da,b.Da&&(J=p.cd,Q=p.bd,H=p.v,V=p.j,11>k||(H&=-2,V&=-2),0>H||0>V||0>=J||0>=Q||H+J>L||V+Q>z))return 0;if(b.v=H,b.j=V,b.va=H+J,b.o=V+Q,b.U=J,b.T=Q,b.da=p!=null&&0<p.da,b.da){if(!kt(J,Q,k=[p.ib],H=[p.hb]))return 0;b.ib=k[0],b.hb=H[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*L/4&&b.hb<3*z/4,b.Kb=0),1}function aa(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function _i(p,b,k,L){if(L==null||0>=p||0>=b)return 2;if(k!=null){if(k.Da){var z=k.cd,H=k.bd,V=-2&k.v,J=-2&k.j;if(0>V||0>J||0>=z||0>=H||V+z>p||J+H>b)return 2;p=z,b=H}if(k.da){if(!kt(p,b,z=[k.ib],H=[k.hb]))return 2;p=z[0],b=H[0]}}L.width=p,L.height=b;e:{var Q=L.width,ae=L.height;if(p=L.S,0>=Q||0>=ae||!(p>=Sc&&13>p))p=2;else{if(0>=L.Rd&&L.sd==null){V=H=z=b=0;var ge=(J=Q*Dl[p])*ae;if(11>p||(H=(ae+1)/2*(b=(Q+1)/2),p==12&&(V=(z=Q)*ae)),(ae=i(ge+2*H+V))==null){p=1;break e}L.sd=ae,11>p?((Q=L.f.RGBA).eb=ae,Q.fb=0,Q.A=J,Q.size=ge):((Q=L.f.kb).y=ae,Q.O=0,Q.fa=J,Q.Fd=ge,Q.f=ae,Q.N=0+ge,Q.Ab=b,Q.Cd=H,Q.ea=ae,Q.W=0+ge+H,Q.Db=b,Q.Ed=H,p==12&&(Q.F=ae,Q.J=0+ge+2*H),Q.Tc=V,Q.lb=z)}if(b=1,z=L.S,H=L.width,V=L.height,z>=Sc&&13>z)if(11>z)p=L.f.RGBA,b&=(J=Math.abs(p.A))*(V-1)+H<=p.size,b&=J>=H*Dl[z],b&=p.eb!=null;else{p=L.f.kb,J=(H+1)/2,ge=(V+1)/2,Q=Math.abs(p.fa),ae=Math.abs(p.Ab);var ke=Math.abs(p.Db),oe=Math.abs(p.lb),be=oe*(V-1)+H;b&=Q*(V-1)+H<=p.Fd,b&=ae*(ge-1)+J<=p.Cd,b=(b&=ke*(ge-1)+J<=p.Ed)&Q>=H&ae>=J&ke>=J,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,z==12&&(b&=oe>=H,b&=be<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||k!=null&&k.fd&&(p=aa(L)),p}var oa=64,Si=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],kl=24,ki=32,Qn=8,wc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(p){return p},T.Predictor2=function(p,b,k){return b[k+0]},T.Predictor3=function(p,b,k){return b[k+1]},T.Predictor4=function(p,b,k){return b[k-1]},T.Predictor5=function(p,b,k){return vt(vt(p,b[k+1]),b[k+0])},T.Predictor6=function(p,b,k){return vt(p,b[k-1])},T.Predictor7=function(p,b,k){return vt(p,b[k+0])},T.Predictor8=function(p,b,k){return vt(b[k-1],b[k+0])},T.Predictor9=function(p,b,k){return vt(b[k+0],b[k+1])},T.Predictor10=function(p,b,k){return vt(vt(p,b[k-1]),vt(b[k+0],b[k+1]))},T.Predictor11=function(p,b,k){var L=b[k+0];return 0>=Nt(L>>24&255,p>>24&255,(b=b[k-1])>>24&255)+Nt(L>>16&255,p>>16&255,b>>16&255)+Nt(L>>8&255,p>>8&255,b>>8&255)+Nt(255&L,255&p,255&b)?L:p},T.Predictor12=function(p,b,k){var L=b[k+0];return(rn((p>>24&255)+(L>>24&255)-((b=b[k-1])>>24&255))<<24|rn((p>>16&255)+(L>>16&255)-(b>>16&255))<<16|rn((p>>8&255)+(L>>8&255)-(b>>8&255))<<8|rn((255&p)+(255&L)-(255&b)))>>>0},T.Predictor13=function(p,b,k){var L=b[k-1];return(Dt((p=vt(p,b[k+0]))>>24&255,L>>24&255)<<24|Dt(p>>16&255,L>>16&255)<<16|Dt(p>>8&255,L>>8&255)<<8|Dt(255&p,255&L))>>>0};var ma=T.PredictorAdd0;T.PredictorAdd1=Yt,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var pa=T.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Rs,Ni=T.ColorIndexInverseTransform,Fs=T.MapARGB,rs=T.VP8LColorIndexInverseTransformAlpha,ri=T.MapAlpha,ai=T.VP8LPredictorsAdd=[];ai.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Po,Ds,ga,To,In,jn,or,ir,Sr,Mo,ho,Os,hu,mu,xc,_d,Sd,as,Ec,Is,_c,pu,Nl,os,is,gu,Al,vu,yu=i(511),bu=i(2041),wu=i(225),xu=i(767),Eu=0,Ro=bu,js=wu,ia=xu,Va=yu,Sc=0,Ai=1,kd=2,Cl=3,Ll=4,Pn=5,kc=6,Bs=7,ss=8,Pl=9,Tl=10,Ml=[2,3,7],Nc=[3,3,11],ls=[280,256,256,256,40],Nd=[0,1,1,1,0],wh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ad=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ac=8,zs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cs=null,_u=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Su=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ld=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Eh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_h=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ku=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sa=[],Ya=[],va=[],Fo=1,Us=2,Gr=[],ya=[];fo("UpsampleRgbLinePair",Lo,3),fo("UpsampleBgrLinePair",Ts,3),fo("UpsampleRgbaLinePair",bc,4),fo("UpsampleBgraLinePair",Ms,4),fo("UpsampleArgbLinePair",yc,4),fo("UpsampleRgba4444LinePair",na,2),fo("UpsampleRgb565LinePair",_l,2);var Sh=T.UpsampleRgbLinePair,kh=T.UpsampleBgrLinePair,Ci=T.UpsampleRgbaLinePair,qs=T.UpsampleBgraLinePair,us=T.UpsampleArgbLinePair,Fl=T.UpsampleRgba4444LinePair,Nu=T.UpsampleRgb565LinePair,oi=16,mo=1<<oi-1,kn=-227,Nn=482,Li=6,Ur=0,ba=i(256),ds=i(256),Ws=i(256),wa=i(256),Cc=i(Nn-kn),Pd=i(Nn-kn);ha("YuvToRgbRow",Lo,3),ha("YuvToBgrRow",Ts,3),ha("YuvToRgbaRow",bc,4),ha("YuvToBgraRow",Ms,4),ha("YuvToArgbRow",yc,4),ha("YuvToRgba4444Row",na,2),ha("YuvToRgb565Row",_l,2);var Au=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fs=[0,2,8],Td=[8,7,6,4,4,2,2,2,1,1,1,1],ii=1;this.WebPDecodeRGBA=function(p,b,k,L,z){var H=Ai,V=new dt,J=new ln;V.ba=J,J.S=H,J.width=[J.width],J.height=[J.height];var Q=J.width,ae=J.height,ge=new Rt;if(ge==null||p==null)var ke=2;else e(ge!=null),ke=ns(p,b,k,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(ke!=0?Q=0:(Q!=null&&(Q[0]=ge.width[0]),ae!=null&&(ae[0]=ge.height[0]),Q=1),Q){J.width=J.width[0],J.height=J.height[0],L!=null&&(L[0]=J.width),z!=null&&(z[0]=J.height);e:{if(L=new xr,(z=new Lt).data=p,z.w=b,z.ha=k,z.kd=1,b=[0],e(z!=null),((p=ns(z.data,z.w,z.ha,null,null,null,b,null,z))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(V!=null),L.data=z.data,L.w=z.w+z.offset,L.ha=z.ha-z.offset,L.put=pe,L.ac=he,L.bc=Pe,L.ma=V,z.xa){if((p=vn())==null){V=1;break e}if(function(oe,be){var _e=[0],Oe=[0],Ae=[0];t:for(;;){if(oe==null)return 0;if(be==null)return oe.a=2,0;if(oe.l=be,oe.a=0,de(oe.m,be.data,be.w,be.ha),!Ue(oe.m,_e,Oe,Ae)){oe.a=3;break t}if(oe.xb=Us,be.width=_e[0],be.height=Oe[0],!Jt(_e[0],Oe[0],1,oe,null))break t;return 1}return e(oe.a!=0),0}(p,L)){if(L=(b=_i(L.width,L.height,V.Oa,V.ba))==0){t:{L=p;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((k=L.l)!=null),e((z=k.ma)!=null),L.xb!=0){if(L.ca=z.ba,L.tb=z.tb,e(L.ca!=null),!ra(z.Oa,k,Cl)){L.a=2;break n}if(!$r(L,k.width)||k.da)break n;if((k.da||Mt(L.ca.S))&&ts(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&ts()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!le(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!_n(L,L.V,L.Ba,L.c,L.i,k.o,ct))break n;z.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(b=p.a)}else b=p.a}else{if((p=new gl)==null){V=1;break e}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,Yi(p,L)){if((b=_i(L.width,L.height,V.Oa,V.ba))==0){if(p.Aa=0,k=V.Oa,e((z=p)!=null),k!=null){if(0<(Q=0>(Q=k.Md)?0:100<Q?255:255*Q/100)){for(ae=ge=0;4>ae;++ae)12>(ke=z.pb[ae]).lc&&(ke.ia=Q*Td[0>ke.lc?0:ke.lc]>>3),ge|=ke.ia;ge&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=k.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(oe,be){if(oe==null)return 0;if(be==null)return fr(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Yi(oe,be))return 0;if(e(oe.cb),be.ac==null||be.ac(be)){be.ob&&(oe.L=0);var _e=fs[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=be.v-_e>>4,oe.zb=be.j-_e>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=be.o+15+_e>>4,oe.Hb=be.va+15+_e>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Oe=oe.ed;for(_e=0;4>_e;++_e){var Ae;if(oe.Qa.Cb){var Fe=oe.Qa.Lb[_e];oe.Qa.Fb||(Fe+=Oe.Tb)}else Fe=Oe.Tb;for(Ae=0;1>=Ae;++Ae){var De=oe.gd[_e][Ae],je=Fe;if(Oe.Pc&&(je+=Oe.vd[0],Ae&&(je+=Oe.od[0])),0<(je=0>je?0:63<je?63:je)){var Be=je;0<Oe.wb&&(Be=4<Oe.wb?Be>>2:Be>>1)>9-Oe.wb&&(Be=9-Oe.wb),1>Be&&(Be=1),De.dd=Be,De.tc=2*je+Be,De.ld=40<=je?2:15<=je?1:0}else De.tc=0;De.La=Ae}}}_e=0}else fr(oe,6,"Frame setup failed"),_e=oe.a;if(_e=_e==0){if(_e){oe.$c=0,0<oe.Aa||(oe.Ic=ii);t:{_e=oe.Ic,Oe=4*(Be=oe.za);var wt=32*Be,it=Be+1,Ht=0<oe.L?Be*(0<oe.Aa?2:1):0,ft=(oe.Aa==2?2:1)*Be;if((De=Oe+832+(Ae=3*(16*_e+fs[oe.L])/2*wt)+(Fe=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=De)_e=0;else{if(De>oe.Vb){if(oe.Vb=0,oe.Ec=i(De),oe.Fc=0,oe.Ec==null){_e=fr(oe,1,"no memory during frame initialization.");break t}oe.Vb=De}De=oe.Ec,je=oe.Fc,oe.Ac=De,oe.Bc=je,je+=Oe,oe.Gd=l(wt,cn),oe.Hd=0,oe.rb=l(it+1,Qt),oe.sb=1,oe.wa=Ht?l(Ht,Rr):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Be),e(!0),oe.oc=De,oe.pc=je,je+=832,oe.ya=l(ft,io),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Be),oe.R=16*Be,oe.B=8*Be,Be=(wt=fs[oe.L])*oe.R,wt=wt/2*oe.B,oe.sa=De,oe.ta=je+Be,oe.qa=oe.sa,oe.ra=oe.ta+16*_e*oe.R+wt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*_e*oe.B+wt,oe.$c=0,je+=Ae,oe.mb=Fe?De:null,oe.nb=Fe?je:null,e(je+Fe<=oe.Fc+oe.Vb),so(oe),a(oe.Ac,oe.Bc,0,Oe),_e=1}}if(_e){if(be.ka=0,be.y=oe.sa,be.O=oe.ta,be.f=oe.qa,be.N=oe.ra,be.ea=oe.Ha,be.Vd=oe.Ia,be.fa=oe.R,be.Rc=oe.B,be.F=null,be.J=0,!Eu){for(_e=-255;255>=_e;++_e)yu[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)bu[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)wu[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)xu[255+_e]=0>_e?0:255<_e?255:_e;Eu=1}or=dn,ir=vl,Mo=Xi,ho=So,Os=ks,Sr=dc,hu=E,mu=B,xc=Ee,_d=Ie,Sd=ie,as=me,Ec=ze,Is=lt,_c=$a,pu=Qo,Nl=bi,os=Ps,Ya[0]=fu,Ya[1]=Ns,Ya[2]=Ji,Ya[3]=No,Ya[4]=mc,Ya[5]=Xo,Ya[6]=Fa,Ya[7]=pc,Ya[8]=Qi,Ya[9]=Cs,sa[0]=lo,sa[1]=fc,sa[2]=hc,sa[3]=As,sa[4]=ko,sa[5]=fa,sa[6]=Ha,va[0]=uo,va[1]=yl,va[2]=bl,va[3]=co,va[4]=wl,va[5]=Ls,va[6]=xl,_e=1}else _e=0}_e&&(_e=function(tn,Zn){for(tn.M=0;tn.M<tn.Va;++tn.M){var $t,st=tn.Jc[tn.M&tn.Xb],Je=tn.m,sr=tn;for($t=0;$t<sr.za;++$t){var jt=Je,Zt=sr,Bn=Zt.Ac,Dr=Zt.Bc+4*$t,pr=Zt.zc,Gn=Zt.ya[Zt.aa+$t];if(Zt.Qa.Bb?Gn.$b=Me(jt,Zt.Pa.jb[0])?2+Me(jt,Zt.Pa.jb[2]):Me(jt,Zt.Pa.jb[1]):Gn.$b=0,Zt.kc&&(Gn.Ad=Me(jt,Zt.Bd)),Gn.Za=!Me(jt,145)+0,Gn.Za){var kr=Gn.Ob,Or=0;for(Zt=0;4>Zt;++Zt){var Hn,on=pr[0+Zt];for(Hn=0;4>Hn;++Hn){on=Eh[Bn[Dr+Hn]][on];for(var mn=Cd[Me(jt,on[0])];0<mn;)mn=Cd[2*mn+Me(jt,on[mn])];on=-mn,Bn[Dr+Hn]=on}r(kr,Or,Bn,Dr,4),Or+=4,pr[0+Zt]=on}}else on=Me(jt,156)?Me(jt,128)?1:3:Me(jt,163)?2:0,Gn.Ob[0]=on,a(Bn,Dr,on,4),a(pr,0,on,4);Gn.Dd=Me(jt,142)?Me(jt,114)?Me(jt,183)?1:3:2:0}if(sr.m.Ka)return fr(tn,7,"Premature end-of-partition0 encountered.");for(;tn.ja<tn.za;++tn.ja){if(sr=st,jt=(Je=tn).rb[Je.sb-1],Bn=Je.rb[Je.sb+Je.ja],$t=Je.ya[Je.aa+Je.ja],Dr=Je.kc?$t.Ad:0)jt.la=Bn.la=0,$t.Za||(jt.Na=Bn.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var $n,pn;if(jt=Bn,Bn=sr,Dr=Je.Pa.Xc,pr=Je.ya[Je.aa+Je.ja],Gn=Je.pb[pr.$b],Zt=pr.ad,kr=0,Or=Je.rb[Je.sb-1],on=Hn=0,a(Zt,kr,0,384),pr.Za)var er=0,tr=Dr[3];else{mn=i(16);var Tn=jt.Na+Or.Na;if(Tn=cs(Bn,Dr[1],Tn,Gn.Eb,0,mn,0),jt.Na=Or.Na=(0<Tn)+0,1<Tn)or(mn,0,Zt,kr);else{var Kr=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)Zt[kr+mn]=Kr}er=1,tr=Dr[0]}var An=15&jt.la,Mn=15&Or.la;for(mn=0;4>mn;++mn){var gr=1&Mn;for(Kr=pn=0;4>Kr;++Kr)An=An>>1|(gr=(Tn=cs(Bn,tr,Tn=gr+(1&An),Gn.Sc,er,Zt,kr))>er)<<7,pn=pn<<2|(3<Tn?3:1<Tn?2:Zt[kr+0]!=0),kr+=16;An>>=4,Mn=Mn>>1|gr<<7,Hn=(Hn<<8|pn)>>>0}for(tr=An,er=Mn>>4,$n=0;4>$n;$n+=2){for(pn=0,An=jt.la>>4+$n,Mn=Or.la>>4+$n,mn=0;2>mn;++mn){for(gr=1&Mn,Kr=0;2>Kr;++Kr)Tn=gr+(1&An),An=An>>1|(gr=0<(Tn=cs(Bn,Dr[2],Tn,Gn.Qc,0,Zt,kr)))<<3,pn=pn<<2|(3<Tn?3:1<Tn?2:Zt[kr+0]!=0),kr+=16;An>>=2,Mn=Mn>>1|gr<<5}on|=pn<<4*$n,tr|=An<<4<<$n,er|=(240&Mn)<<$n}jt.la=tr,Or.la=er,pr.Hc=Hn,pr.Gc=on,pr.ia=43690&on?0:Gn.ia,Dr=!(Hn|on)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[$t.$b][$t.Za],Je.wa[Je.Y+Je.ja].La|=!Dr),sr.Ka)return fr(tn,7,"Premature end-of-file encountered.")}if(so(tn),Je=Zn,sr=1,$t=(st=tn).D,jt=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if($t.M=st.M,$t.uc=jt,ni(st,$t),sr=1,$t=(pn=st.D).Nb,jt=(on=fs[st.L])*st.R,Bn=on/2*st.B,mn=16*$t*st.R,Kr=8*$t*st.B,Dr=st.sa,pr=st.ta-jt+mn,Gn=st.qa,Zt=st.ra-Bn+Kr,kr=st.Ha,Or=st.Ia-Bn+Kr,Mn=(An=pn.M)==0,Hn=An>=st.Va-1,st.Aa==2&&ni(st,pn),pn.uc)for(gr=(Tn=st).D.M,e(Tn.D.uc),pn=Tn.yb;pn<Tn.Hb;++pn){er=pn,tr=gr;var qr=(xa=(ur=Tn).D).Nb;$n=ur.R;var xa=xa.wa[xa.Y+er],lr=ur.sa,cr=ur.ta+16*qr*$n+16*er,Xr=xa.dd,Rn=xa.tc;if(Rn!=0)if(e(3<=Rn),ur.L==1)0<er&&pu(lr,cr,$n,Rn+4),xa.La&&os(lr,cr,$n,Rn),0<tr&&_c(lr,cr,$n,Rn+4),xa.La&&Nl(lr,cr,$n,Rn);else{var Jr=ur.B,Ga=ur.qa,po=ur.ra+8*qr*Jr+8*er,Ir=ur.Ha,ur=ur.Ia+8*qr*Jr+8*er;qr=xa.ld,0<er&&(mu(lr,cr,$n,Rn+4,Xr,qr),_d(Ga,po,Ir,ur,Jr,Rn+4,Xr,qr)),xa.La&&(as(lr,cr,$n,Rn,Xr,qr),Is(Ga,po,Ir,ur,Jr,Rn,Xr,qr)),0<tr&&(hu(lr,cr,$n,Rn+4,Xr,qr),xc(Ga,po,Ir,ur,Jr,Rn+4,Xr,qr)),xa.La&&(Sd(lr,cr,$n,Rn,Xr,qr),Ec(Ga,po,Ir,ur,Jr,Rn,Xr,qr))}}if(st.ia&&alert("todo:DitherRow"),Je.put!=null){if(pn=16*An,An=16*(An+1),Mn?(Je.y=st.sa,Je.O=st.ta+mn,Je.f=st.qa,Je.N=st.ra+Kr,Je.ea=st.Ha,Je.W=st.Ia+Kr):(pn-=on,Je.y=Dr,Je.O=pr,Je.f=Gn,Je.N=Zt,Je.ea=kr,Je.W=Or),Hn||(An-=on),An>Je.o&&(An=Je.o),Je.F=null,Je.J=null,st.Fa!=null&&0<st.Fa.length&&pn<An&&(Je.J=zr(st,Je,pn,An-pn),Je.F=st.mb,Je.F==null&&Je.F.length==0)){sr=fr(st,3,"Could not decode alpha data.");break t}pn<Je.j&&(on=Je.j-pn,pn=Je.j,e(!(1&on)),Je.O+=st.R*on,Je.N+=st.B*(on>>1),Je.W+=st.B*(on>>1),Je.F!=null&&(Je.J+=Je.width*on)),pn<An&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=pn-Je.j,Je.U=Je.va-Je.v,Je.T=An-pn,sr=Je.put(Je))}$t+1!=st.Ic||Hn||(r(st.sa,st.ta-jt,Dr,pr+16*st.R,jt),r(st.qa,st.ra-Bn,Gn,Zt+8*st.B,Bn),r(st.Ha,st.Ia-Bn,kr,Or+8*st.B,Bn))}if(!sr)return fr(tn,6,"Output aborted.")}return 1}(oe,be)),be.bc!=null&&be.bc(be),_e&=1}return _e?(oe.cb=0,_e):0})(p,L)||(b=p.a)}}else b=p.a}b==0&&V.Oa!=null&&V.Oa.fd&&(b=aa(V.ba))}V=b}H=V!=0?null:11>H?J.f.RGBA.eb:J.f.kb.y}else H=null;return H};var Dl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,Y){for(var F="",M=0;M<4;M++)F+=String.fromCharCode(T[Y++]);return F}function h(T,Y){return T[Y+0]|T[Y+1]<<8}function y(T,Y){return(T[Y+0]|T[Y+1]<<8|T[Y+2]<<16)>>>0}function w(T,Y){return(T[Y+0]|T[Y+1]<<8|T[Y+2]<<16|T[Y+3]<<24)>>>0}new u;var g=[0],N=[0],_=[],S=new u,A=t,O=function(T,Y){var F={},M=0,j=!1,D=0,$=0;if(F.frames=[],!function(P,K){for(var Z=0;Z<4;Z++)if(P[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(T,Y)){for(w(T,Y+=4),Y+=8;Y<T.length;){var ne=d(T,Y),ce=w(T,Y+=4);Y+=4;var re=ce+(1&ce);switch(ne){case"VP8 ":case"VP8L":F.frames[M]===void 0&&(F.frames[M]={}),(G=F.frames[M]).src_off=j?$:Y-8,G.src_size=D+ce+8,M++,j&&(j=!1,D=0,$=0);break;case"VP8X":(G=F.header={}).feature_flags=T[Y];var de=Y+4;G.canvas_width=1+y(T,de),de+=3,G.canvas_height=1+y(T,de),de+=3;break;case"ALPH":j=!0,D=re+8,$=Y-8;break;case"ANIM":(G=F.header).bgcolor=w(T,Y),de=Y+4,G.loop_count=h(T,de),de+=2;break;case"ANMF":var ye,G;(G=F.frames[M]={}).offset_x=2*y(T,Y),Y+=3,G.offset_y=2*y(T,Y),Y+=3,G.width=1+y(T,Y),Y+=3,G.height=1+y(T,Y),Y+=3,G.duration=y(T,Y),Y+=3,ye=T[Y++],G.dispose=1&ye,G.blend=ye>>1&1}ne!="ANMF"&&(Y+=re)}return F}}(A,0);O.response=A,O.rgbaoutput=!0,O.dataurl=!1;var R=O.header?O.header:null,I=O.frames?O.frames:null;if(R){R.loop_counter=R.loop_count,g=[R.canvas_height],N=[R.canvas_width];for(var ee=0;ee<I.length&&I[ee].blend!=0;ee++);}var U=I[0],te=S.WebPDecodeRGBA(A,U.src_off,U.src_size,N,g);U.rgba=te,U.imgwidth=N[0],U.imgheight=g[0];for(var X=0;X<N[0]*g[0]*4;X++)_[X]=te[X];return this.width=N,this.height=g,this.data=_,this}(function(t){var e,n,r,a,i,l,c,u,d,h=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new u,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new l,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new l,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new h}]);var y=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=P;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Re){Z=!!Re}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Re){se=!!Re}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Re){isNaN(Re)||(fe=Re)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Re){isNaN(Re)||(xe=Re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Re){var le;typeof Re=="number"?le=[Re,Re,Re,Re]:((le=new Array(4))[0]=Re[0],le[1]=Re.length>=2?Re[1]:le[0],le[2]=Re.length>=3?Re[2]:le[0],le[3]=Re.length>=4?Re[3]:le[1]),d.margin=le}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Re){Ce=Re}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Re){Se=Re}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(Re){Me=Re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Re){Re instanceof h&&(d=Re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Re){d.path=Re}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Re){qe=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var le;le=w(Re),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var le=w(Re);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Ze=null,et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(Re){Ze=null,et=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var le;if(this.ctx.font=Re,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Xt=le[1];le[2];var It=le[3],kt=le[4];le[5];var $e=le[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(kt)[2];kt=Math.floor(ht==="px"?parseFloat(kt)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat(kt)*this.pdf.getFontSize():parseFloat(kt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(kt);var Qe=function(At){var rt,En,an=[],mt=At.trim();if(mt==="")return Gm;if(mt in K2)return[K2[mt]];for(;mt!=="";){switch(En=null,rt=(mt=J2(mt)).charAt(0)){case'"':case"'":En=I8(mt.substring(1),rt);break;default:En=j8(mt)}if(En===null||(an.push(En[0]),(mt=J2(En[1]))!==""&&mt.charAt(0)!==","))return Gm;mt=mt.replace(/^,/,"")}return an}($e);if(this.fontFaces){var Ct=function(At,rt){if(Ze===null){var En=function(an){var mt=[];return Object.keys(an).forEach(function(Bt){an[Bt].forEach(function(un){var St=null;switch(un){case"bold":St={family:Bt,weight:"bold"};break;case"italic":St={family:Bt,style:"italic"};break;case"bolditalic":St={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":St={family:Bt}}St!==null&&(St.ref={name:Bt,style:un},mt.push(St))})}),mt}(At.getFontList());Ze=function(an){for(var mt={},Bt=0;Bt<an.length;++Bt){var un=Ym(an[Bt]),St=un.family,Gt=un.stretch,Mt=un.style,zn=un.weight;mt[St]=mt[St]||{},mt[St][Gt]=mt[St][Gt]||{},mt[St][Gt][Mt]=mt[St][Gt][Mt]||{},mt[St][Gt][Mt][zn]=un}return mt}(En.concat(rt))}return Ze}(this.pdf,this.fontFaces),vt=Qe.map(function(At){return{family:At,stretch:"normal",weight:It,style:Xt}}),rn=function(At,rt,En){for(var an=(En=En||{}).defaultFontFamily||"times",mt=Object.assign({},O8,En.genericFontFamilies||{}),Bt=null,un=null,St=0;St<rt.length;++St)if(mt[(Bt=Ym(rt[St])).family]&&(Bt.family=mt[Bt.family]),At.hasOwnProperty(Bt.family)){un=At[Bt.family];break}if(!(un=un||At[an]))throw new Error("Could not find a font-family for the rule '"+X2(Bt)+"' and default family '"+an+"'.");if(un=function(Gt,Mt){if(Mt[Gt])return Mt[Gt];var zn=Sp[Gt],Ln=zn<=Sp.normal?-1:1,ln=G2(Mt,jy,zn,Ln);if(!ln)throw new Error("Could not find a matching font-stretch value for "+Gt);return ln}(Bt.stretch,un),un=function(Gt,Mt){if(Mt[Gt])return Mt[Gt];for(var zn=Iy[Gt],Ln=0;Ln<zn.length;++Ln)if(Mt[zn[Ln]])return Mt[zn[Ln]];throw new Error("Could not find a matching font-style for "+Gt)}(Bt.style,un),!(un=function(Gt,Mt){if(Mt[Gt])return Mt[Gt];if(Gt===400&&Mt[500])return Mt[500];if(Gt===500&&Mt[400])return Mt[400];var zn=D8[Gt],Ln=G2(Mt,By,zn,Gt<400?-1:1);if(!Ln)throw new Error("Could not find a matching font-weight for value "+Gt);return Ln}(Bt.weight,un)))throw new Error("Failed to resolve a font for the rule '"+X2(Bt)+"'.");return un}(Ct,vt);this.pdf.setFont(rn.ref.name,rn.ref.style)}else{var Dt="";(It==="bold"||parseInt(It,10)>=700||Xt==="bold")&&(Dt="bold"),Xt==="italic"&&(Dt+="italic"),Dt.length===0&&(Dt="normal");for(var Nt="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<Qe.length;Ot++){if(this.pdf.internal.getFont(Qe[Ot],Dt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Qe[Ot];break}if(Dt==="bolditalic"&&this.pdf.internal.getFont(Qe[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Qe[Ot],Dt="bold";else if(this.pdf.internal.getFont(Qe[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Qe[Ot],Dt="normal";break}}if(Nt===""){for(var yt=0;yt<Qe.length;yt++)if(Yt[Qe[yt]]){Nt=Yt[Qe[yt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,Dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};y.prototype.setLineDash=function(P){this.lineDash=P},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){I.call(this,"fill",!1)},y.prototype.stroke=function(){I.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(P,K){if(isNaN(P)||isNaN(K))throw qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new l(P,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(P,K)},y.prototype.closePath=function(){var P=new l(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&On(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){P=new l(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(P.x,P.y)},y.prototype.lineTo=function(P,K){if(isNaN(P)||isNaN(K))throw qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new l(P,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},y.prototype.quadraticCurveTo=function(P,K,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(P)||isNaN(K))throw qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new l(Z,se)),xe=this.ctx.transform.applyToPoint(new l(P,K));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new l(fe.x,fe.y)},y.prototype.bezierCurveTo=function(P,K,Z,se,fe,xe){if(isNaN(fe)||isNaN(xe)||isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(se))throw qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new l(fe,xe)),Se=this.ctx.transform.applyToPoint(new l(P,K)),Me=this.ctx.transform.applyToPoint(new l(Z,se));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Me.x,y2:Me.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new l(Ce.x,Ce.y)},y.prototype.arc=function(P,K,Z,se,fe,xe){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(se)||isNaN(fe))throw qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new l(P,K));P=Ce.x,K=Ce.y;var Se=this.ctx.transform.applyToPoint(new l(0,Z)),Me=this.ctx.transform.applyToPoint(new l(0,0));Z=Math.sqrt(Math.pow(Se.x-Me.x,2)+Math.pow(Se.y-Me.y,2))}Math.abs(fe-se)>=2*Math.PI&&(se=0,fe=2*Math.PI),this.path.push({type:"arc",x:P,y:K,radius:Z,startAngle:se,endAngle:fe,counterclockwise:xe})},y.prototype.arcTo=function(P,K,Z,se,fe){throw new Error("arcTo not implemented.")},y.prototype.rect=function(P,K,Z,se){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(se))throw qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,K),this.lineTo(P+Z,K),this.lineTo(P+Z,K+se),this.lineTo(P,K+se),this.lineTo(P,K),this.lineTo(P+Z,K),this.lineTo(P,K)},y.prototype.fillRect=function(P,K,Z,se){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(se))throw qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,K,Z,se),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},y.prototype.strokeRect=function(P,K,Z,se){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(se))throw qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(P,K,Z,se),this.stroke())},y.prototype.clearRect=function(P,K,Z,se){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(se))throw qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,K,Z,se))},y.prototype.save=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},y.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(P){var K,Z,se,fe;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))K=0,Z=0,se=0,fe=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(xe!==null)K=parseInt(xe[1]),Z=parseInt(xe[2]),se=parseInt(xe[3]),fe=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)K=parseInt(xe[1]),Z=parseInt(xe[2]),se=parseInt(xe[3]),fe=parseFloat(xe[4]);else{if(fe=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ce=new Py(P);P=Ce.ok?Ce.toHex():"#000000"}P.length===4?(K=P.substring(1,2),K+=K,Z=P.substring(2,3),Z+=Z,se=P.substring(3,4),se+=se):(K=P.substring(1,3),Z=P.substring(3,5),se=P.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),se=parseInt(se,16)}}return{r:K,g:Z,b:se,a:fe,style:P}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(P,K,Z,se){if(isNaN(K)||isNaN(Z)||typeof P!="string")throw qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!g.call(this)){var fe=re(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;M.call(this,{text:P,x:K,y:Z,scale:xe,angle:fe,align:this.textAlign,maxWidth:se})}},y.prototype.strokeText=function(P,K,Z,se){if(isNaN(K)||isNaN(Z)||typeof P!="string")throw qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){se=isNaN(se)?void 0:se;var fe=re(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;M.call(this,{text:P,x:K,y:Z,scale:xe,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:se})}},y.prototype.measureText=function(P){if(typeof P!="string")throw qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),fe=K.getStringUnitWidth(P)*se/K.internal.scaleFactor;return new function(xe){var Ce=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:fe*=Math.round(96*Z/72*1e4)/1e4})},y.prototype.scale=function(P,K){if(isNaN(P)||isNaN(K))throw qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(P,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.rotate=function(P){if(isNaN(P))throw qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new u(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.translate=function(P,K){if(isNaN(P)||isNaN(K))throw qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,P,K);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.transform=function(P,K,Z,se,fe,xe){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(se)||isNaN(fe)||isNaN(xe))throw qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new u(P,K,Z,se,fe,xe);this.ctx.transform=this.ctx.transform.multiply(Ce)},y.prototype.setTransform=function(P,K,Z,se,fe,xe){P=isNaN(P)?1:P,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,se=isNaN(se)?1:se,fe=isNaN(fe)?0:fe,xe=isNaN(xe)?0:xe,this.ctx.transform=new u(P,K,Z,se,fe,xe)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(P,K,Z,se,fe,xe,Ce,Se,Me){var qe=this.pdf.getImageProperties(P),Ze=1,et=1,Re=1,le=1;se!==void 0&&Se!==void 0&&(Re=Se/se,le=Me/fe,Ze=qe.width/se*Se/se,et=qe.height/fe*Me/fe),xe===void 0&&(xe=K,Ce=Z,K=0,Z=0),se!==void 0&&Se===void 0&&(Se=se,Me=fe),se===void 0&&Se===void 0&&(Se=qe.width,Me=qe.height);for(var Xt,It=this.ctx.transform.decompose(),kt=re(It.rotate.shx),$e=new u,ht=($e=($e=($e=$e.multiply(It.translate)).multiply(It.skew)).multiply(It.scale)).applyToRectangle(new c(xe-K*Re,Ce-Z*le,se*Ze,fe*et)),Qe=S.call(this,ht),Ct=[],vt=0;vt<Qe.length;vt+=1)Ct.indexOf(Qe[vt])===-1&&Ct.push(Qe[vt]);if(R(Ct),this.autoPaging)for(var rn=Ct[0],Dt=Ct[Ct.length-1],Nt=rn;Nt<Dt+1;Nt++){this.pdf.setPage(Nt);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=Nt===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Nt===1?0:yt+(Nt-2)*At;if(this.ctx.clip_path.length!==0){var En=this.path;Xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Xt,this.posX+this.margin[3],-rt+Ot+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=En}var an=JSON.parse(JSON.stringify(ht));an=O([an],this.posX+this.margin[3],-rt+Ot+this.ctx.prevPageLastElemOffset)[0];var mt=(Nt>rn||Nt<Dt)&&_.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,At,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",an.x,an.y,an.w,an.h,null,null,kt),mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,kt)};var S=function(P,K,Z){var se=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":se.push(Math.floor((P.y+fe)/Z)+1);break;case"arc":se.push(Math.floor((P.y+fe-P.radius)/Z)+1),se.push(Math.floor((P.y+fe+P.radius)/Z)+1);break;case"qct":var xe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);se.push(Math.floor((xe.y+fe)/Z)+1),se.push(Math.floor((xe.y+xe.h+fe)/Z)+1);break;case"bct":var Ce=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);se.push(Math.floor((Ce.y+fe)/Z)+1),se.push(Math.floor((Ce.y+Ce.h+fe)/Z)+1);break;case"rect":se.push(Math.floor((P.y+fe)/Z)+1),se.push(Math.floor((P.y+P.h+fe)/Z)+1)}for(var Se=0;Se<se.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<se[Se];)A.call(this);return se},A=function(){var P=this.fillStyle,K=this.strokeStyle,Z=this.font,se=this.lineCap,fe=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=K,this.font=Z,this.lineCap=se,this.lineWidth=fe,this.lineJoin=xe},O=function(P,K,Z){for(var se=0;se<P.length;se++)switch(P[se].type){case"bct":P[se].x2+=K,P[se].y2+=Z;case"qct":P[se].x1+=K,P[se].y1+=Z;default:P[se].x+=K,P[se].y+=Z}return P},R=function(P){return P.sort(function(K,Z){return K-Z})},I=function(P,K){for(var Z,se,fe=this.fillStyle,xe=this.strokeStyle,Ce=this.lineCap,Se=this.lineWidth,Me=Math.abs(Se*this.ctx.transform.scaleX),qe=this.lineJoin,Ze=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),Re=[],le=0;le<et.length;le++)if(et[le].x!==void 0)for(var Xt=S.call(this,et[le]),It=0;It<Xt.length;It+=1)Re.indexOf(Xt[It])===-1&&Re.push(Xt[It]);for(var kt=0;kt<Re.length;kt++)for(;this.pdf.internal.getNumberOfPages()<Re[kt];)A.call(this);if(R(Re),this.autoPaging)for(var $e=Re[0],ht=Re[Re.length-1],Qe=$e;Qe<ht+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=fe,this.strokeStyle=xe,this.lineCap=Ce,this.lineWidth=Me,this.lineJoin=qe;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Qe===1?this.posY+this.margin[0]:this.margin[0],rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Qe===1?0:rn+(Qe-2)*Dt;if(this.ctx.clip_path.length!==0){var Yt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Z,this.posX+this.margin[3],-Nt+vt+this.ctx.prevPageLastElemOffset),ee.call(this,P,!0),this.path=Yt}if(se=JSON.parse(JSON.stringify(Ze)),this.path=O(se,this.posX+this.margin[3],-Nt+vt+this.ctx.prevPageLastElemOffset),K===!1||Qe===0){var Ot=(Qe>$e||Qe<ht)&&_.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Dt,null).clip().discardPath()),ee.call(this,P,K),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=Me,ee.call(this,P,K),this.lineWidth=Se;this.path=Ze},ee=function(P,K){if((P!=="stroke"||K||!N.call(this))&&(P==="stroke"||K||!g.call(this))){for(var Z,se,fe=[],xe=this.path,Ce=0;Ce<xe.length;Ce++){var Se=xe[Ce];switch(Se.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:Se,deltas:[],abs:[]});break;case"lt":var Me=fe.length;if(xe[Ce-1]&&!isNaN(xe[Ce-1].x)&&(Z=[Se.x-xe[Ce-1].x,Se.y-xe[Ce-1].y],Me>0)){for(;Me>=0;Me--)if(fe[Me-1].close!==!0&&fe[Me-1].begin!==!0){fe[Me-1].deltas.push(Z),fe[Me-1].abs.push(Se);break}}break;case"bct":Z=[Se.x1-xe[Ce-1].x,Se.y1-xe[Ce-1].y,Se.x2-xe[Ce-1].x,Se.y2-xe[Ce-1].y,Se.x-xe[Ce-1].x,Se.y-xe[Ce-1].y],fe[fe.length-1].deltas.push(Z);break;case"qct":var qe=xe[Ce-1].x+2/3*(Se.x1-xe[Ce-1].x),Ze=xe[Ce-1].y+2/3*(Se.y1-xe[Ce-1].y),et=Se.x+2/3*(Se.x1-Se.x),Re=Se.y+2/3*(Se.y1-Se.y),le=Se.x,Xt=Se.y;Z=[qe-xe[Ce-1].x,Ze-xe[Ce-1].y,et-xe[Ce-1].x,Re-xe[Ce-1].y,le-xe[Ce-1].x,Xt-xe[Ce-1].y],fe[fe.length-1].deltas.push(Z);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(Se)}}se=K?null:P==="stroke"?"stroke":"fill";for(var It=!1,kt=0;kt<fe.length;kt++)if(fe[kt].arc)for(var $e=fe[kt].abs,ht=0;ht<$e.length;ht++){var Qe=$e[ht];Qe.type==="arc"?X.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,K,!It):j.call(this,Qe.x,Qe.y),It=!0}else if(fe[kt].close===!0)this.pdf.internal.out("h"),It=!1;else if(fe[kt].begin!==!0){var Ct=fe[kt].start.x,vt=fe[kt].start.y;D.call(this,fe[kt].deltas,Ct,vt),It=!0}se&&T.call(this,se),K&&Y.call(this)}},U=function(P){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Z;case"top":return P+K-Z;case"hanging":return P+K-2*Z;case"middle":return P+K/2-Z;default:return P}},te=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(K,Z){this.colorStops.push([K,Z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(P,K,Z,se,fe,xe,Ce,Se,Me){for(var qe=ne.call(this,Z,se,fe,xe),Ze=0;Ze<qe.length;Ze++){var et=qe[Ze];Ze===0&&(Me?F.call(this,et.x1+P,et.y1+K):j.call(this,et.x1+P,et.y1+K)),$.call(this,P,K,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Se?Y.call(this):T.call(this,Ce)},T=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(P,K){this.pdf.internal.out(n(P)+" "+r(K)+" m")},M=function(P){var K;switch(P.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z=this.pdf.getTextDimensions(P.text),se=U.call(this,P.y),fe=te.call(this,se)-Z.h,xe=this.ctx.transform.applyToPoint(new l(P.x,se)),Ce=this.ctx.transform.decompose(),Se=new u;Se=(Se=(Se=Se.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Me,qe,Ze,et=this.ctx.transform.applyToRectangle(new c(P.x,se,Z.w,Z.h)),Re=Se.applyToRectangle(new c(P.x,fe,Z.w,Z.h)),le=S.call(this,Re),Xt=[],It=0;It<le.length;It+=1)Xt.indexOf(le[It])===-1&&Xt.push(le[It]);if(R(Xt),this.autoPaging)for(var kt=Xt[0],$e=Xt[Xt.length-1],ht=kt;ht<$e+1;ht++){this.pdf.setPage(ht);var Qe=ht===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],rn=vt-this.margin[0],Dt=this.pdf.internal.pageSize.width-this.margin[1],Nt=Dt-this.margin[3],Yt=ht===1?0:Ct+(ht-2)*rn;if(this.ctx.clip_path.length!==0){var Ot=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Me,this.posX+this.margin[3],-1*Yt+Qe),ee.call(this,"fill",!0),this.path=Ot}var yt=O([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Yt+Qe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*P.scale),Ze=this.lineWidth,this.lineWidth=Ze*P.scale);var At=this.autoPaging!=="text";if(At||yt.y+yt.h<=vt){if(At||yt.y>=Qe&&yt.x<=Dt){var rt=At?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Dt-yt.x)[0],En=O([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Yt+Qe+this.ctx.prevPageLastElemOffset)[0],an=At&&(ht>kt||ht<$e)&&_.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,rn,null).clip().discardPath()),this.pdf.text(rt,En.x,En.y,{angle:P.angle,align:K,renderingMode:P.renderingMode}),an&&this.pdf.restoreGraphicsState()}}else yt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-yt.y);P.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Ze)}else P.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*P.scale),Ze=this.lineWidth,this.lineWidth=Ze*P.scale),this.pdf.text(P.text,xe.x+this.posX,xe.y+this.posY,{angle:P.angle,align:K,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Ze)},j=function(P,K,Z,se){Z=Z||0,se=se||0,this.pdf.internal.out(n(P+Z)+" "+r(K+se)+" l")},D=function(P,K,Z){return this.pdf.lines(P,K,Z,null,null)},$=function(P,K,Z,se,fe,xe,Ce,Se){this.pdf.internal.out([e(a(Z+P)),e(i(se+K)),e(a(fe+P)),e(i(xe+K)),e(a(Ce+P)),e(i(Se+K)),"c"].join(" "))},ne=function(P,K,Z,se){for(var fe=2*Math.PI,xe=Math.PI/2;K>Z;)K-=fe;var Ce=Math.abs(Z-K);Ce<fe&&se&&(Ce=fe-Ce);for(var Se=[],Me=se?-1:1,qe=K;Ce>1e-5;){var Ze=qe+Me*Math.min(Ce,xe);Se.push(ce.call(this,P,qe,Ze)),Ce-=Math.abs(Ze-qe),qe=Ze}return Se},ce=function(P,K,Z){var se=(Z-K)/2,fe=P*Math.cos(se),xe=P*Math.sin(se),Ce=fe,Se=-xe,Me=Ce*Ce+Se*Se,qe=Me+Ce*fe+Se*xe,Ze=4/3*(Math.sqrt(2*Me*qe)-qe)/(Ce*xe-Se*fe),et=Ce-Ze*Se,Re=Se+Ze*Ce,le=et,Xt=-Re,It=se+K,kt=Math.cos(It),$e=Math.sin(It);return{x1:P*Math.cos(K),y1:P*Math.sin(K),x2:et*kt-Re*$e,y2:et*$e+Re*kt,x3:le*kt-Xt*$e,y3:le*$e+Xt*kt,x4:P*Math.cos(Z),y4:P*Math.sin(Z)}},re=function(P){return 180*P/Math.PI},de=function(P,K,Z,se,fe,xe){var Ce=P+.5*(Z-P),Se=K+.5*(se-K),Me=fe+.5*(Z-fe),qe=xe+.5*(se-xe),Ze=Math.min(P,fe,Ce,Me),et=Math.max(P,fe,Ce,Me),Re=Math.min(K,xe,Se,qe),le=Math.max(K,xe,Se,qe);return new c(Ze,Re,et-Ze,le-Re)},ye=function(P,K,Z,se,fe,xe,Ce,Se){var Me,qe,Ze,et,Re,le,Xt,It,kt,$e,ht,Qe,Ct,vt,rn=Z-P,Dt=se-K,Nt=fe-Z,Yt=xe-se,Ot=Ce-fe,yt=Se-xe;for(qe=0;qe<41;qe++)kt=(Xt=(Ze=P+(Me=qe/40)*rn)+Me*((Re=Z+Me*Nt)-Ze))+Me*(Re+Me*(fe+Me*Ot-Re)-Xt),$e=(It=(et=K+Me*Dt)+Me*((le=se+Me*Yt)-et))+Me*(le+Me*(xe+Me*yt-le)-It),qe==0?(ht=kt,Qe=$e,Ct=kt,vt=$e):(ht=Math.min(ht,kt),Qe=Math.min(Qe,$e),Ct=Math.max(Ct,kt),vt=Math.max(vt,$e));return new c(Math.round(ht),Math.round(Qe),Math.round(Ct-ht),Math.round(vt-Qe))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,K,Z=(P=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(_t.API),function(t){var e=function(l){var c,u,d,h,y,w,g,N,_,S;for(u=[],d=0,h=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;h>d;d+=4)(y=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(w=(y=((y=((y=((y=(y-(S=y%85))/85)-(_=y%85))/85)-(N=y%85))/85)-(g=y%85))/85)%85,u.push(w+33,g+33,N+33,_+33,S+33)):u.push(122);return function(A,O){for(var R=O;R>0;R--)A.pop()}(u,c.length),String.fromCharCode.apply(String,u)+"~>"},n=function(l){var c,u,d,h,y,w=String,g="length",N=255,_="charCodeAt",S="slice",A="replace";for(l[S](-2),l=l[S](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),d=[],h=0,y=(l+=c="uuuuu"[S](l[g]%5||5))[g];y>h;h+=5)u=52200625*(l[_](h)-33)+614125*(l[_](h+1)-33)+7225*(l[_](h+2)-33)+85*(l[_](h+3)-33)+(l[_](h+4)-33),d.push(N&u>>24,N&u>>16,N&u>>8,N&u);return function(O,R){for(var I=R;I>0;I--)O.pop()}(d,c[g]),w.fromCharCode.apply(w,d)},r=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var u="",d=0;d<l.length;d+=2)u+=String.fromCharCode("0x"+(l[d]+l[d+1]));return u},i=function(l){for(var c=new Uint8Array(l.length),u=l.length;u--;)c[u]=l.charCodeAt(u);return(c=vp(c)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};t.processDataByFilters=function(l,c){var u=0,d=l||"",h=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}}(_t.API),function(t){t.loadFile=function(e,n,r){return function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(u,d,h){var y=new XMLHttpRequest,w=0,g=function(N){var _=N.length,S=[],A=String.fromCharCode;for(w=0;w<_;w+=1)S.push(A(255&N.charCodeAt(w)));return S.join("")};if(y.open("GET",u,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?h(g(this.responseText)):h(void 0)}),y.send(null),d&&y.status===200)return g(y.responseText)}(a,i,l)}catch{}return c}(e,n,r)},t.loadImageFile=t.loadFile}(_t.API),function(t){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):Lm(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):Lm(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var u=On(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(c,u){var d=document.createElement(c);for(var h in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[h]=u.style[h];return d},i=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),y=u.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||h.appendChild(c(y,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},l=function c(u){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),h=c.convert(Promise.resolve(),d);return(h=h.setProgress(1,c,1,[c])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,u){return c.__proto__=u||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,u){return this.then(function(){switch(u=u||function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c),u){case"string":return this.then(n).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=this.opt.jsPDF,h=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var N=h[g],_=N.src.find(function(S){return S.format==="truetype"});_&&d.addFont(_.url,N.ref.name,N.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),u(this.prop.container,w)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},l.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var u=Object.keys(c||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(c,u){return this.then(function(){var d=c in l.template.prop?this.prop[c]:this.opt[c];return u?u(d):d})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function u(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(c=c||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,u,d,h){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,u,d,h){return this.setProgress(c?this.progress.val+c:null,u||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(c,u){var d=this;return this.thenCore(c,u,function(h,y){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,h),w}).then(h,y).then(function(w){return d.updateProgress(1),w})})},l.prototype.thenCore=function(c,u,d){d=d||Promise.prototype.then;var h=this;c&&(c=c.bind(h)),u&&(u=u.bind(h));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),w=d.call(y,c,u);return l.convert(w,h.__proto__)},l.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},l.prototype.thenList=function(c){var u=this;return c.forEach(function(d){u=u.thenCore(d)}),u},l.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return l.convert(u,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,_t.getPageSize=function(c,u,d){if(On(c)==="object"){var h=c;c=h.orientation,u=h.unit||u,d=h.format||d}u=u||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,w=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+u}var N,_=0,S=0;if(g.hasOwnProperty(w))_=g[w][1]/y,S=g[w][0]/y;else try{_=d[1],S=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",S>_&&(N=S,S=_,_=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",_>S&&(N=S,S=_,_=N)}return{width:S,height:_,unit:u,k:y,orientation:c}},t.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Ym):null;var d=new l(u);return u.worker?d:d.from(c).doCallback()}}(_t.API),_t.API.addJS=function(t){return Z2=t,this.internal.events.subscribe("postPutResources",function(){Lf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Q2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lf!==void 0&&Q2!==void 0&&this.internal.out("/Names <</JavaScript "+Lf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],c=r.exec(l);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(i=0;i<d;i++){var y=n.internal.newObject();h.push(y);var w=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<h.length;i++)n.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,a,i){var l={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var l=r.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var u=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])}(_t.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,a,i,l,c){var u,d=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,u=function(y){for(var w,g=256*y.charCodeAt(4)+y.charCodeAt(5),N=y.length,_={width:0,height:0,numcomponents:1},S=4;S<N;S+=2){if(S+=g,e.indexOf(y.charCodeAt(S+1))!==-1){w=256*y.charCodeAt(S+5)+y.charCodeAt(S+6),_={width:256*y.charCodeAt(S+7)+y.charCodeAt(S+8),height:w,numcomponents:y.charCodeAt(S+9)};break}g=256*y.charCodeAt(S+2)+y.charCodeAt(S+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}h={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return h}}(_t.API),_t.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=x8(t,{checkCrc:!0}),l=i.width,c=i.height,u=i.channels,d=i.palette,h=i.depth;a=d&&u===1?function(te){for(var X=te.width,T=te.height,Y=te.data,F=te.palette,M=te.depth,j=!1,D=[],$=[],ne=void 0,ce=!1,re=0,de=0;de<F.length;de++){var ye=r2(F[de],4),G=ye[0],P=ye[1],K=ye[2],Z=ye[3];D.push(G,P,K),Z!=null&&(Z===0?(re++,$.length<1&&$.push(de)):Z<255&&(ce=!0))}if(ce||re>1){j=!0,$=void 0;var se=X*T;ne=new Uint8Array(se);for(var fe=new DataView(Y.buffer),xe=0;xe<se;xe++){var Ce=Km(fe,xe,M),Se=r2(F[Ce],4)[3];ne[xe]=Se}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:Y,alphaBytes:ne,needSMask:j,palette:D,mask:$}}(i):u===2||u===4?function(te){for(var X=te.data,T=te.width,Y=te.height,F=te.channels,M=te.depth,j=F===2?"DeviceGray":"DeviceRGB",D=F-1,$=T*Y,ne=D,ce=$*ne,re=1*$,de=Math.ceil(ce*M/8),ye=Math.ceil(re*M/8),G=new Uint8Array(de),P=new Uint8Array(ye),K=new DataView(X.buffer),Z=new DataView(G.buffer),se=new DataView(P.buffer),fe=!1,xe=0;xe<$;xe++){for(var Ce=xe*F,Se=0;Se<ne;Se++)l5(Z,Km(K,Ce+Se,M),xe*ne+Se,M);var Me=Km(K,Ce+ne,M);Me<(1<<M)-1&&(fe=!0),l5(se,Me,1*xe,M)}return{colorSpace:j,colorsPerPixel:D,colorBytes:G,alphaBytes:P,needSMask:fe}}(i):function(te){var X=te.data,T=te.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:X instanceof Uint8Array?X:new Uint8Array(X.buffer),needSMask:!1}}(i);var y,w,g,N=a,_=N.colorSpace,S=N.colorsPerPixel,A=N.colorBytes,O=N.alphaBytes,R=N.needSMask,I=N.palette,ee=N.mask,U=null;return r!==_t.API.image_compression.NONE&&typeof vp=="function"?(U=function(te){var X;switch(te){case _t.API.image_compression.FAST:X=11;break;case _t.API.image_compression.MEDIUM:X=13;break;case _t.API.image_compression.SLOW:X=14;break;default:X=12}return X}(r),y=this.decode.FLATE_DECODE,w="/Predictor ".concat(U," "),t=r5(A,l*S,S,r),R&&(g=r5(O,l,1,r))):(y=void 0,w="",t=A,R&&(g=O)),w+="/Colors ".concat(S," /BitsPerComponent ").concat(h," /Columns ").concat(l),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:t,index:e,filter:y,decodeParameters:w,transparency:ee,palette:I,sMask:g,predictor:U,width:l,height:c,bitsPerComponent:h,colorSpace:_}}},function(t){t.processGIF89A=function(e,n,r,a){var i=new q8(e),l=i.width,c=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:l,height:c},h=new Xm(100).encode(d,100);return t.processJPEG.call(this,h,n,r,a)},t.processGIF87A=t.processGIF89A}(_t.API),mi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){qn.log("bit decode error:"+n)}},mi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var u=this.palette[i>>7-c&1];this.data[l+4*c]=u.blue,this.data[l+4*c+1]=u.green,this.data[l+4*c+2]=u.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},mi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*a*4,c=i>>4,u=15&i,d=this.palette[c];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*a+1>=this.width)break;d=this.palette[u],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},mi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},mi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&e)/e*255|0,u=(i>>10&e)/e*255|0,d=i>>15?255:0,h=r*this.width*4+4*a;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=d}this.pos+=t}},mi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,u=(l>>5&n)/n*255|0,d=(l>>11)/e*255|0,h=a*this.width*4+4*i;this.data[h]=d,this.data[h+1]=u,this.data[h+2]=c,this.data[h+3]=255}this.pos+=t}},mi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},mi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=l}},mi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,a){var i=new mi(e,!1),l=i.width,c=i.height,u={data:i.getData(),width:l,height:c},d=new Xm(100).encode(u,100);return t.processJPEG.call(this,d,n,r,a)}}(_t.API),u5.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,a){var i=new u5(e),l=i.width,c=i.height,u={data:i.getData(),width:l,height:c},d=new Xm(100).encode(u,100);return t.processJPEG.call(this,d,n,r,a)}}(_t.API),_t.API.processRGBA=function(t,e,n){for(var r=t.data,a=r.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),c=0,u=0,d=0;d<a;d+=4){var h=r[d],y=r[d+1],w=r[d+2],g=r[d+3];i[c++]=h,i[c++]=y,i[c++]=w,l[u++]=g}var N=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yc=_t.API,Pf=Yc.getCharWidthsArray=function(t,e){var n,r,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,u=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,h=d.fof?d.fof:1,y=e.doKerning!==!1,w=0,g=t.length,N=0,_=c[0]||u,S=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?S.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+l*(1e3/i)||0)/1e3):(w=y&&On(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/h:0,S.push((c[r]||_)/u+w)),N=r;return S},e5=Yc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Yc.processArabic&&(t=Yc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,a)/n:Pf.apply(this,arguments).reduce(function(i,l){return i+l},0)},t5=function(t,e,n,r){for(var a=[],i=0,l=t.length,c=0;i!==l&&c+e[i]<n;)c+=e[i],i++;a.push(t.slice(0,i));var u=i;for(c=0;i!==l;)c+e[i]>r&&(a.push(t.slice(u,i)),c=0,u=i),c+=e[i],i++;return u!==i&&a.push(t.slice(u,i)),a},n5=function(t,e,n){n||(n={});var r,a,i,l,c,u,d,h=[],y=[h],w=n.textIndent||0,g=0,N=0,_=t.split(" "),S=Pf.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var A=Array(u).join(" "),O=[];_.map(function(I){(I=I.split(/\s*\n/)).length>1?O=O.concat(I.map(function(ee,U){return(U&&ee.length?`
`:"")+ee})):O.push(I[0])}),_=O,u=e5.apply(this,[A,n])}for(i=0,l=_.length;i<l;i++){var R=0;if(r=_[i],u&&r[0]==`
`&&(r=r.substr(1),R=1),w+g+(N=(a=Pf.apply(this,[r,n])).reduce(function(I,ee){return I+ee},0))>e||R){if(N>e){for(c=t5.apply(this,[r,a,e-(w+g),e]),h.push(c.shift()),h=[c.pop()];c.length;)y.push([c.shift()]);N=a.slice(r.length-(h[0]?h[0].length:0)).reduce(function(I,ee){return I+ee},0)}else h=[r];y.push(h),w=N+u,g=S}else h.push(r),w+=g+N,g=S}return d=u?function(I,ee){return(ee?A:"")+I.join(" ")}:function(I){return I.join(" ")},y.map(d)},Yc.splitTextToSize=function(t,e,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var y=this.internal.getFont(h.fontName,h.fontStyle),w="Unicode";return y.metadata[w]?{widths:y.metadata[w].widths||{0:1},kerning:y.metadata[w].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var c,u,d=[];for(c=0,u=r.length;c<u;c++)d=d.concat(n5.apply(this,[r[c],l,i]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[n[i]]=e[i],a[e[i]]=n[i];var l=function(w){return"0x"+parseInt(w,10).toString(16)},c=t.__fontmetrics__.compress=function(w){var g,N,_,S,A=["{"];for(var O in w){if(g=w[O],isNaN(parseInt(O,10))?N="'"+O+"'":(O=parseInt(O,10),N=(N=l(O).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof g=="number")g<0?(_=l(g).slice(3),S="-"):(_=l(g).slice(2),S=""),_=S+_.slice(0,-1)+a[_.slice(-1)];else{if(On(g)!=="object")throw new Error("Don't know what to do with value type "+On(g)+".");_=c(g)}A.push(N+_)}return A.push("}"),A.join("")},u=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,N,_,S,A={},O=1,R=A,I=[],ee="",U="",te=w.length-1,X=1;X<te;X+=1)(S=w[X])=="'"?g?(_=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(I.push([R,_]),R={},_=void 0):S=="}"?((N=I.pop())[0][N[1]]=R,_=void 0,R=N[0]):S=="-"?O=-1:_===void 0?r.hasOwnProperty(S)?(ee+=r[S],_=parseInt(ee,16)*O,O=1,ee=""):ee+=S:r.hasOwnProperty(S)?(U+=r[S],R[_]=parseInt(U,16)*O,O=1,_=void 0,U=""):U+=S;return A},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var g=w.font,N=y.Unicode[g.postScriptName];N&&(g.metadata.Unicode={},g.metadata.Unicode.widths=N.widths,g.metadata.Unicode.kerning=N.kerning);var _=h.Unicode[g.postScriptName];_&&(g.metadata.Unicode.encoding=_,g.encoding=_.codePages[0])}])}(_t.API),function(t){var e=function(n){for(var r=n.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=n.charCodeAt(i);return a};t.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(zf(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,r)}}])}(_t),_t.API.addSvgAsImage=function(t,e,n,r,a,i,l,c){if(isNaN(e)||isNaN(n))throw qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Ut.canvg?Promise.resolve(Ut.canvg):Lm(()=>import("./index.es-oqo1l5l_.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(h)}).then(function(){y.addImage(u.toDataURL("image/jpeg",1),e,n,r,a,l,c)})},_t.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,n);return this},_t.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),u=[],d=0,h=0,y=0;function w(N,_){var S,A=!1;for(S=0;S<N.length;S+=1)N[S]===_&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=c.length;for(y=0;y<g;y+=1)n[c[y]].value=n[c[y]].defaultValue,n[c[y]].explicitSet=!1}if(On(t)==="object"){for(a in t)if(i=t[a],w(c,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&w(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")u.push(String(i[d]-1));else if(i[d].length>1){for(h=0;h<i[d].length;h+=1)typeof i[d][h]!="number"&&(r=!1);r===!0&&u.push([i[d][0]-1,i[d][1]-1].join(" "))}n[a].value="["+u.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,_=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?_.push("/"+N+" /"+n[N].value):_.push("/"+N+" "+n[N].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+l.length+c.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(_t.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,l){for(var c,u=l.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],y=0,w=i.length;y<w;++y){if(c=l.metadata.characterToGlyph(i.charCodeAt(y)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=i.charCodeAt(y),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return h.join("");c=c.toString(16),h.push(d[4-c.length],c)}return h.join("")},r=function(i){var l,c,u,d,h,y,w;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,w=(c=Object.keys(i).sort(function(g,N){return g-N})).length;y<w;y++)l=c[y],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+d+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(l){var c=l.font,u=l.out,d=l.newObject,h=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",N=0;N<w.length;N++)g+=String.fromCharCode(w[N]);var _=d();h({data:g,addLength1:!0,objectId:_}),u("endobj");var S=d();h({data:r(c.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var A=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Jc(c.fontName)),u("/FontFile2 "+_+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var O=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Jc(c.fontName)),u("/FontDescriptor "+A+" 0 R"),u("/W "+t.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+S+" 0 R"),u("/BaseFont /"+Jc(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+O+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(l){var c=l.font,u=l.out,d=l.newObject,h=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,w="",g=0;g<y.length;g++)w+=String.fromCharCode(y[g]);var N=d();h({data:w,addLength1:!0,objectId:N}),u("endobj");var _=d();h({data:r(c.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var S=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+N+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Jc(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var A=0;A<c.metadata.hmtx.widths.length;A++)c.metadata.hmtx.widths[A]=parseInt(c.metadata.hmtx.widths[A]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Jc(c.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,c=i.text||"",u=i.x,d=i.y,h=i.options||{},y=i.mutex||{},w=y.pdfEscape,g=y.activeFontKey,N=y.fonts,_=g,S="",A=0,O="",R=N[_].encoding;if(N[_].encoding!=="Identity-H")return{text:c,x:u,y:d,options:h,mutex:y};for(O=c,_=g,Array.isArray(c)&&(O=c[0]),A=0;A<O.length;A+=1)N[_].metadata.hasOwnProperty("cmap")&&(l=N[_].metadata.cmap.unicode.codeMap[O[A].charCodeAt(0)]),l||O[A].charCodeAt(0)<256&&N[_].metadata.hasOwnProperty("Unicode")?S+=O[A]:S+="";var I="";return parseInt(_.slice(1))<14||R==="WinAnsiEncoding"?I=w(S,_).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(I=n(S,N[_])),y.isHex=!0,{text:I,x:u,y:d,options:h,mutex:y}};e.events.push(["postProcessText",function(i){var l=i.text||"",c=[],u={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?c.push([a(Object.assign({},u,{text:l[d][0]})).text,l[d][1],l[d][2]]):c.push(a(Object.assign({},u,{text:l[d]})).text);i.text=c}else i.text=a(Object.assign({},u,{text:l})).text}])}(_t),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(_t.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var a,i,l,c,u,d,h,y=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,R=0;this.__bidiEngine__={};var I=function(F){var M=F.charCodeAt(),j=M>>8,D=_[j];return D!==void 0?y[256*D+(255&M)]:j===252||j===253?"AL":A.test(j)?"L":j===8?"R":"N"},ee=function(F){for(var M,j=0;j<F.length;j++){if((M=I(F.charAt(j)))==="L")return!1;if(M==="R")return!0}return!1},U=function(F,M,j,D){var $,ne,ce,re,de=M[D];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(de="AN");break;case"AL":O=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":D<1||D+1>=M.length||($=j[D-1])!=="EN"&&$!=="AN"||(ne=M[D+1])!=="EN"&&ne!=="AN"?de="N":O&&(ne="AN"),de=ne===$?ne:"N";break;case"ES":de=($=D>0?j[D-1]:"B")==="EN"&&D+1<M.length&&M[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&j[D-1]==="EN"){de="EN";break}if(O){de="N";break}for(ce=D+1,re=M.length;ce<re&&M[ce]==="ET";)ce++;de=ce<re&&M[ce]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(re=M.length,ce=D+1;ce<re&&M[ce]==="NSM";)ce++;if(ce<re){var ye=F[D],G=ye>=1425&&ye<=2303||ye===64286;if($=M[ce],G&&($==="R"||$==="AL")){de="R";break}}}de=D<1||($=M[D-1])==="B"?"N":j[D-1];break;case"B":O=!1,a=!0,de=R;break;case"S":i=!0,de="N"}return de},te=function(F,M,j){var D=F.split("");return j&&X(D,j,{hiLevel:R}),D.reverse(),M&&M.reverse(),D.join("")},X=function(F,M,j){var D,$,ne,ce,re,de=-1,ye=F.length,G=0,P=[],K=R?g:w,Z=[];for(O=!1,a=!1,i=!1,$=0;$<ye;$++)Z[$]=I(F[$]);for(ne=0;ne<ye;ne++){if(re=G,P[ne]=U(F,Z,P,ne),D=240&(G=K[re][N[P[ne]]]),G&=15,M[ne]=ce=K[G][5],D>0)if(D===16){for($=de;$<ne;$++)M[$]=1;de=-1}else de=-1;if(K[G][6])de===-1&&(de=ne);else if(de>-1){for($=de;$<ne;$++)M[$]=ce;de=-1}Z[ne]==="B"&&(M[ne]=0),j.hiLevel|=ce}i&&function(se,fe,xe){for(var Ce=0;Ce<xe;Ce++)if(se[Ce]==="S"){fe[Ce]=R;for(var Se=Ce-1;Se>=0&&se[Se]==="WS";Se--)fe[Se]=R}}(Z,M,ye)},T=function(F,M,j,D,$){if(!($.hiLevel<F)){if(F===1&&R===1&&!a)return M.reverse(),void(j&&j.reverse());for(var ne,ce,re,de,ye=M.length,G=0;G<ye;){if(D[G]>=F){for(re=G+1;re<ye&&D[re]>=F;)re++;for(de=G,ce=re-1;de<ce;de++,ce--)ne=M[de],M[de]=M[ce],M[ce]=ne,j&&(ne=j[de],j[de]=j[ce],j[ce]=ne);G=re}G++}}},Y=function(F,M,j){var D=F.split(""),$={hiLevel:R};return j||(j=[]),X(D,j,$),function(ne,ce,re){if(re.hiLevel!==0&&h)for(var de,ye=0;ye<ne.length;ye++)ce[ye]===1&&(de=S.indexOf(ne[ye]))>=0&&(ne[ye]=S[de+1])}(D,j,$),T(2,D,M,j,$),T(1,D,M,j,$),D.join("")};return this.__bidiEngine__.doBidiReorder=function(F,M,j){if(function($,ne){if(ne)for(var ce=0;ce<$.length;ce++)ne[ce]=ce;c===void 0&&(c=ee($)),d===void 0&&(d=ee($))}(F,M),l||!u||d)if(l&&u&&c^d)R=c?1:0,F=te(F,M,j);else if(!l&&u&&d)R=c?1:0,F=Y(F,M,j),F=te(F,M);else if(!l||c||u||d){if(l&&!u&&c^d)F=te(F,M),c?(R=0,F=Y(F,M,j)):(R=1,F=Y(F,M,j),F=te(F,M));else if(l&&c&&!u&&d)R=1,F=Y(F,M,j),F=te(F,M);else if(!l&&!u&&c^d){var D=h;c?(R=1,F=Y(F,M,j),R=0,h=!1,F=Y(F,M,j),h=D):(R=0,F=Y(F,M,j),F=te(F,M),R=1,h=!1,F=Y(F,M,j),h=D,F=te(F,M))}}else R=0,F=Y(F,M,j);else R=c?1:0,F=Y(F,M,j);return F},this.__bidiEngine__.setOptions=function(F){F&&(l=F.isInputVisual,u=F.isOutputVisual,c=F.isInputRtl,d=F.isOutputRtl,h=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(l=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?l.push([n.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):l.push([n.doBidiReorder(a[c])]);r.text=l}else r.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new hl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new rk(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new W8(this.contents),this.head=new $8(this),this.name=new X8(this),this.cmap=new Uy(this),this.toUnicode={},this.hhea=new V8(this),this.maxp=new J8(this),this.hmtx=new Q8(this),this.post=new G8(this),this.os2=new Y8(this),this.loca=new nk(this),this.glyf=new Z8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,u,d;for(d=[],l=0,c=(u=this.bbox).length;l<c;l++)e=u[l],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var a,i,l,c;for(l=0,i=0,c=(e=""+e).length;0<=c?i<c:i>c;i=0<=c?++i:--i)a=e.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var yi,hl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,a;for(a=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push(this.writeByte(e.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,a,i,l,c,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*a+16777216*i+65536*l+256*c+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,a,i;for(i=[],r=0,a=e.length;r<a;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),W8=function(){var t;function e(n){var r,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,a,i,l,c,u,d,h,y,w,g,N,_;for(_ in g=Object.keys(n).length,u=Math.log(2),y=16*Math.floor(Math.log(g)/u),l=Math.floor(y/u),h=16*g-y,(a=new hl).writeInt(this.scalarType),a.writeShort(g),a.writeShort(y),a.writeShort(l),a.writeShort(h),i=16*g,d=a.pos+i,c=null,N=[],n)for(w=n[_],a.writeString(_),a.writeInt(t(w)),a.writeInt(d),a.writeInt(w.length),N=N.concat(w),_==="head"&&(c=d),d+=w.length;d%4;)N.push(0),d++;return a.write(N),r=2981146554-t(a.data),a.pos=c+8,a.writeUInt32(r),a.data},t=function(n){var r,a,i,l;for(n=qy.call(n);n.length%4;)n.push(0);for(i=new hl(n),a=0,r=0,l=n.length;r<l;r=r+=4)a+=i.readUInt32();return 4294967295&a},e}(),H8={}.hasOwnProperty,$i=function(t,e){for(var n in e)H8.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};yi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var $8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new hl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),d5=function(){function t(e,n){var r,a,i,l,c,u,d,h,y,w,g,N,_,S,A,O,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),w=g/2,e.pos+=6,i=function(){var I,ee;for(ee=[],u=I=0;0<=w?I<w:I>w;u=0<=w?++I:--I)ee.push(e.readUInt16());return ee}(),e.pos+=2,_=function(){var I,ee;for(ee=[],u=I=0;0<=w?I<w:I>w;u=0<=w?++I:--I)ee.push(e.readUInt16());return ee}(),d=function(){var I,ee;for(ee=[],u=I=0;0<=w?I<w:I>w;u=0<=w?++I:--I)ee.push(e.readUInt16());return ee}(),h=function(){var I,ee;for(ee=[],u=I=0;0<=w?I<w:I>w;u=0<=w?++I:--I)ee.push(e.readUInt16());return ee}(),a=(this.length-e.pos+this.offset)/2,c=function(){var I,ee;for(ee=[],u=I=0;0<=a?I<a:I>a;u=0<=a?++I:--I)ee.push(e.readUInt16());return ee}(),u=A=0,R=i.length;A<R;u=++A)for(S=i[u],r=O=N=_[u];N<=S?O<=S:O>=S;r=N<=S?++O:--O)h[u]===0?l=r+d[u]:(l=c[h[u]/2+(r-N)-(w-u)]||0)!==0&&(l+=d[u]),this.codeMap[r]=65535&l}e.pos=y}return t.encode=function(e,n){var r,a,i,l,c,u,d,h,y,w,g,N,_,S,A,O,R,I,ee,U,te,X,T,Y,F,M,j,D,$,ne,ce,re,de,ye,G,P,K,Z,se,fe,xe,Ce,Se,Me,qe,Ze;switch(D=new hl,l=Object.keys(e).sort(function(et,Re){return et-Re}),n){case"macroman":for(_=0,S=function(){var et=[];for(N=0;N<256;++N)et.push(0);return et}(),O={0:0},i={},$=0,de=l.length;$<de;$++)O[Se=e[a=l[$]]]==null&&(O[Se]=++_),i[a]={old:e[a],new:O[e[a]]},S[a]=O[e[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(S),{charMap:i,subtable:D.data,maxGlyphID:_+1};case"unicode":for(M=[],y=[],R=0,O={},r={},A=d=null,ne=0,ye=l.length;ne<ye;ne++)O[ee=e[a=l[ne]]]==null&&(O[ee]=++R),r[a]={old:ee,new:O[ee]},c=O[ee]-a,A!=null&&c===d||(A&&y.push(A),M.push(a),d=c),A=a;for(A&&y.push(A),y.push(65535),M.push(65535),Y=2*(T=M.length),X=2*Math.pow(Math.log(T)/Math.LN2,2),w=Math.log(X/2)/Math.LN2,te=2*T-X,u=[],U=[],g=[],N=ce=0,G=M.length;ce<G;N=++ce){if(F=M[N],h=y[N],F===65535){u.push(0),U.push(0);break}if(F-(j=r[F].new)>=32768)for(u.push(0),U.push(2*(g.length+T-N)),a=re=F;F<=h?re<=h:re>=h;a=F<=h?++re:--re)g.push(r[a].new);else u.push(j-F),U.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*T+2*g.length),D.writeUInt16(0),D.writeUInt16(Y),D.writeUInt16(X),D.writeUInt16(w),D.writeUInt16(te),xe=0,P=y.length;xe<P;xe++)a=y[xe],D.writeUInt16(a);for(D.writeUInt16(0),Ce=0,K=M.length;Ce<K;Ce++)a=M[Ce],D.writeUInt16(a);for(Me=0,Z=u.length;Me<Z;Me++)c=u[Me],D.writeUInt16(c);for(qe=0,se=U.length;qe<se;qe++)I=U[qe],D.writeUInt16(I);for(Ze=0,fe=g.length;Ze<fe;Ze++)_=g[Ze],D.writeUInt16(_);return{charMap:r,subtable:D.data,maxGlyphID:R+1}}},t}(),Uy=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)n=new d5(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,a;return n==null&&(n="macroman"),r=d5.encode(e,n),(a=new hl).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t}(),V8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Y8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),G8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)n=e.readByte(),a.push(this.names.push(e.readString(n)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,c,u;for(u=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)u.push(e.readUInt32());return u}).call(this)}},t}(),K8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},X8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,a,i,l,c,u,d,h,y,w;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(u={},i=h=0,y=r.length;h<y;i=++h)a=r[i],e.pos=a.offset,d=e.readString(a.length),l=new K8(d,a),u[w=a.nameID]==null&&(u[w]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),J8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Q8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,a,i,l,c,u;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],n=d=0;0<=a?d<a:d>a;n=0<=a?++d:--d)h.push(e.readInt16());return h}(),this.widths=(function(){var d,h,y,w;for(w=[],d=0,h=(y=this.metrics).length;d<h;d++)i=y[d],w.push(i.advance);return w}).call(this),r=this.widths[this.widths.length-1],u=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),qy=[].slice,Z8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,a,i,l,c,u,d,h,y;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,l=(c=new hl(n.read(a))).readShort(),d=c.readShort(),y=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[e]=l===-1?new tk(c,d,y,u,h):new ek(c,l,d,y,u,h),this.cache[e]))},t.prototype.encode=function(e,n,r){var a,i,l,c,u;for(l=[],i=[],c=0,u=n.length;c<u;c++)a=e[n[c]],i.push(l.length),a&&(l=l.concat(a.encode(r)));return i.push(l.length),{table:l,offsets:i}},t}(),ek=function(){function t(e,n,r,a,i,l){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),tk=function(){function t(e,n,r,a,i){var l,c;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new hl(qy.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),nk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $i(t,yi),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<r.length;++l)if(r[l]=a,i<n.length&&n[i]==l){++i,r[l]=a;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(a+=u)}for(var d=new Array(4*r.length),h=0;h<r.length;++h)d[4*h+3]=255&r[h],d[4*h+2]=(65280&r[h])>>8,d[4*h+1]=(16711680&r[h])>>16,d[4*h]=(4278190080&r[h])>>24;return d},t}(),rk=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,a,i;for(n in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=a[r];return e},t.prototype.glyphsFor=function(e){var n,r,a,i,l,c,u;for(a={},l=0,c=e.length;l<c;l++)a[i=e[l]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(r=a[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in u=this.glyphsFor(n))r=u[i],a[i]=r;return a},t.prototype.encode=function(e,n){var r,a,i,l,c,u,d,h,y,w,g,N,_,S,A;for(a in r=Uy.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),g={0:0},A=r.charMap)g[(u=A[a]).old]=u.new;for(N in w=r.maxGlyphID,l)N in g||(g[N]=w++);return h=function(O){var R,I;for(R in I={},O)I[O[R]]=R;return I}(g),y=Object.keys(h).sort(function(O,R){return O-R}),_=function(){var O,R,I;for(I=[],O=0,R=y.length;O<R;O++)c=y[O],I.push(h[c]);return I}(),i=this.font.glyf.encode(l,_,g),d=this.font.loca.encode(i.offsets,_),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();_t.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,a,i,l;if(Array.isArray(n))return"["+function(){var c,u,d;for(d=[],c=0,u=n.length;c<u;c++)r=n[c],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)l=n[a],i.push("/"+a+" "+e.convert(l));return i.push(">>"),i.join(`
`)}return""+n},e}();const ak=({turmaOrigem:t,todasTurmas:e,onClose:n,onRematricular:r})=>{const[a,i]=q.useState(""),[l,c]=q.useState([]),[u,d]=q.useState(new Date().getFullYear()),[h,y]=q.useState([]),[w,g]=q.useState(!0),[N,_]=q.useState(!1),[S,A]=q.useState("");q.useEffect(()=>{(async()=>{try{const te=await fetch(`http://localhost:3001/turmas/${t.id}/alunos`,{credentials:"include"});if(te.ok){const X=await te.json();y(X)}else A("Erro ao carregar alunos da turma.")}catch(te){A("Erro de conexo ao carregar alunos."),console.error("Erro ao buscar alunos:",te)}finally{g(!1)}})()},[t.id]);const O=U=>{c(te=>te.includes(U)?te.filter(X=>X!==U):[...te,U])},R=()=>{l.length===h.length?c([]):c(h.map(U=>U.id))},I=async U=>{if(U.preventDefault(),!a){A("Selecione a turma de destino.");return}if(l.length===0){A("Selecione pelo menos um aluno.");return}_(!0),A("");try{const te=await fetch(`http://localhost:3001/turmas/${t.id}/rematricula`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({turmaDestinoId:parseInt(a),alunosIds:l,novoAnoLetivo:u})}),X=await te.json();te.ok?(alert(X.message||"Rematrcula realizada com sucesso!"),r(X),n()):A(X.error||"Erro ao processar rematrcula.")}catch(te){A("Erro de conexo. Tente novamente."),console.error("Erro ao rematricular:",te)}finally{_(!1)}},ee=e.filter(U=>U.id!==t.id);return m.createElement("div",{className:"modal-overlay",onClick:n},m.createElement("div",{className:"modal-content modal-large",onClick:U=>U.stopPropagation()},m.createElement("div",{className:"modal-header"},m.createElement("h2",null," Rematrcula de Alunos"),m.createElement("button",{className:"modal-close-button",onClick:n},"")),m.createElement("div",{className:"modal-body"},S&&m.createElement("div",{className:"message error"}," ",S),m.createElement("form",{onSubmit:I},m.createElement("div",{className:"form-section"},m.createElement("h3",{className:"form-section-title"}," Turma Atual"),m.createElement("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"1rem",borderRadius:"8px",border:"1px solid #dee2e6"}},m.createElement("p",{style:{margin:"0.25rem 0",fontSize:"1.125rem"}},m.createElement("strong",null,t.nome_turma)),m.createElement("p",{style:{margin:"0.25rem 0",color:"#6c757d"}}," Ano Letivo: ",t.ano_letivo),m.createElement("p",{style:{margin:"0.25rem 0",color:"#6c757d"}}," Perodo: ",t.periodo),m.createElement("p",{style:{margin:"0.25rem 0",color:"#6c757d"}}," Total de alunos: ",h.length))),m.createElement("div",{className:"form-section mt-3"},m.createElement("h3",{className:"form-section-title"}," Configurao da Rematrcula"),m.createElement("div",{className:"form-grid grid-2-cols"},m.createElement("div",{className:"form-group"},m.createElement(Pa,{label:"Turma de Destino",hint:"Selecione a turma para onde os alunos sero rematriculados. Escolha uma turma compatvel com o nvel e ano letivo desejado",value:a,onChange:U=>i(U.target.value),required:!0},m.createElement("option",{value:""},"Selecione a turma..."),ee.map(U=>m.createElement("option",{key:U.id,value:U.id},U.nome_turma," - ",U.ano_letivo," (",U.periodo,")")))),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Ano Letivo",hint:"Ano letivo da rematrcula. Geralmente o prximo ano em relao  turma atual",type:"number",value:u,onChange:U=>d(parseInt(U.target.value)),min:"2020",max:"2030",required:!0})))),m.createElement("div",{className:"form-section mt-3"},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"}},m.createElement("h3",{className:"form-section-title",style:{margin:0}}," Selecione os Alunos (",l.length,"/",h.length,")"),m.createElement("button",{type:"button",className:"btn btn-outline",onClick:R,style:{minWidth:"auto"}},l.length===h.length?" Desmarcar Todos":" Selecionar Todos")),w?m.createElement("p",{style:{textAlign:"center",color:"#6c757d"}}," Carregando alunos..."):h.length===0?m.createElement("div",{className:"message info"}," Nenhum aluno encontrado nesta turma."):m.createElement("div",{className:"alunos-list"},h.map(U=>m.createElement("label",{key:U.id,className:"aluno-checkbox"},m.createElement("input",{type:"checkbox",checked:l.includes(U.id),onChange:()=>O(U.id)}),m.createElement("span",{className:"aluno-nome"},U.nome_completo),m.createElement("span",{className:"aluno-info"},U.data_nascimento?new Date(U.data_nascimento).toLocaleDateString("pt-BR"):"Sem data"))))))),m.createElement("div",{className:"modal-footer"},m.createElement("button",{type:"button",className:"btn btn-secondary",onClick:n,disabled:N},"Cancelar"),m.createElement("button",{type:"submit",className:"btn btn-primary",onClick:I,disabled:N||l.length===0},N?m.createElement(m.Fragment,null,m.createElement("span",{className:"loading-spinner"})," Processando..."):m.createElement(m.Fragment,null," Rematricular ",l.length," Aluno(s)")))))},ok=()=>{const{user:t}=Hi(),[e,n]=q.useState("jardim"),[r,a]=q.useState(null),[i,l]=q.useState(null),[c,u]=q.useState([]),[d,h]=q.useState(""),[y,w]=q.useState([]),[g,N]=q.useState(!0),[_,S]=q.useState(null),[A,O]=q.useState(!1),[R,I]=q.useState([]),[ee,U]=q.useState(!1),[te,X]=q.useState(!1),[T,Y]=q.useState(null);ta(),q.useEffect(()=>{(async()=>{try{N(!0);const K=await fetch("http://localhost:3001/turmas",{credentials:"include"});if(!K.ok)throw new Error("Falha ao buscar dados das turmas.");const Z=await K.json();if(u(Z),Z.length>0){const se=[...new Set(Z.map(fe=>fe.ano_letivo))].sort((fe,xe)=>xe-fe);w(se),h(se[0].toString())}}catch(K){S(K.message)}finally{N(!1)}})()},[]);const F=c.filter(P=>{const K=e==="jardim"&&P.nivel===!1||e==="maternal"&&P.nivel===!0,Z=!d||P.ano_letivo.toString()===d;return K&&Z}),M=async P=>{if(window.confirm("Tem certeza que deseja excluir esta turma? Esta ao remover todas as matrculas associadas e no pode ser desfeita."))try{const K=await fetch(`http://localhost:3001/turmas/${P}`,{method:"DELETE"});if(!K.ok){const Z=await K.json();throw new Error(Z.error||"Falha ao excluir a turma.")}u(Z=>Z.filter(se=>se.id!==P)),a(null),alert("Turma excluda com sucesso!")}catch(K){console.error("Erro ao excluir turma:",K),alert(`Erro: ${K.message}`)}},j=P=>{a(P)},D=()=>{a(null)},$=async P=>{U(!0),console.log("Buscando alunos para turma:",P);try{const K=`http://localhost:3001/turmas/${P.id}/alunos`;console.log("URL da requisio:",K);const Z=await fetch(K,{credentials:"include"});if(console.log("Response status:",Z.status),console.log("Response ok:",Z.ok),!Z.ok){const fe=await Z.text();throw console.log("Erro da resposta:",fe),new Error(`Falha ao buscar alunos da turma. Status: ${Z.status}`)}const se=await Z.json();console.log("Alunos encontrados:",se),I(se),O(!0)}catch(K){console.error("Erro ao buscar alunos:",K),alert(`Erro: ${K.message}`)}finally{U(!1)}},ne=()=>{O(!1),I([])},ce=P=>{Y(P),X(!0)},re=()=>{X(!1),Y(null)},de=async P=>{console.log("Rematrcula realizada:",P);try{const K=await fetch("http://localhost:3001/turmas",{credentials:"include"});if(K.ok){const Z=await K.json();u(Z)}}catch(K){console.error("Erro ao recarregar turmas:",K)}},ye={padding:"10px 20px",fontSize:"16px",cursor:"pointer",border:"1px solid #ccc",backgroundColor:"#f8f9fa",color:"#333",borderBottom:"3px solid transparent"},G={...ye,color:"#007bff",borderBottom:"3px solid #007bff",backgroundColor:"#fff"};return g?m.createElement("div",{style:{padding:"2rem"}},"Carregando turmas..."):_?m.createElement("div",{style:{padding:"2rem"}},"Erro: ",_):m.createElement("div",{style:{padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'}},m.createElement("div",{className:"page-header"},m.createElement("h1",null,"Gerenciamento de Turmas"),m.createElement("div",{style:{display:"flex",alignItems:"center",gap:"1rem"}},m.createElement("div",{style:{minWidth:"150px"}},m.createElement(Pa,{label:"Ano Letivo:",hint:"Filtre as turmas por ano letivo ou visualize todas",value:d,onChange:P=>h(P.target.value)},m.createElement("option",{value:""},"Todos"),y.map(P=>m.createElement("option",{key:P,value:P},P)))))),m.createElement("div",{style:{marginBottom:"2rem",borderBottom:"1px solid #ccc"}},m.createElement("button",{style:e==="jardim"?G:ye,onClick:()=>n("jardim")},"Jardim"),m.createElement("button",{style:e==="maternal"?G:ye,onClick:()=>n("maternal")},"Maternal")),m.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem"}},F.length>0?F.map(P=>m.createElement("div",{key:P.id,onClick:()=>j(P),onMouseEnter:()=>l(P.id),onMouseLeave:()=>l(null),style:{border:"1px solid #dee2e6",borderRadius:"8px",padding:"1.5rem",backgroundColor:"#fff",boxShadow:i===P.id?"0 4px 12px rgba(0,0,0,0.1)":"0 2px 4px rgba(0,0,0,0.05)",cursor:"pointer",transition:"box-shadow 0.2s, transform 0.2s",transform:i===P.id?"translateY(-2px)":"none"}},m.createElement("h3",{style:{marginTop:0,marginBottom:"1rem",color:"#343a40"}},P.nome_turma),m.createElement("p",{style:{margin:"0.5rem 0"}},m.createElement("strong",null,"Professor(a):")," ",P.professores.length>0?P.professores.map(K=>K.nome).join(", "):"Nenhum professor associado"),m.createElement("p",{style:{margin:"0.5rem 0"}},m.createElement("strong",null,"Perodo:")," ",m.createElement("span",{style:{textTransform:"capitalize"}},P.periodo)),m.createElement("p",{style:{margin:"0.5rem 0"}},m.createElement("strong",null,"Alunos:")," ",P.alunos_count))):m.createElement("p",null,"Nenhuma turma encontrada para o nvel selecionado.")),r&&m.createElement(ik,{turma:r,onClose:D,onDelete:M,onViewAlunos:$,onRematricula:ce,user:t}),A&&m.createElement(sk,{turma:r,alunos:R,onClose:ne,loading:ee}),te&&T&&m.createElement(ak,{turmaOrigem:T,todasTurmas:c,onClose:re,onRematricular:de}))},ik=({turma:t,onClose:e,onDelete:n,onViewAlunos:r,onRematricula:a,user:i})=>{const l=ta(),c=d=>{d.stopPropagation()},u=()=>{n(t.id)};return m.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:e},m.createElement("div",{style:{backgroundColor:"#fff",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},onClick:c},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee",paddingBottom:"1rem",marginBottom:"1rem"}},m.createElement("h2",{style:{margin:0}},t.nome_turma),m.createElement("button",{style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#888"},onClick:e},"")),m.createElement("div",{style:{overflowY:"auto",paddingRight:"1rem"}},m.createElement("h3",{style:{marginTop:0}},"Alunos (",t.alunos_count,")"),t.alunos&&t.alunos.length>0?m.createElement("ul",{style:{listStyle:"none",paddingLeft:"0",margin:0}},t.alunos.map((d,h)=>m.createElement("li",{key:d.id,style:{padding:"12px 8px",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center"}},m.createElement("span",null,h+1,". ",d.nome_completo)))):m.createElement("p",null,"Nenhum aluno matriculado nesta turma.")),m.createElement("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",flexWrap:"wrap"}},i&&i.cargo&&i.cargo.toLowerCase()!=="professor"&&m.createElement("button",{onClick:u,style:{padding:"10px 16px",cursor:"pointer",border:"none",backgroundColor:"#dc3545",color:"white",borderRadius:"6px",fontSize:"14px",fontWeight:"500"}},"Excluir Turma"),m.createElement("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"}},m.createElement("button",{onClick:()=>r(t),style:{padding:"10px 16px",cursor:"pointer",border:"none",backgroundColor:"#007bff",color:"white",borderRadius:"6px",fontSize:"14px",fontWeight:"500"}},"Ver Alunos (",t.alunos_count,")"),i&&i.cargo&&i.cargo.toLowerCase()!=="professor"&&m.createElement("button",{onClick:()=>a(t),style:{padding:"10px 16px",cursor:"pointer",border:"none",backgroundColor:"#ff9800",color:"white",borderRadius:"6px",fontSize:"14px",fontWeight:"500"}}," Rematrcula"),m.createElement("button",{onClick:()=>l(`/home/turmas/${t.id}/historico-presenca`),style:{padding:"10px 16px",cursor:"pointer",border:"1px solid #6c757d",backgroundColor:"#fff",color:"#6c757d",borderRadius:"6px",fontSize:"14px",fontWeight:"500"}},"Histrico de Presena"),m.createElement("button",{onClick:()=>l(`/home/turmas/${t.id}/presenca`),style:{padding:"10px 16px",cursor:"pointer",border:"none",backgroundColor:"#28a745",color:"white",borderRadius:"6px",fontSize:"14px",fontWeight:"500"}},"Registrar Presena")))))},sk=({turma:t,alunos:e,onClose:n,loading:r})=>{const a=h=>{if(!h)return"N/A";const y=new Date(h);return new Date(y.getTime()+y.getTimezoneOffset()*6e4).toLocaleDateString("pt-BR")},i=async()=>{const h=new _t,y=h.internal.pageSize.getWidth(),w=h.internal.pageSize.getHeight();let g=20;try{const I=new Image;I.src=fh,await new Promise((ee,U)=>{I.onload=ee,I.onerror=U}),h.addImage(I,"PNG",15,10,25,25)}catch(I){console.error("Erro ao carregar logo:",I)}if(h.setFontSize(18),h.setFont("helvetica","bold"),h.setTextColor(30,60,114),h.text("Portal Primavera Waldorf",45,18),h.setFontSize(14),h.setFont("helvetica","normal"),h.setTextColor(0,0,0),h.text("Relatrio de Alunos da Turma",45,26),h.setDrawColor(30,60,114),h.setLineWidth(.5),h.line(15,38,y-15,38),g=45,h.setFontSize(14),h.setFont("helvetica","bold"),h.text("TURMA:",20,g),h.setFont("helvetica","normal"),h.text(t?.nome_turma||"N/A",45,g),g+=10,h.setFont("helvetica","bold"),h.text("ANO LETIVO:",20,g),h.setFont("helvetica","normal"),h.text(t?.ano_letivo?.toString()||"N/A",55,g),g+=12,h.setFont("helvetica","bold"),h.text("PERODO:",20,g),h.setFont("helvetica","normal"),h.text(t?.periodo||"N/A",50,g),g+=12,t?.professores&&t.professores.length>0){h.setFont("helvetica","bold"),h.text("PROFESSOR(ES):",20,g),h.setFont("helvetica","normal");const I=t.professores.map(te=>te.nome).join(", "),ee=y-70,U=h.splitTextToSize(I,ee);U.length===1?(h.text(I,65,g),g+=12):(g+=6,h.text(U,20,g),g+=U.length*6+6)}g+=10,h.setFontSize(12),h.setFont("helvetica","bold"),h.text("RESUMO:",20,g),g+=8,h.setFont("helvetica","normal"),h.text(` Total de Alunos: ${e.length}`,25,g),g+=6;const N=e.filter(I=>I.status_aluno).length,_=e.length-N;h.text(` Alunos Ativos: ${N}`,25,g),g+=6,h.text(` Alunos Inativos: ${_}`,25,g),g+=6;const S=e.filter(I=>I.status_pagamento?.toLowerCase()==="em_dia").length,A=e.filter(I=>I.status_pagamento?.toLowerCase()==="atrasado").length,O=e.filter(I=>I.status_pagamento?.toLowerCase()==="isento").length;h.text(` Pagamentos em Dia: ${S}`,25,g),g+=6,h.text(` Pagamentos Atrasados: ${A}`,25,g),g+=6,h.text(` Isentos: ${O}`,25,g),g+=15,h.setFontSize(12),h.setFont("helvetica","bold"),h.text("LISTA DE ALUNOS:",20,g),g+=10,h.setFontSize(9),h.setFont("helvetica","bold"),h.text("N",20,g),h.text("NOME",30,g),h.text("NASCIMENTO",80,g),h.text("STATUS",110,g),h.text("PAGAMENTO",130,g),h.text("RESPONSVEL",160,g),g+=8,h.line(20,g,y-20,g),g+=5,h.setFont("helvetica","normal"),e.forEach((I,ee)=>{g>w-30&&(h.addPage(),g=20),h.text((ee+1).toString(),20,g);const U=I.nome_completo.length>25?I.nome_completo.substring(0,25)+"...":I.nome_completo;h.text(U,30,g),h.text(a(I.data_nascimento),80,g);const te=I.status_aluno?"Ativo":"Inativo";h.text(te,110,g);const X=d(I.status_pagamento);h.text(X,130,g);const T=I.responsavel_nome||"N/A",Y=T.length>20?T.substring(0,20)+"...":T;h.text(Y,160,g),g+=6}),g=w-20,h.setFontSize(8),h.setFont("helvetica","italic"),h.text("Relatrio gerado automaticamente pelo Sistema Escola",y/2,g,{align:"center"}),h.text(`Data de gerao: ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}`,y/2,g+5,{align:"center"});const R=`relatorio_alunos_${t?.nome_turma?.replace(/\s+/g,"_")||"turma"}_${t?.ano_letivo||"ano"}.pdf`;h.save(R)},l=h=>h?"#28a745":"#dc3545",c=h=>h?"Ativo":"Inativo",u=h=>{switch(h?.toLowerCase()){case"em_dia":return"#28a745";case"atrasado":return"#dc3545";case"isento":return"#007bff";default:return"#6c757d"}},d=h=>{switch(h?.toLowerCase()){case"em_dia":return"Em dia";case"atrasado":return"Atrasado";case"isento":return"Isento";default:return"N/A"}};return m.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:n},m.createElement("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"1000px",maxHeight:"80vh",overflow:"auto",position:"relative"},onClick:h=>h.stopPropagation()},m.createElement("div",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"}},m.createElement("h2",{style:{margin:0,color:"#333"}},"Alunos da Turma: ",t?.nome_turma),m.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"#666"}},t?.ano_letivo,"  ",t?.periodo,"  ",e.length," aluno(s)")),r&&m.createElement("div",{style:{textAlign:"center",padding:"2rem"}},m.createElement("p",null,"Carregando alunos...")),!r&&e.length>0&&m.createElement("div",{style:{display:"grid",gap:"1rem"}},e.map(h=>m.createElement("div",{key:h.id,style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1.5rem",backgroundColor:"#f9f9f9"}},m.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"}},m.createElement("div",null,m.createElement("h4",{style:{margin:"0 0 0.5rem 0",color:"#333"}},h.nome_completo),m.createElement("p",{style:{margin:"0.25rem 0",fontSize:"0.9rem"}},m.createElement("strong",null,"Data de Nascimento:")," ",a(h.data_nascimento))),m.createElement("div",null,m.createElement("p",{style:{margin:"0.25rem 0",fontSize:"0.9rem"}},m.createElement("strong",null,"Status:")," ",m.createElement("span",{style:{color:l(h.status_aluno)}},c(h.status_aluno))),m.createElement("p",{style:{margin:"0.25rem 0",fontSize:"0.9rem"}},m.createElement("strong",null,"Pagamento:")," ",m.createElement("span",{style:{color:u(h.status_pagamento)}},d(h.status_pagamento)))),m.createElement("div",null,h.responsavel_nome&&m.createElement("p",{style:{margin:"0.25rem 0",fontSize:"0.9rem"}},m.createElement("strong",null,"Responsvel:")," ",h.responsavel_nome),h.responsavel_telefone&&m.createElement("p",{style:{margin:"0.25rem 0",fontSize:"0.9rem"}},m.createElement("strong",null,"Telefone:")," ",h.responsavel_telefone),h.responsavel_email&&m.createElement("p",{style:{margin:"0.25rem 0",fontSize:"0.9rem"}},m.createElement("strong",null,"Email:")," ",h.responsavel_email)))))),!r&&e.length===0&&m.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#666"}},m.createElement("p",null,"Nenhum aluno encontrado nesta turma.")),m.createElement("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"}},m.createElement("button",{onClick:i,disabled:r||e.length===0,style:{padding:"10px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:e.length===0?"not-allowed":"pointer",opacity:e.length===0?.6:1,fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"}}," Gerar PDF"),m.createElement("button",{onClick:n,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"}},"Fechar"))))},lk=[{value:"P",label:"Presente"},{value:"F",label:"Falta"},{value:"FJ",label:"Falta Justificada"}],ck=()=>{const{turmaId:t}=bd(),e=ta(),[n,r]=q.useState(null),[a,i]=q.useState({}),[l,c]=q.useState(new Date().toISOString().split("T")[0]),[u,d]=q.useState(!0),[h,y]=q.useState(!1),[w,g]=q.useState("");q.useEffect(()=>{(async()=>{if(!(!t||!l)){d(!0),g("");try{const[O,R]=await Promise.all([fetch(`http://localhost:3001/turmas/${t}/detalhes-presenca`),fetch(`http://localhost:3001/turmas/${t}/presencas?data=${l}`)]);if(!O.ok){const X=O.headers.get("content-type");if(X&&X.includes("application/json")){const T=await O.json();throw new Error(T.error||"Falha ao buscar dados da turma.")}throw new Error(`Resposta inesperada do servidor (status: ${O.status}). Verifique se o backend est rodando.`)}const I=await O.json();console.log("Dados recebidos da API para a turma:",I);const ee=R.ok?await R.json():[];if(!I||!Array.isArray(I.alunos))throw new Error("A resposta da API para os dados da turma  invlida ou no contm uma lista de alunos.");r(I);const U=ee.reduce((X,T)=>(X[T.aluno_id]={status:T.status_presenca,observacao:T.observacao||""},X),{}),te=I.alunos.reduce((X,T)=>(X[T.id]=U[T.id]||{status:"P",observacao:""},X),{});i(te)}catch(O){console.error("Erro ao carregar dados da presena:",O),g(O.message||"Ocorreu um erro desconhecido ao carregar os dados.")}finally{d(!1)}}})()},[t,l]);const N=(A,O)=>{i(R=>({...R,[A]:{...R[A],status:O}}))},_=(A,O)=>{i(R=>({...R,[A]:{...R[A],observacao:O}}))},S=async()=>{y(!0),g("");const A={data_aula:l,presencas:Object.entries(a).map(([O,R])=>({aluno_id:parseInt(O,10),status_presenca:R.status,observacao:R.observacao}))};try{const O=await fetch(`http://localhost:3001/turmas/${t}/presencas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!O.ok){const R=await O.json();throw new Error(R.error||"Falha ao salvar presena.")}alert("Presena salva com sucesso!"),e("/home/turmas")}catch(O){g(O.message),alert(`Erro: ${O.message}`)}finally{y(!1)}};return u?m.createElement("div",{style:{padding:"2rem"}},"Carregando informaes da turma..."):w?m.createElement("div",{style:{padding:"2rem",color:"red"}},"Erro: ",w):n?m.createElement("div",{style:{padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'}},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},m.createElement("h1",{style:{marginBottom:"0.5rem"}},"Registro de Presena: ",n.nome_turma),m.createElement("button",{onClick:()=>e(-1),style:{padding:"8px 16px",cursor:"pointer"}},"Voltar")),m.createElement("div",{style:{marginBottom:"2rem"}},m.createElement(Cn,{label:"Data:",hint:"Selecione a data da aula para registrar ou consultar a presena dos alunos",type:"date",value:l,onChange:A=>c(A.target.value)})),m.createElement("div",{style:{border:"1px solid #dee2e6",borderRadius:"8px",overflow:"hidden"}},m.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},m.createElement("thead",null,m.createElement("tr",{style:{borderBottom:"2px solid #dee2e6",backgroundColor:"#f8f9fa"}},m.createElement("th",{style:{padding:"12px",textAlign:"left",width:"30%"}},"Aluno"),m.createElement("th",{style:{padding:"12px",textAlign:"left",width:"35%"}},"Status"),m.createElement("th",{style:{padding:"12px",textAlign:"left",width:"35%"}},"Observao"))),m.createElement("tbody",null,n?.alunos?.length>0?n.alunos.map(A=>m.createElement("tr",{key:A.id,style:{borderBottom:"1px solid #f0f0f0"}},m.createElement("td",{style:{padding:"12px"}},A.nome_completo),m.createElement("td",{style:{padding:"12px",display:"flex",gap:"1rem"}},lk.map(O=>m.createElement("label",{key:O.value,style:{cursor:"pointer",display:"flex",alignItems:"center"}},m.createElement("input",{type:"radio",name:`status-${A.id}`,value:O.value,checked:a[A.id]?.status===O.value,onChange:()=>N(A.id,O.value),style:{marginRight:"0.5rem"}}),O.label))),m.createElement("td",{style:{padding:"12px"}},m.createElement("input",{type:"text",value:a[A.id]?.observacao||"",onChange:O=>_(A.id,O.target.value),placeholder:"Adicionar observao...",style:{width:"95%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})))):m.createElement("tr",null,m.createElement("td",{colSpan:"3",style:{padding:"16px",textAlign:"center"}},"Nenhum aluno encontrado para esta turma."))))),m.createElement("div",{style:{marginTop:"2rem",textAlign:"right"}},m.createElement("button",{onClick:S,disabled:h,style:{padding:"12px 24px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer",opacity:h?.6:1}},h?"Salvando...":"Salvar Presena"))):m.createElement("div",{style:{padding:"2rem"}},"Turma no encontrada.")},Jm={P:{text:"Presente",color:"#28a745"},F:{text:"Falta",color:"#dc3545"},FJ:{text:"Falta Justificada",color:"#ffc107"}},uk=()=>{const{turmaId:t}=bd(),e=ta(),[n,r]=q.useState([]),[a,i]=q.useState(null),[l,c]=q.useState(!0),[u,d]=q.useState(""),[h,y]=q.useState(null);q.useEffect(()=>{(async()=>{if(t){c(!0),d("");try{const[S,A]=await Promise.all([fetch(`http://localhost:3001/turmas/${t}/historico-presenca`),fetch(`http://localhost:3001/turmas/${t}/detalhes-presenca`)]);if(!S.ok||!A.ok)throw new Error("Falha ao buscar dados do histrico da turma.");const O=await S.json(),R=await A.json();r(O),i(R)}catch(S){d(S.message)}finally{c(!1)}}})()},[t]);const w=_=>{const S=new Date(_);return new Date(S.getTime()+S.getTimezoneOffset()*6e4).toLocaleDateString("pt-BR")},g=_=>{y(h===_?null:_)},N=async _=>{const S=new _t,A=S.internal.pageSize.getWidth(),O=S.internal.pageSize.getHeight();let R=20;try{const U=new Image;U.src=fh,await new Promise((te,X)=>{U.onload=te,U.onerror=X}),S.addImage(U,"PNG",15,10,25,25)}catch(U){console.error("Erro ao carregar logo:",U)}S.setFontSize(18),S.setFont("helvetica","bold"),S.setTextColor(30,60,114),S.text("Portal Primavera Waldorf",45,18),S.setFontSize(14),S.setFont("helvetica","normal"),S.setTextColor(0,0,0),S.text("Relatrio de Presena",45,26),S.setDrawColor(30,60,114),S.setLineWidth(.5),S.line(15,38,A-15,38),R=45,S.setFontSize(14),S.setFont("helvetica","bold"),S.text("TURMA:",20,R),S.setFont("helvetica","normal"),S.text(a?.nome_turma||"N/A",50,R),R+=10,S.setFont("helvetica","bold"),S.text("DATA:",20,R),S.setFont("helvetica","normal"),S.text(w(_.data_aula),50,R),R+=10,a?.periodo&&(S.setFont("helvetica","bold"),S.text("PERODO:",20,R),S.setFont("helvetica","normal"),S.text(a.periodo,50,R),R+=10),a?.ano_letivo&&(S.setFont("helvetica","bold"),S.text("ANO LETIVO:",20,R),S.setFont("helvetica","normal"),S.text(a.ano_letivo.toString(),50,R),R+=10),R+=10,S.setFontSize(12),S.setFont("helvetica","bold"),S.text("RESUMO:",20,R),R+=8,S.setFont("helvetica","normal"),S.text(` Total de Alunos: ${_.registros.length}`,25,R),R+=6,S.text(` Presentes: ${_.presentes}`,25,R),R+=6,S.text(` Faltas: ${_.faltas}`,25,R),R+=6,S.text(` Faltas Justificadas: ${_.faltas_justificadas}`,25,R),R+=6;const I=_.registros.length>0?(_.presentes/_.registros.length*100).toFixed(1):0;S.text(` Percentual de Presena: ${I}%`,25,R),R+=15,S.setFontSize(12),S.setFont("helvetica","bold"),S.text("LISTA DE PRESENAS:",20,R),R+=10,S.setFontSize(10),S.setFont("helvetica","bold"),S.text("N",20,R),S.text("NOME DO ALUNO",35,R),S.text("STATUS",120,R),S.text("OBSERVAO",150,R),R+=8,S.line(20,R,A-20,R),R+=5,S.setFont("helvetica","normal"),_.registros.forEach((U,te)=>{R>O-30&&(S.addPage(),R=20),S.text((te+1).toString(),20,R),S.text(U.nome_completo,35,R);const X=Jm[U.status]?.text||U.status;S.text(X,120,R);const T=U.observacao||"---",Y=T.length>30?T.substring(0,30)+"...":T;S.text(Y,150,R),R+=6}),R=O-20,S.setFontSize(8),S.setFont("helvetica","italic"),S.text("Relatrio gerado automaticamente pelo Sistema Escola",A/2,R,{align:"center"}),S.text(`Data de gerao: ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}`,A/2,R+5,{align:"center"});const ee=`relatorio_presenca_${a?.nome_turma?.replace(/\s+/g,"_")||"turma"}_${w(_.data_aula).replace(/\//g,"-")}.pdf`;S.save(ee)};return l?m.createElement("div",{style:{padding:"2rem"}},"Carregando histrico..."):u?m.createElement("div",{style:{padding:"2rem",color:"red"}},"Erro: ",u):m.createElement("div",{style:{padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'}},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"}},m.createElement("h1",{style:{margin:0}},"Histrico de Presena: ",a?.nome_turma||"Turma"),m.createElement("div",{style:{display:"flex",gap:"10px"}},m.createElement("button",{onClick:()=>{e(`/home/historico-aluno-presenca/${t}`)},style:{padding:"8px 16px",cursor:"pointer",backgroundColor:"#007bff",color:"white",border:"1px solid #007bff",borderRadius:"4px"}},"Observao"),m.createElement("button",{onClick:()=>e(-1),style:{padding:"8px 16px",cursor:"pointer"}},"Voltar"))),n.length===0?m.createElement("p",null,"Nenhum registro de presena encontrado para esta turma."):m.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},n.map(_=>m.createElement("div",{key:_.data_aula,style:{border:"1px solid #dee2e6",borderRadius:"8px",overflow:"hidden"}},m.createElement("div",{onClick:()=>g(_.data_aula),style:{padding:"1rem",backgroundColor:"#f8f9fa",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"}},m.createElement("strong",{style:{fontSize:"1.1rem"}},w(_.data_aula)),m.createElement("div",{style:{display:"flex",gap:"1rem",alignItems:"center"}},m.createElement("span",null,"Presentes: ",_.presentes),m.createElement("span",null,"Faltas: ",_.faltas),m.createElement("span",null,"Justificadas: ",_.faltas_justificadas),m.createElement("button",{onClick:S=>{S.stopPropagation(),N(_)},style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",marginLeft:"1rem"},onMouseEnter:S=>{S.target.style.backgroundColor="#c82333"},onMouseLeave:S=>{S.target.style.backgroundColor="#dc3545"}}," Gerar PDF"))),h===_.data_aula&&m.createElement("div",{style:{padding:"1rem"}},m.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},m.createElement("thead",null,m.createElement("tr",{style:{borderBottom:"2px solid #dee2e6"}},m.createElement("th",{style:{padding:"8px",textAlign:"left"}},"Aluno"),m.createElement("th",{style:{padding:"8px",textAlign:"left"}},"Status"),m.createElement("th",{style:{padding:"8px",textAlign:"left"}},"Observao"))),m.createElement("tbody",null,_.registros.map(S=>m.createElement("tr",{key:S.aluno_id,style:{borderBottom:"1px solid #f0f0f0"}},m.createElement("td",{style:{padding:"8px"}},S.nome_completo),m.createElement("td",{style:{padding:"8px"}},m.createElement("span",{style:{color:Jm[S.status]?.color||"#000",fontWeight:"bold"}},Jm[S.status]?.text||S.status)),m.createElement("td",{style:{padding:"8px"}},S.observacao||"---"))))))))))},f5={P:{text:"Presente",color:"#28a745"},F:{text:"Falta",color:"#dc3545"},FJ:{text:"Falta Justificada",color:"#ffc107"}},dk=()=>{const t=ta(),{turmaId:e}=bd(),[n,r]=q.useState([]),[a,i]=q.useState([]),[l,c]=q.useState(e||""),[u,d]=q.useState(""),[h,y]=q.useState(""),[w,g]=q.useState([]),[N,_]=q.useState([]),[S,A]=q.useState(!1),[O,R]=q.useState(""),[I,ee]=q.useState(null),[U,te]=q.useState(null);q.useEffect(()=>{(async()=>{try{const j=await fetch("http://localhost:3001/turmas",{credentials:"include"});if(!j.ok)throw new Error("Erro ao buscar turmas");const D=await j.json();if(r(D),D.length>0){const $=[...new Set(D.map(ne=>ne.ano_letivo))].sort((ne,ce)=>ce-ne);g($),y($[0].toString())}}catch(j){console.error("Erro ao buscar turmas:",j),R("Erro ao carregar turmas: "+j.message)}})()},[]),q.useEffect(()=>{if(!l){i([]);return}(async()=>{try{const j=await fetch(`http://localhost:3001/turmas/${l}/alunos`,{credentials:"include"});if(!j.ok){const $=await j.text();throw new Error(`Erro ${j.status}: ${$}`)}const D=await j.json();i(D),R("")}catch(j){console.error("Erro ao buscar alunos:",j),R("Erro ao carregar alunos: "+j.message),i([])}})()},[l]),q.useEffect(()=>{if(!l||!u){_([]),ee(null),te(null);return}if(h){const j=n.find(D=>D.id.toString()===l.toString());if(!j||j.ano_letivo.toString()!==h){_([]),ee(null),te(null);return}}(async()=>{A(!0),R("");try{const[j,D]=await Promise.all([fetch(`http://localhost:3001/turmas/${l}/historico-presenca`,{credentials:"include"}),fetch(`http://localhost:3001/turmas/${l}/detalhes-presenca`,{credentials:"include"})]);if(!j.ok||!D.ok){const de=[];throw j.ok||de.push(`Histrico: ${j.status}`),D.ok||de.push(`Turma: ${D.status}`),new Error(`Erro ao buscar dados - ${de.join(", ")}`)}const $=await j.json(),ne=await D.json();if(console.log("Dados recebidos:"),console.log("historicoData:",$),console.log("turmaData:",ne),console.log("selectedAluno:",u),!ne||!Array.isArray(ne.alunos))throw new Error("Dados da turma so invlidos ou no contm lista de alunos");const ce=ne.alunos.find(de=>de.id==u);if(!ce)throw new Error("Aluno no encontrado");const re=[];Array.isArray($)&&$.length>0?(console.log("Processando histrico com",$.length,"dias"),$.forEach((de,ye)=>{console.log(`Dia ${ye+1}:`,de.data_aula,"registros:",de.registros?.length),de&&Array.isArray(de.registros)?de.registros.forEach((G,P)=>{if(console.log(`  Registro ${P+1}:`,G.aluno_id,"status:",G.status),G&&G.aluno_id==u){console.log("  -> ENCONTROU ALUNO!",G);const Z=new Date(de.data_aula).getFullYear();console.log("  -> Ano da aula:",Z,"Ano selecionado:",h),!h||Z.toString()===h?(console.log("  -> ADICIONANDO REGISTRO!"),console.log("  -> Observao do registro:",G.observacao),re.push({data_aula:de.data_aula,status:G.status,observacao:G.observacao||null})):console.log("  -> FILTRANDO POR ANO")}}):console.log("  Dia sem registros vlidos:",de.registros)})):console.log("historicoData  invlido:",$),console.log("Histrico do aluno filtrado:",re),console.log("Observaes encontradas:",re.map(de=>de.observacao).filter(de=>de)),_(re),ee(ce),te(ne)}catch(j){console.error("Erro ao carregar histrico:",j),R("Erro ao carregar histrico: "+j.message)}finally{A(!1)}})()},[l,u,h,n]);const X=M=>{const j=new Date(M);return new Date(j.getTime()+j.getTimezoneOffset()*6e4).toLocaleDateString("pt-BR")},T=()=>{if(!N.length)return{presencas:0,faltas:0,faltasJustificadas:0,total:0};let M=0,j=0,D=0;return N.forEach($=>{switch($.status){case"P":M++;break;case"F":j++;break;case"FJ":D++;break}}),{presencas:M,faltas:j,faltasJustificadas:D,total:N.length}},Y=async()=>{if(!I||!U||!N.length){alert("No h dados suficientes para gerar o PDF");return}const M=new _t,j=M.internal.pageSize.getWidth(),D=M.internal.pageSize.getHeight();let $=20;try{const ye=new Image;ye.src=fh,await new Promise((G,P)=>{ye.onload=G,ye.onerror=P}),M.addImage(ye,"PNG",15,10,25,25)}catch(ye){console.error("Erro ao carregar logo:",ye)}M.setFontSize(18),M.setFont("helvetica","bold"),M.setTextColor(30,60,114),M.text("Portal Primavera Waldorf",45,18),M.setFontSize(14),M.setFont("helvetica","normal"),M.setTextColor(0,0,0),M.text("Histrico Individual de Presena",45,26),M.setDrawColor(30,60,114),M.setLineWidth(.5),M.line(15,38,j-15,38),$=45,M.setFontSize(14),M.setFont("helvetica","bold"),M.text("ALUNO:",20,$),M.setFont("helvetica","normal"),M.text(I.nome_completo,55,$),$+=10,M.setFont("helvetica","bold"),M.text("TURMA:",20,$),M.setFont("helvetica","normal"),M.text(U.nome_turma,55,$),$+=10,h&&(M.setFont("helvetica","bold"),M.text("ANO LETIVO:",20,$),M.setFont("helvetica","normal"),M.text(h,75,$),$+=10),M.setFont("helvetica","bold"),M.text("RELATRIO GERADO EM:",20,$),M.setFont("helvetica","normal"),M.text(new Date().toLocaleDateString("pt-BR"),105,$),$+=15;const ne=T();M.setFontSize(12),M.setFont("helvetica","bold"),M.text("RESUMO ESTATSTICO:",20,$),$+=8,M.setFont("helvetica","normal"),M.text(` Total de Aulas: ${ne.total}`,25,$),$+=6,M.text(` Presenas: ${ne.presencas}`,25,$),$+=6,M.text(` Faltas: ${ne.faltas}`,25,$),$+=6,M.text(` Faltas Justificadas: ${ne.faltasJustificadas}`,25,$),$+=6;const ce=ne.total>0?(ne.presencas/ne.total*100).toFixed(1):0;M.text(` Percentual de Presena: ${ce}%`,25,$),$+=15,M.setFontSize(12),M.setFont("helvetica","bold"),M.text("HISTRICO DETALHADO:",20,$),$+=10,M.setFontSize(10),M.setFont("helvetica","bold"),M.text("DATA",20,$),M.text("STATUS",60,$),M.text("OBSERVAO",100,$),$+=2,M.line(20,$,190,$),$+=6,M.setFont("helvetica","normal"),N.sort((ye,G)=>new Date(G.data_aula)-new Date(ye.data_aula)).forEach((ye,G)=>{$>D-30&&(M.addPage(),$=20,M.setFontSize(10),M.setFont("helvetica","bold"),M.text("DATA",20,$),M.text("STATUS",60,$),M.text("OBSERVAO",100,$),$+=2,M.line(20,$,190,$),$+=6,M.setFont("helvetica","normal")),M.text(X(ye.data_aula),20,$);const P=f5[ye.status]?.text||ye.status;M.text(P,60,$);const K=ye.observacao||"",Z=35,se=K.length>Z?K.substring(0,Z)+"...":K;M.text(se,100,$),$+=8});const re=M.internal.getNumberOfPages();for(let ye=1;ye<=re;ye++)M.setPage(ye),M.setFontSize(8),M.setFont("helvetica","normal"),M.text(`Pgina ${ye} de ${re}`,j-30,D-10,{align:"right"});const de=`historico_${I.nome_completo.replace(/\s+/g,"_")}_${U.nome_turma.replace(/\s+/g,"_")}_${h||"todos_anos"}.pdf`;M.save(de)},F=T();return m.createElement("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"}},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"}},m.createElement("h1",{style:{margin:0}},"Histrico Individual de Presena"),m.createElement("div",{style:{display:"flex",gap:"10px"}},m.createElement("button",{onClick:Y,disabled:!I||!N.length,style:{padding:"8px 16px",cursor:!I||!N.length?"not-allowed":"pointer",backgroundColor:!I||!N.length?"#ccc":"#dc3545",color:"white",border:"none",borderRadius:"4px",fontWeight:"bold"}}," Gerar PDF"),m.createElement("button",{onClick:()=>t(-1),style:{padding:"8px 16px",cursor:"pointer"}},"Voltar"))),m.createElement("div",{style:{display:"flex",gap:"20px",marginBottom:"2rem",alignItems:"end"}},m.createElement("div",{style:{minWidth:"150px"}},m.createElement(Pa,{label:"Ano Letivo:",hint:"Filtre por ano letivo especfico ou visualize todos os anos disponveis",value:h,onChange:M=>{y(M.target.value),c(""),d("")}},m.createElement("option",{value:""},"Todos os anos"),w.map(M=>m.createElement("option",{key:M,value:M},M)))),m.createElement("div",{style:{minWidth:"200px"}},m.createElement(Pa,{label:"Selecionar Turma:",hint:"Escolha a turma para visualizar os alunos e seus histricos de presena",value:l,onChange:M=>{c(M.target.value),d("")}},m.createElement("option",{value:""},"Selecione uma turma"),n.filter(M=>!h||M.ano_letivo.toString()===h).map(M=>m.createElement("option",{key:M.id,value:M.id},M.nome_turma)))),m.createElement("div",{style:{minWidth:"200px"}},m.createElement(Pa,{label:"Selecionar Aluno:",hint:"Selecione o aluno para ver seu histrico completo de presena, faltas e justificativas",value:u,onChange:M=>d(M.target.value),disabled:!l},m.createElement("option",{value:""},"Selecione um aluno"),a.map(M=>m.createElement("option",{key:M.id,value:M.id},M.nome_completo))))),I&&U&&m.createElement("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"2rem",border:"1px solid #dee2e6"}},m.createElement("h2",{style:{margin:"0 0 15px 0",color:"#495057"}},"Informaes do Aluno"),m.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"}},m.createElement("p",null,m.createElement("strong",null,"Nome:")," ",I.nome_completo),m.createElement("p",null,m.createElement("strong",null,"Turma:")," ",U.nome_turma))),N.length>0&&m.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px",marginBottom:"2rem"}},m.createElement("div",{style:{backgroundColor:"#d4edda",padding:"15px",borderRadius:"8px",textAlign:"center",border:"1px solid #c3e6cb"}},m.createElement("h3",{style:{margin:0,color:"#155724"}},"Presenas"),m.createElement("p",{style:{fontSize:"24px",margin:"5px 0",fontWeight:"bold",color:"#155724"}},F.presencas)),m.createElement("div",{style:{backgroundColor:"#f8d7da",padding:"15px",borderRadius:"8px",textAlign:"center",border:"1px solid #f5c6cb"}},m.createElement("h3",{style:{margin:0,color:"#721c24"}},"Faltas"),m.createElement("p",{style:{fontSize:"24px",margin:"5px 0",fontWeight:"bold",color:"#721c24"}},F.faltas)),m.createElement("div",{style:{backgroundColor:"#fff3cd",padding:"15px",borderRadius:"8px",textAlign:"center",border:"1px solid #ffeaa7"}},m.createElement("h3",{style:{margin:0,color:"#856404"}},"Faltas Justificadas"),m.createElement("p",{style:{fontSize:"24px",margin:"5px 0",fontWeight:"bold",color:"#856404"}},F.faltasJustificadas)),m.createElement("div",{style:{backgroundColor:"#e2e3e5",padding:"15px",borderRadius:"8px",textAlign:"center",border:"1px solid #d6d8db"}},m.createElement("h3",{style:{margin:0,color:"#383d41"}},"Total de Aulas"),m.createElement("p",{style:{fontSize:"24px",margin:"5px 0",fontWeight:"bold",color:"#383d41"}},F.total))),O&&m.createElement("div",{style:{color:"#dc3545",marginBottom:"1rem",padding:"10px",backgroundColor:"#f8d7da",borderRadius:"4px"}},O),S&&m.createElement("div",{style:{textAlign:"center",padding:"2rem"}},"Carregando histrico..."),!S&&!O&&u&&N.length===0&&m.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#6c757d"}},"Nenhum registro de presena encontrado para este aluno."),!S&&!O&&N.length>0&&m.createElement("div",null,m.createElement("h2",{style:{marginBottom:"1rem"}},"Histrico Detalhado de Presena"),m.createElement("div",{style:{display:"grid",gap:"10px",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))"}},N.map((M,j)=>{const D=f5[M.status]||{text:"Desconhecido",color:"#6c757d"};return m.createElement("div",{key:j,style:{padding:"15px",border:"1px solid #dee2e6",borderRadius:"8px",backgroundColor:"#fff"}},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},m.createElement("strong",null,X(M.data_aula)),m.createElement("span",{style:{padding:"4px 8px",borderRadius:"4px",backgroundColor:D.color,color:"white",fontSize:"12px",fontWeight:"bold"}},D.text)),M.observacao&&m.createElement("div",{style:{padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"14px",borderLeft:"3px solid #007bff"}},m.createElement("strong",null,"Observao:")," ",M.observacao))}))))},fk=t=>t.reduce((e,n)=>{const r=n.cargo;return e[r]||(e[r]=[]),e[r].push(n),e},{});function hk(){const{user:t,loading:e}=Hi(),[n,r]=q.useState([]),[a,i]=q.useState(!0),[l,c]=q.useState(null),[u,d]=q.useState(!1),[h,y]=q.useState(""),[w,g]=q.useState(""),[N,_]=q.useState(""),[S,A]=q.useState("Professor"),O=fk(n),R=["Administrador Geral","Administrador Pedaggico","Professor"],I=q.useCallback(async()=>{if(!((t?.cargo||"").toLowerCase()==="administrador geral")){i(!1);return}try{i(!0);const T=await fetch("http://localhost:3001/usuarios",{credentials:"include"});if(!T.ok)throw new Error("Falha ao buscar os membros da equipe.");const Y=await T.json();r(Y),c(null)}catch(T){c(T.message),console.error(T)}finally{i(!1)}},[t?.cargo]);q.useEffect(()=>{I()},[I]);const ee=async X=>{if(X.preventDefault(),!h.trim()||!w.trim()||!N.trim()){alert("Por favor, preencha todos os campos, incluindo a senha.");return}try{const T=await fetch("http://localhost:3001/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({nome:h,email:w,password:N,cargo:S})});if(!T.ok){const Y=await T.json();throw new Error(Y.error||"Falha ao adicionar membro.")}alert("Membro adicionado com sucesso!"),y(""),g(""),_(""),A("Professor"),d(!1),I()}catch(T){alert(`Erro: ${T.message}`)}},U=async X=>{if(window.confirm("Tem certeza que deseja remover este membro?"))try{if(!(await fetch(`http://localhost:3001/usuarios/${X}`,{method:"DELETE"})).ok)throw new Error("Falha ao remover membro.");alert("Membro removido com sucesso!"),I()}catch(T){alert(`Erro: ${T.message}`)}},te=(t?.cargo||"").toLowerCase()==="administrador geral";return e?m.createElement("div",{className:"configuracoes-container"},m.createElement("h1",null,"Configuraes"),m.createElement("p",null,"Carregando...")):te?m.createElement("div",{className:"configuracoes-container"},m.createElement("h1",null,"Configuraes"),m.createElement("p",null,"Aqui voc poder ajustar as configuraes do sistema e gerenciar os membros."),m.createElement("div",{className:"membros-section"},m.createElement("div",{className:"membros-header"},m.createElement("h2",null,"Membros da Equipe"),m.createElement("button",{onClick:()=>d(!u),className:"add-member-button"},u?"Cancelar":"+ Adicionar Membro")),u&&m.createElement("div",{className:"add-member-form"},m.createElement("h3",null,"Adicionar Novo Membro"),m.createElement("form",{onSubmit:ee},m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Nome",hint:"Digite o nome completo do novo membro da equipe",type:"text",value:h,onChange:X=>y(X.target.value),placeholder:"Nome completo do membro",required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Email",hint:"Email institucional que ser usado para fazer login no sistema",type:"email",value:w,onChange:X=>g(X.target.value),placeholder:"email@exemplo.com",required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Senha Provisria",hint:"Crie uma senha temporria que o membro dever alterar no primeiro acesso",type:"password",value:N,onChange:X=>_(X.target.value),placeholder:"Crie uma senha para o novo membro",required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Pa,{label:"Cargo",hint:"Selecione o nvel de acesso: Administrador Geral (acesso total), Administrador Pedaggico (acesso pedaggico) ou Professor (acesso limitado)",value:S,onChange:X=>A(X.target.value)},R.map(X=>m.createElement("option",{key:X,value:X},X)))),m.createElement("button",{type:"submit",className:"submit-button"},"Salvar Membro"))),a&&m.createElement("p",{className:"loading-message"},"Carregando membros..."),l&&m.createElement("p",{className:"error-message"},"Erro ao carregar membros: ",l),R.map(X=>O[X]&&m.createElement("div",{key:X,className:"role-section"},m.createElement("h3",{className:"role-title"},X),m.createElement("ul",{className:"member-list"},O[X].map(T=>m.createElement("li",{key:T.id,className:"member-item"},m.createElement("div",{className:"member-info"},m.createElement("span",{className:"member-name"},T.nome),m.createElement("span",{className:"member-email"},T.email)),m.createElement("button",{onClick:()=>U(T.id),className:"remove-member-button"},"Remover")))))))):m.createElement("div",{className:"configuracoes-container"},m.createElement("h1",null,"Configuraes"),m.createElement("p",null,"Voc no tem permisso para acessar esta seo."))}const mk=()=>{const{user:t,updateUser:e}=Hi(),[n,r]=q.useState(!1),[a,i]=q.useState(""),[l,c]=q.useState(""),u=async h=>{const y=h.target.files[0];if(!y)return;if(!y.type.startsWith("image/")){i("Por favor, selecione apenas arquivos de imagem."),c("error");return}if(y.size>5*1024*1024){i("A imagem deve ter no mximo 5MB."),c("error");return}r(!0),i(""),c("");const w=new FormData;w.append("profilePhoto",y);try{const g=await fetch("http://localhost:3001/upload-profile-photo",{method:"POST",body:w,credentials:"include"}),N=await g.json();g.ok?(i(N.message),c("success"),e({...t,foto_perfil:N.imageUrl})):(i(N.error||"Erro ao fazer upload da foto."),c("error"))}catch{i("Erro de conexo. Tente novamente."),c("error")}finally{r(!1),h.target.value=""}},d=async()=>{if(t.foto_perfil&&window.confirm("Tem certeza que deseja remover sua foto de perfil?")){r(!0),i(""),c("");try{const h=await fetch("http://localhost:3001/remove-profile-photo",{method:"DELETE",credentials:"include"}),y=await h.json();h.ok?(i(y.message),c("success"),e({...t,foto_perfil:null})):(i(y.error||"Erro ao remover a foto."),c("error"))}catch{i("Erro de conexo. Tente novamente."),c("error")}finally{r(!1)}}};return t?m.createElement("div",null,m.createElement("h1",null,"Meu Perfil"),a&&m.createElement("div",{className:`profile-message ${l}`},a),m.createElement("div",{className:"profile-details"},m.createElement("div",{className:"profile-photo-container"},t.foto_perfil?m.createElement("img",{src:`http://localhost:3001${t.foto_perfil}`,alt:"Foto do Perfil",className:"profile-photo"}):m.createElement("div",{className:"profile-photo-placeholder"},m.createElement("span",null,t.nome.charAt(0))),m.createElement("div",{className:"photo-buttons"},m.createElement("label",{htmlFor:"photo-upload",className:`photo-upload-button ${n?"uploading":""}`},n?"Enviando...":"Alterar Foto"),t.foto_perfil&&m.createElement("button",{onClick:d,className:"photo-remove-button",disabled:n},"Remover Foto")),m.createElement("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:u,disabled:n,style:{display:"none"}})),m.createElement("div",{className:"profile-info-text"},m.createElement("p",null,m.createElement("strong",null,"Nome:")," ",t.nome),m.createElement("p",null,m.createElement("strong",null,"Email:")," ",t.email),m.createElement("p",null,m.createElement("strong",null,"Cargo:")," ",t.cargo)))):m.createElement("div",null,"Carregando perfil...")},pk=()=>m.createElement("div",null,m.createElement("h1",null,"Gesto de Famlias"),m.createElement("p",null,"Pgina em construo. Aqui voc poder gerenciar as famlias dos alunos.")),gk=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(new Date().getFullYear()),[a,i]=q.useState("Manh"),[l,c]=q.useState("1"),[u,d]=q.useState([]),[h,y]=q.useState([]),[w,g]=q.useState(!0),[N,_]=q.useState(!1),[S,A]=q.useState(""),[O,R]=q.useState(""),I=ta();q.useEffect(()=>{(async()=>{g(!0);try{const X=await fetch("http://localhost:3001/usuarios/professores",{credentials:"include"});if(!X.ok){let Y=`Erro HTTP ${X.status}: Falha na comunicao com o servidor.`;try{Y=(await X.json()).error||Y}catch{}throw new Error(Y)}const T=await X.json();d(T)}catch(X){A(X.message||"No foi possvel carregar a lista de professores. Verifique se o servidor est rodando.")}finally{g(!1)}})()},[]);const ee=te=>{const X=Array.from(te.target.selectedOptions,T=>T.value);y(X)},U=async te=>{te.preventDefault(),A(""),R(""),_(!0);const X={nome_turma:t,ano_letivo:n,periodo:a.toLowerCase(),nivel:Number(l),professoresIds:h};try{const T=await fetch("http://localhost:3001/turmas",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(X)}),Y=await T.json();if(!T.ok)throw new Error(Y.error||"Erro ao cadastrar turma.");R("Turma cadastrada com sucesso! Redirecionando..."),setTimeout(()=>I("/home/turmas"),2e3)}catch(T){A(T.message)}finally{_(!1)}};return m.createElement("div",{className:"cadastrar-turma-container"},m.createElement("div",{className:"page-header"},m.createElement("h1",null," Cadastrar Nova Turma")),m.createElement("form",{onSubmit:U},S&&m.createElement("div",{className:"message error"}," ",S),O&&m.createElement("div",{className:"message success"}," ",O),m.createElement("div",{className:"form-section"},m.createElement("h3",{className:"form-section-title"}," Informaes Bsicas"),m.createElement("div",{className:"form-grid grid-2-cols"},m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Nome da Turma",hint:"Digite um nome identificador para a turma. Ex: Turma do Sol, Turma da Lua, etc.",type:"text",value:t,onChange:te=>e(te.target.value),placeholder:"Ex: Turma do Sol",required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Ano Letivo",hint:"Informe o ano letivo da turma (entre 2020 e 2030)",type:"number",value:n,onChange:te=>r(te.target.value),min:"2020",max:"2030",required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Pa,{label:"Perodo",hint:"Selecione o perodo em que a turma funcionar: Manh, Tarde ou Integral",value:a,onChange:te=>i(te.target.value),required:!0},m.createElement("option",{value:"Manh"}," Manh"),m.createElement("option",{value:"Tarde"}," Tarde"),m.createElement("option",{value:"Integral"}," Integral"))),m.createElement("div",{className:"form-group"},m.createElement(Pa,{label:"Nvel",hint:"Escolha o nvel de ensino da turma: Maternal (1-3 anos) ou Jardim (4-6 anos)",value:l,onChange:te=>c(te.target.value),required:!0},m.createElement("option",{value:"1"}," Maternal"),m.createElement("option",{value:"0"}," Jardim"))))),m.createElement("div",{className:"form-section mt-3"},m.createElement("h3",{className:"form-section-title"}," Professores"),m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"professores"},"Selecione os Professores da Turma"),m.createElement("select",{id:"professores",multiple:!0,value:h,onChange:ee,className:"multiple-select",style:{minHeight:"150px",padding:"0.75rem",borderRadius:"6px",border:"1px solid #d1d5db"}},w?m.createElement("option",{disabled:!0}," Carregando professores..."):u.length>0?u.map(te=>m.createElement("option",{key:te.id,value:te.id},te.nome)):m.createElement("option",{disabled:!0}," Nenhum professor encontrado.")),m.createElement("small",{className:"text-muted",style:{display:"block",marginTop:"0.5rem"}}," Segure ",m.createElement("strong",null,"Ctrl")," (ou ",m.createElement("strong",null,"Cmd")," no Mac) para selecionar mltiplos professores"),h.length>0&&m.createElement("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"#f0f9ff",borderRadius:"6px",border:"1px solid #bfdbfe"}},m.createElement("strong",{style:{color:"#1e40af"}}," Professores Selecionados:"),m.createElement("ul",{style:{margin:"0.5rem 0 0 0",paddingLeft:"1.5rem"}},h.map(te=>{const X=u.find(T=>T.id===Number(te));return m.createElement("li",{key:te,style:{color:"#1e40af"}},X?.nome||te)}))))),m.createElement("div",{className:"page-footer"},m.createElement("button",{type:"button",className:"btn btn-secondary",onClick:()=>I("/home/turmas")},"Cancelar"),m.createElement("button",{type:"submit",className:"btn btn-primary",disabled:N},N?m.createElement(m.Fragment,null,m.createElement("span",{className:"loading-spinner"})," Cadastrando..."):m.createElement(m.Fragment,null," Cadastrar Turma")))))},h5=()=>{const[t,e]=q.useState({nome_completo_aluno:"",data_nascimento:"",informacoes_saude:"",status_pagamento:"Integral",cpf_responsavel:"",nome_completo_responsavel:"",telefone:"",email:"",outro_telefone:""}),[n,r]=q.useState(null),[a,i]=q.useState(!1),[l,c]=q.useState(""),[u,d]=q.useState(""),h=ta(),y=_=>{const{name:S,value:A}=_.target;e(O=>({...O,[S]:A}))},w=_=>{r(_),e(S=>({...S,cpf_responsavel:_.cpf_responsavel,nome_completo_responsavel:_.nome_responsavel,telefone:_.telefone,email:_.email||"",outro_telefone:_.outro_telefone||""}))},g=_=>{r(null),e(S=>({...S,cpf_responsavel:_.cpf_responsavel||"",nome_completo_responsavel:"",telefone:"",email:"",outro_telefone:""}))},N=async _=>{_.preventDefault(),i(!0),c(""),d(""),console.log(" [CADASTRO FRONTEND] Iniciando cadastro de aluno"),console.log(" [CADASTRO FRONTEND] Dados do formulrio:",t);try{const S=await fetch("http://localhost:3001/cadastrar-aluno-completo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});console.log(" [CADASTRO FRONTEND] Response status:",S.status);const A=await S.json();if(console.log(" [CADASTRO FRONTEND] Resposta do servidor:",A),!S.ok)throw new Error(A.error||"Ocorreu um erro ao cadastrar.");console.log(" [CADASTRO FRONTEND] Aluno cadastrado com sucesso!"),console.log(" [CADASTRO FRONTEND] Notificao deve ter sido criada no backend"),d(A.message||"Aluno cadastrado com sucesso!"),console.log(" [CADASTRO FRONTEND] Redirecionando em 2 segundos..."),setTimeout(()=>{console.log(" [CADASTRO FRONTEND] Navegando para /home/alunos"),h("/home/alunos")},2e3)}catch(S){console.error(" [CADASTRO FRONTEND] Erro ao cadastrar:",S.message),console.error(" [CADASTRO FRONTEND] Stack:",S.stack),c(S.message)}finally{i(!1)}};return m.createElement("div",{className:"cadastrar-aluno-container"},m.createElement("div",{className:"page-header"},m.createElement("h1",null," Cadastrar Novo Aluno")),m.createElement("div",{style:{marginBottom:"2rem"}},m.createElement(Xp,{buttonText:"Importar via Excel",buttonIcon:"",options:[{icon:"",title:"Importar Alunos",endpoint:"/alunos/upload-excel",acceptedColumns:[{name:"Nome Completo Aluno",description:"Nome completo do aluno",required:!0},{name:"Data Nascimento",description:"Data de nascimento do aluno (formato: YYYY-MM-DD)",required:!0},{name:"Informaes Sade",description:"Informaes de sade do aluno (opcional)",required:!1},{name:"Situao Financeira",description:"Situao financeira (Integral ou Bolsista)",required:!1},{name:"Nome Responsvel",description:"Nome completo do responsvel",required:!0},{name:"Telefone",description:"Nmero de telefone do responsvel",required:!0},{name:"Email",description:"Endereo de email do responsvel",required:!0},{name:"Outro Telefone",description:"Nmero de telefone secundrio (opcional)",required:!1},{name:"RG",description:"Nmero do RG do responsvel (opcional)",required:!1},{name:"CPF",description:"Nmero do CPF do responsvel (opcional)",required:!1}],description:"Faa upload de um arquivo Excel (.xlsx ou .xls) para importar mltiplos alunos de uma vez. O sistema criar automaticamente novos registros de alunos e responsveis na base de dados.",buttonText:"Importar Alunos",onSuccess:_=>{setTimeout(()=>h("/home/alunos"),2e3)},onError:_=>{console.error("Erro na importao:",_)}}]})),m.createElement("form",{onSubmit:N},l&&m.createElement("div",{className:"message error"}," ",l),u&&m.createElement("div",{className:"message success"}," ",u),m.createElement("div",{className:"form-section"},m.createElement("h3",{className:"form-section-title"}," Dados do Aluno"),m.createElement("div",{className:"form-grid grid-2-cols"},m.createElement("div",{className:"form-group full-width"},m.createElement(Cn,{label:"Nome Completo",hint:"Digite o nome completo do aluno conforme consta no documento de identidade",name:"nome_completo_aluno",type:"text",value:t.nome_completo_aluno,onChange:y,required:!0,placeholder:"Digite o nome completo do aluno"})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Data de Nascimento",hint:"Selecione a data de nascimento do aluno",name:"data_nascimento",type:"date",value:t.data_nascimento,onChange:y,required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Pa,{label:"Situao Financeira",hint:"Indique se o aluno paga o valor integral ou possui algum tipo de bolsa/desconto",name:"status_pagamento",value:t.status_pagamento,onChange:y},m.createElement("option",{value:"Integral"},"Integral"),m.createElement("option",{value:"Bolsista"},"Bolsista"))),m.createElement("div",{className:"form-group full-width"},m.createElement(ov,{label:"Informaes de Sade",hint:"Informe alergias, medicamentos em uso, condies especiais de sade ou qualquer informao mdica relevante",name:"informacoes_saude",value:t.informacoes_saude,onChange:y,placeholder:"Alergias, medicamentos, condies especiais, etc.",rows:3})))),m.createElement("div",{className:"form-section mt-3"},m.createElement("h3",{className:"form-section-title"}," Dados do Responsvel"),m.createElement("div",{className:"mb-2"},m.createElement(iv,{onResponsavelFound:w,onResponsavelNotFound:g})),m.createElement("div",{className:"form-grid grid-2-cols"},m.createElement("div",{className:"form-group full-width"},m.createElement(Cn,{label:"Nome do Responsvel",hint:"Nome completo do responsvel legal pelo aluno. Este campo  preenchido automaticamente se o CPF for encontrado",name:"nome_completo_responsavel",type:"text",value:t.nome_completo_responsavel,onChange:y,disabled:n!==null,required:!0,placeholder:n?" Preenchido automaticamente via CPF":"Digite o nome completo do responsvel"})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Telefone Principal",hint:"Telefone principal para contato. Formato: (00) 00000-0000",name:"telefone",type:"tel",value:t.telefone,onChange:y,disabled:n!==null,required:!0,placeholder:n?" Preenchido automaticamente":"(00) 00000-0000"})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Telefone Adicional",hint:"Telefone secundrio ou de contato alternativo (opcional)",name:"outro_telefone",type:"tel",value:t.outro_telefone,onChange:y,disabled:n!==null,placeholder:n?" Preenchido automaticamente":"(00) 00000-0000 (opcional)"})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Email",hint:"Endereo de email do responsvel para comunicaes e notificaes",name:"email",type:"email",value:t.email,onChange:y,disabled:n!==null,placeholder:n?" Preenchido automaticamente":"email@exemplo.com"})))),m.createElement("div",{className:"page-footer"},m.createElement("button",{type:"button",className:"btn btn-secondary",onClick:()=>h("/home/alunos")},"Cancelar"),m.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a},a?m.createElement(m.Fragment,null,m.createElement("span",{className:"loading-spinner"})," Cadastrando..."):m.createElement(m.Fragment,null," Cadastrar Aluno")))))},Wy=t=>{if(!t)return"Data no disponvel";const e=new Date(t);return isNaN(e.getTime())?"Data invlida":e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},vk=t=>{if(!t)return"";const e=new Date(t),r=Math.floor((new Date-e)/1e3);if(r<60)return"agora mesmo";if(r<3600){const a=Math.floor(r/60);return`h ${a} minuto${a>1?"s":""}`}else if(r<86400){const a=Math.floor(r/3600);return`h ${a} hora${a>1?"s":""}`}else if(r<2592e3){const a=Math.floor(r/86400);return`h ${a} dia${a>1?"s":""}`}else return Wy(t)};function Hy({comentarios:t,usuarioAtual:e,onComentarioExcluido:n}){const r=async a=>{if(window.confirm("Tem certeza que deseja excluir este comentrio?"))try{const i=await fetch(`http://localhost:3001/comentarios/${a}`,{method:"DELETE",credentials:"include"});if(!i.ok){const l=await i.json();throw new Error(l.error||"Falha ao excluir comentrio.")}await n(a),alert("Comentrio excludo com sucesso!")}catch(i){console.error("Erro ao excluir comentrio:",i),alert(i.message)}};return m.createElement("div",{className:"lista-comentarios"},m.createElement("h3",{style:{marginBottom:"1rem",color:"#333",borderBottom:"2px solid #007bff",paddingBottom:"0.5rem"}},"Comentrios (",t?.length||0,")"),m.createElement("div",{className:"comments-list",style:{maxHeight:"400px",overflowY:"auto",marginBottom:"1.5rem",paddingRight:"10px"}},t&&t.length>0?m.createElement("ul",{style:{listStyle:"none",padding:0,margin:0}},t.map((a,i)=>m.createElement("li",{key:a.id,style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"1rem",marginBottom:"0.75rem",backgroundColor:"#f8f9fa",position:"relative",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"}},m.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},m.createElement(lp,{style:{color:"#007bff",fontSize:"0.9rem"}}),m.createElement("span",{style:{fontWeight:"600",color:"#333",fontSize:"0.95rem"}},a.nome_usuario||"Usurio Desconhecido")),m.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},m.createElement(r3,{style:{color:"#6c757d",fontSize:"0.8rem"}}),m.createElement("div",{style:{textAlign:"right"}},m.createElement("div",{style:{fontSize:"0.8rem",color:"#6c757d",fontWeight:"500"}},vk(a.data_comentario)),m.createElement("div",{style:{fontSize:"0.75rem",color:"#adb5bd"}},Wy(a.data_comentario))))),m.createElement("div",{style:{backgroundColor:"white",padding:"0.75rem",borderRadius:"6px",border:"1px solid #dee2e6",marginBottom:"0.5rem"}},m.createElement("p",{style:{margin:0,color:"#495057",lineHeight:"1.5",whiteSpace:"pre-wrap"}},a.texto_comentario)),m.createElement("div",{style:{textAlign:"right"}},m.createElement("button",{onClick:()=>r(a.id),className:"botao-excluir-comentario",title:"Excluir comentrio",style:{background:"transparent",border:"1px solid #dc3545",color:"#dc3545",cursor:"pointer",fontSize:"0.8rem",padding:"0.25rem 0.5rem",borderRadius:"4px",display:"flex",alignItems:"center",gap:"0.25rem",transition:"all 0.2s ease"},onMouseOver:l=>{l.target.style.backgroundColor="#dc3545",l.target.style.color="white"},onMouseOut:l=>{l.target.style.backgroundColor="transparent",l.target.style.color="#dc3545"}},m.createElement(i3,{style:{fontSize:"0.7rem"}}),"Excluir"))))):m.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#6c757d",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #dee2e6"}},m.createElement(lp,{style:{fontSize:"2rem",marginBottom:"1rem",opacity:.5}}),m.createElement("p",{style:{margin:0,fontSize:"1rem"}},"Nenhum comentrio ainda."),m.createElement("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem",opacity:.8}},"Seja o primeiro a comentar!"))))}const Qm=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],yk=()=>m.createElement("style",null,`
    .week-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.2s;
    }
    .planning-status-badge {
      padding: 4px 12px;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }
    .status-aprovado { background-color: #dcfce7; color: #166534; }
    .status-reprovado { background-color: #fee2e2; color: #991b1b; }
    .status-pendente { background-color: #fef9c3; color: #854d0e; }

    /* Estilos para o Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease-out;
    }

    .modal-content {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      width: 90%;
      max-width: 700px;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideIn {
      from { transform: translateY(-30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #e0e0e0;
      padding-bottom: 1rem;
      margin-bottom: 1.5rem;
    }

    .modal-header h2 {
      margin: 0;
      font-size: 1.5rem;
    }

    .modal-close-button {
      background: transparent;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      line-height: 1;
      padding: 0;
      color: #555;
      transition: color 0.2s;
    }
    .modal-close-button:hover {
      color: #000;
    }

    .tabs-container {
      display: flex;
      border-bottom: 1px solid #ccc;
      margin-bottom: 1.5rem;
    }

    .tab-button {
      padding: 10px 20px;
      cursor: pointer;
      border: none;
      background-color: transparent;
      border-bottom: 3px solid transparent;
      margin-bottom: -1px;
      font-size: 1rem;
      color: #555;
      transition: color 0.2s, border-color 0.2s;
    }

    .tab-button.active {
      border-bottom-color: #17a2b8;
      color: #000;
      font-weight: 600;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
  `),bk=()=>{const[t,e]=q.useState([]),[n,r]=q.useState([]),[a,i]=q.useState(!0),[l,c]=q.useState(null),[u,d]=q.useState(0),[h,y]=q.useState(""),{user:w}=Hi(),[g,N]=q.useState(null),[_,S]=q.useState(null),[A,O]=q.useState({});q.useEffect(()=>{(async()=>{i(!0),c(null);try{const F=await fetch("http://localhost:3001/turmas",{credentials:"include"});if(!F.ok)throw new Error("Falha ao buscar dados das turmas.");const M=await F.json();if(e(M),M.length>0){const j=[...new Set(M.map(ne=>ne.ano_letivo))].sort((ne,ce)=>ce-ne);r(j);const D=j[0]||0;d(D);const $=M.filter(ne=>ne.ano_letivo===D);y($[0]?.id||"")}}catch(F){c(F.message)}finally{i(!1)}})()},[]),q.useEffect(()=>{(async()=>{if(!h||!u){O({});return}try{const F=await fetch(`http://localhost:3001/planejamentos/status?turma_id=${h}&ano=${u}`,{credentials:"include"});if(!F.ok){console.error("Falha ao buscar status dos planejamentos."),O({});return}const j=(await F.json()).reduce((D,$)=>{const ne=`${$.mes}-${$.semana}`;return D[ne]=$.status,D},{});O(j)}catch(F){console.error("Erro ao buscar status:",F),O({})}})()},[h,u]);const R=q.useMemo(()=>u?t.filter(Y=>Y.ano_letivo===u):[],[u,t]),I=q.useMemo(()=>Qm.map(Y=>{const M=Array.from({length:4},(j,D)=>`Semana ${D+1}`);return{name:Y,weeks:M}}),[]),ee=Y=>{const F=Number(Y.target.value);d(F);const M=t.filter(j=>j.ano_letivo===F);y(M[0]?.id||"")},U=async(Y,F)=>{if(!h||!u||!w?.userId){alert("Por favor, selecione um ano e uma turma para visualizar o planejamento.");return}const M=Qm.indexOf(Y)+1;if(M===0){console.error("Nome do ms invlido:",Y);return}const j={turma_id:h,ano:u,mes:M,semana:parseInt(F.replace("Semana ","")),usuario_id:w.userId};console.log("Enviando para o backend:",j);try{const D=await fetch("http://localhost:3001/planejamentos/find-or-create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!D.ok){const ne=await D.json();throw new Error(ne.error||"Falha ao buscar ou criar o planejamento.")}const $=await D.json();N($)}catch(D){console.error("Erro detalhado ao buscar ou criar planejamento:",D),alert(`Erro: ${D.message}`)}},te=()=>{N(null)},X=Y=>{if(N(Y),Y.mes&&Y.semana&&Y.status){const F=`${Y.mes}-${Y.semana}`;O(M=>({...M,[F]:Y.status}))}},T=async(Y,F,M)=>{if(console.log("Tentando excluir planejamento:",{planejamentoId:Y,mes:F,semana:M,userCargo:w?.cargo}),!!window.confirm("Tem certeza que deseja excluir este planejamento?")){if(!Y){alert("ID do planejamento no encontrado.");return}try{console.log("Fazendo requisio DELETE para:",`http://localhost:3001/planejamentos/${Y}`);const j=await fetch(`http://localhost:3001/planejamentos/${Y}`,{method:"DELETE",credentials:"include"});if(console.log("Resposta da API:",j.status,j.statusText),!j.ok){let re={};try{re=await j.json()}catch(de){console.error("Erro ao fazer parse da resposta de erro:",de),re={error:`Status ${j.status}: ${j.statusText}`}}throw console.error("Erro na resposta:",re),console.error("Status da resposta:",j.status,j.statusText),new Error(re.error||`Falha ao excluir planejamento. Status: ${j.status}`)}const D=await j.json();console.log("Resultado da excluso:",D);const $=D&&D.reset?D.reset:null,ne=$?.mes??F,ce=$?.semana??M;if(ne&&ce){const re=`${ne}-${ce}`;O(de=>({...de,[re]:"Pendente"}))}N(null),alert("Planejamento excludo e status resetado para Pendente.")}catch(j){console.error("Erro ao excluir planejamento:",j),console.error("Stack trace:",j.stack),console.error("Erro completo:",JSON.stringify(j,null,2)),alert(`Erro: ${j.message||"Erro desconhecido ao excluir planejamento"}`)}}};return a?m.createElement("div",{style:{padding:"2rem"}},"Carregando dados..."):l?m.createElement("div",{style:{padding:"2rem",color:"red"}},"Erro: ",l):m.createElement("div",{style:{padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'}},m.createElement(yk,null),m.createElement("div",{className:"page-header"},m.createElement("h1",null,"Planejamentos"),m.createElement("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"}},m.createElement("div",{style:{minWidth:"120px"}},m.createElement(Pa,{label:"Ano:",hint:"Selecione o ano letivo para visualizar os planejamentos",value:u,onChange:ee},n.map(Y=>m.createElement("option",{key:Y,value:Y},Y)))),m.createElement("div",{style:{minWidth:"250px"}},m.createElement(Pa,{label:"Turma:",hint:"Escolha a turma para gerenciar os planejamentos semanais",value:h,onChange:Y=>y(Number(Y.target.value))},R.map(Y=>{const F=Y.professores&&Y.professores.length>0?Y.professores[0].nome:"Sem professor";return m.createElement("option",{key:Y.id,value:Y.id},Y.nome_turma," - ",F)}))))),_?m.createElement("div",null,m.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"}},m.createElement("button",{onClick:()=>S(null),style:{background:"transparent",border:"1px solid #ccc",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",marginRight:"1rem",transition:"background-color 0.2s"},onMouseEnter:Y=>Y.currentTarget.style.backgroundColor="#f8f9fa",onMouseLeave:Y=>Y.currentTarget.style.backgroundColor="transparent"}," Voltar"),m.createElement("h2",{style:{margin:0}},_.name," - ",u)),m.createElement("p",null,"Selecione a semana para gerenciar o planejamento."),m.createElement("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",marginTop:"1rem"}},m.createElement("ul",{style:{listStyle:"none",padding:0,margin:0}},_.weeks.map((Y,F)=>(()=>{const M=Qm.indexOf(_.name)+1,j=F+1,D=`${M}-${j}`,$=A[D]||"Pendente",ne=ce=>ce.toLowerCase().replace(" ","-");return m.createElement("li",{key:F,onClick:()=>U(_.name,Y),className:"week-item",style:{borderBottom:F<_.weeks.length-1?"1px solid #f0f0f0":"none"},onMouseEnter:ce=>ce.currentTarget.style.backgroundColor="#f8f9fa",onMouseLeave:ce=>ce.currentTarget.style.backgroundColor="transparent"},m.createElement("span",null,Y),m.createElement("span",{className:`planning-status-badge status-${ne($)}`},$))})())))):m.createElement(m.Fragment,null,m.createElement("p",null,"Selecione o ms para ver as semanas de planejamento."),m.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"1.5rem",marginTop:"2rem"}},I.map((Y,F)=>m.createElement("div",{key:F,onClick:()=>S(Y),style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"1.5rem 1rem",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",cursor:"pointer",textAlign:"center",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:M=>{M.currentTarget.style.transform="translateY(-4px)",M.currentTarget.style.boxShadow="0 6px 12px rgba(0,0,0,0.1)"},onMouseLeave:M=>{M.currentTarget.style.transform="translateY(0)",M.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)"}},m.createElement("h3",{style:{margin:0,fontSize:"1.25rem"}},Y.name))))),g&&m.createElement(wk,{info:g,onClose:te,onUpdate:X,onDelete:T}))},wk=({info:t,onClose:e,onUpdate:n,onDelete:r})=>{if(!t)return null;const{user:a}=Hi(),[i,l]=q.useState("planejamento"),[c,u]=q.useState(t),[d,h]=q.useState([]),[y,w]=q.useState([]),[g,N]=q.useState(""),[_,S]=q.useState(null),[A,O]=q.useState(!1),[R,I]=q.useState(!1);q.useEffect(()=>{u(t),h(t.anexos||[]),w(t.comentarios||[])},[t]);const ee=q.useMemo(()=>y?y.map(j=>({id:j.id,usuario_id:j.usuario_id,nome_usuario:j.nome_usuario,texto_comentario:j.texto_comentario,data_comentario:j.data_comentario})):[],[y]),U=j=>{j.stopPropagation()},te=async()=>{if(!_)return alert("Por favor, selecione um arquivo.");O(!0);const j=new FormData;j.append("anexo",_),c.anexos.length===0&&j.append("set_creation_date","true");try{if(!(await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}/anexos`,{method:"POST",credentials:"include",body:j})).ok)throw new Error("Falha ao enviar anexo.");const ce=await(await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}`,{credentials:"include"})).json();u(ce),h([...ce.anexos||[]]),n(ce),S(null),document.getElementById("planejamento-upload").value="",alert("Anexo enviado com sucesso!")}catch($){alert(`Erro: ${$.message}`)}finally{O(!1)}},X=async j=>{if(window.confirm("Tem certeza que deseja excluir este anexo?"))try{if(!(await fetch(`http://localhost:3001/anexos/${j}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Falha ao excluir anexo.");const ne=await(await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}`,{credentials:"include"})).json();u(ne),h([...ne.anexos||[]]),n(ne),alert("Anexo excludo com sucesso!")}catch(D){alert(`Erro: ${D.message}`)}},T=async()=>{if(g.trim()){O(!0),I(!0);try{if(!(await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}/comentarios`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({usuario_id:a.userId,texto_comentario:g})})).ok)throw new Error("Falha ao adicionar comentrio.");const $=await(await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}`,{credentials:"include"})).json();u($),w([...$.comentarios||[]]),h([...$.anexos||[]]),n($),N("")}catch(j){alert(`Erro: ${j.message}`)}finally{O(!1),I(!1)}}},Y=async j=>{I(!0);try{const D=await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}`,{credentials:"include"});if(!D.ok)throw new Error("Falha ao recarregar os dados do planejamento aps a excluso.");const $=await D.json();u($),w([...$.comentarios||[]]),n($)}catch(D){console.error("Erro ao recarregar planejamento:",D),alert("O comentrio foi excludo, mas houve um erro ao atualizar a tela. Por favor, feche e abra a janela para ver as mudanas.")}finally{I(!1)}},F=async j=>{if(window.confirm(`Tem certeza que deseja ${j.toLowerCase()} este planejamento?`)){O(!0);try{const D=await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:j})});if(!D.ok)throw new Error("Falha ao atualizar o status do planejamento.");const $=await D.json();alert(`Planejamento ${j.toLowerCase()} com sucesso!`),u($),n($),e()}catch(D){alert(`Erro: ${D.message}`)}finally{O(!1)}}},M=j=>{if(!j)return"Data no informada";const D=new Date(j);return isNaN(D.getTime())?(console.error("Formato de data invlido recebido do backend:",j),"Data em formato invlido"):D.toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})};return m.createElement("div",{className:"modal-overlay",onClick:e},m.createElement("div",{className:"modal-content",style:{maxWidth:"600px"},onClick:U},m.createElement("div",{className:"modal-header"},m.createElement("h2",null,c.titulo),m.createElement("button",{className:"modal-close-button",onClick:e},"")),m.createElement("div",{style:{fontSize:"0.9rem",color:"#555",marginBottom:"1rem",padding:"0.5rem 1rem",backgroundColor:"#f8f9fa",borderRadius:"4px"}},m.createElement("p",{style:{margin:"0.25rem 0"}},"Status:"," ",m.createElement("strong",{style:{color:c.status==="Aprovado"?"green":c.status==="Reprovado"?"red":"orange"}},c.status||"Pendente")),m.createElement("p",{style:{margin:"0.25rem 0"}},"ltima modificao: ",M(c.data_modificacao))),m.createElement("div",{className:"tabs-container",style:{marginBottom:"1.5rem"}},m.createElement("button",{className:`tab-button ${i==="planejamento"?"active":""}`,onClick:()=>l("planejamento")},"Planejamento"),m.createElement("button",{className:`tab-button ${i==="comentarios"?"active":""}`,onClick:()=>l("comentarios")},"Comentrios (",y.length,")")),i==="planejamento"&&m.createElement("div",null,m.createElement("div",{className:"form-group",style:{marginBottom:"1.5rem"}},m.createElement("label",null,"Anexos"),d&&d.length>0?m.createElement("ul",{style:{listStyle:"none",padding:0,marginTop:"0.5rem"}},d.map(j=>{const D=j.path_arquivo||j.caminho,$=j.nome_original||(D?D.split("/").pop():"Anexo sem nome");return D||console.error("Erro no frontend: O objeto 'anexo' no contm a propriedade 'caminho_arquivo'. Dados recebidos:",j),m.createElement("li",{key:j.id_anexo,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",border:"1px solid #eee",borderRadius:"4px",marginBottom:"0.5rem"}},D?m.createElement("a",{href:`http://localhost:3001/${D}`,target:"_blank",rel:"noopener noreferrer"},$):m.createElement("span",{style:{color:"#dc3545",fontStyle:"italic"},title:"O caminho para este arquivo no foi encontrado. Verifique o backend."},$," (caminho invlido)"),m.createElement("button",{onClick:()=>X(j.id_anexo),className:"delete-button",title:"Excluir anexo"},""))})):m.createElement("p",null,"Nenhum anexo encontrado.")),m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"planejamento-upload"},"Adicionar novo anexo"),m.createElement("input",{type:"file",id:"planejamento-upload",onChange:j=>S(j.target.files[0])}),m.createElement("button",{onClick:te,disabled:A,className:"submit-button"},A?"Enviando...":"Enviar Anexo"))),i==="comentarios"&&m.createElement("div",{style:{marginBottom:"1.5rem",position:"relative"}},R&&m.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#007bff",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"600",zIndex:10,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,123,255,0.3)",animation:"pulse 1.5s ease-in-out infinite"}},m.createElement("span",{style:{width:"12px",height:"12px",border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"Atualizando..."),m.createElement(Hy,{comentarios:ee,usuarioAtual:{id:a.userId,cargo:a.cargo},onComentarioExcluido:Y}),m.createElement("textarea",{value:g,onChange:j=>N(j.target.value),placeholder:"Adicione um comentrio sobre o planejamento...",style:{width:"100%",minHeight:"100px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",resize:"vertical"}}),m.createElement("div",{style:{textAlign:"right",marginTop:"0.5rem"}},m.createElement("button",{onClick:T,disabled:A||!g.trim(),style:{padding:"9px 16px",cursor:"pointer",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",fontSize:"14px"}},A?"Enviando...":"Confirmar Comentrio"))),(String(a.cargo).toLowerCase()==="administrador pedaggico"||String(a.cargo).toLowerCase()==="administrador geral")&&m.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",borderTop:"1px solid #eee",paddingTop:"1.5rem"}},m.createElement("button",{onClick:()=>F("Reprovado"),style:{padding:"10px 20px",cursor:"pointer",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem"},disabled:A||t.status==="Reprovado"},"Reprovar"),m.createElement("button",{onClick:()=>F("Aprovado"),style:{padding:"10px 20px",cursor:"pointer",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem"},disabled:A||c.status==="Aprovado"},"Aprovar")),(()=>{const j=String(a?.cargo||"").toLowerCase(),D=j==="administrador geral";return console.log("Verificando se deve mostrar boto excluir:",{userCargo:a?.cargo,userCargoLower:j,isAdminGeral:D,planejamentoId:c.id_planejamento,planejamentoStatus:c.status}),D&&m.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"}},m.createElement("button",{onClick:()=>{console.log("Boto Excluir clicado!",{planejamentoId:c.id_planejamento,mes:c.mes,semana:c.semana}),r(c.id_planejamento,c.mes,c.semana)},style:{padding:"10px 20px",cursor:"pointer",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem"},type:"button"},"Excluir Planejamento"))})()))},$y=6048e5,xk=864e5,Vy=6e4,Yy=36e5,m5=Symbol.for("constructDateFrom");function Ss(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&m5 in t?t[m5](e):t instanceof Date?new t.constructor(e):new Date(e)}function _o(t,e){return Ss(e||t,t)}let Ek={};function bh(){return Ek}function gd(t,e){const n=bh(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=_o(t,e?.in),i=a.getDay(),l=(i<r?7:0)+i-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function ch(t,e){return gd(t,{...e,weekStartsOn:1})}function Gy(t,e){const n=_o(t,e?.in),r=n.getFullYear(),a=Ss(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=ch(a),l=Ss(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=ch(l);return n.getTime()>=i.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function p5(t){const e=_o(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _k(t,...e){const n=Ss.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function g5(t,e){const n=_o(t,e?.in);return n.setHours(0,0,0,0),n}function Sk(t,e,n){const[r,a]=_k(n?.in,t,e),i=g5(r),l=g5(a),c=+i-p5(i),u=+l-p5(l);return Math.round((c-u)/xk)}function kk(t,e){const n=Gy(t,e),r=Ss(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ch(r)}function Nk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ak(t){return!(!Nk(t)&&typeof t!="number"||isNaN(+_o(t)))}function Ck(t,e){const n=_o(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Lk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pk=(t,e,n)=>{let r;const a=Lk[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function iu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Tk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fk={date:iu({formats:Tk,defaultWidth:"full"}),time:iu({formats:Mk,defaultWidth:"full"}),dateTime:iu({formats:Rk,defaultWidth:"full"})},Dk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ok=(t,e,n,r)=>Dk[t];function Bi(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;a=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;a=t.values[c]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Ik={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Uk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wk=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Hk={ordinalNumber:Wk,era:Bi({values:Ik,defaultWidth:"wide"}),quarter:Bi({values:jk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bi({values:Bk,defaultWidth:"wide"}),day:Bi({values:zk,defaultWidth:"wide"}),dayPeriod:Bi({values:Uk,defaultWidth:"wide",formattingValues:qk,defaultFormattingWidth:"wide"})};function zi(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const l=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?Vk(c,y=>y.test(l)):$k(c,y=>y.test(l));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(l.length);return{value:d,rest:h}}}function $k(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Vk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Ky(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],i=e.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(a.length);return{value:l,rest:c}}}const Yk=/^(\d+)(th|st|nd|rd)?/i,Gk=/\d+/i,Kk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xk={any:[/^b/i,/^(a|c)/i]},Jk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qk={any:[/1/i,/2/i,/3/i,/4/i]},Zk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oN={ordinalNumber:Ky({matchPattern:Yk,parsePattern:Gk,valueCallback:t=>parseInt(t,10)}),era:zi({matchPatterns:Kk,defaultMatchWidth:"wide",parsePatterns:Xk,defaultParseWidth:"any"}),quarter:zi({matchPatterns:Jk,defaultMatchWidth:"wide",parsePatterns:Qk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zi({matchPatterns:Zk,defaultMatchWidth:"wide",parsePatterns:eN,defaultParseWidth:"any"}),day:zi({matchPatterns:tN,defaultMatchWidth:"wide",parsePatterns:nN,defaultParseWidth:"any"}),dayPeriod:zi({matchPatterns:rN,defaultMatchWidth:"any",parsePatterns:aN,defaultParseWidth:"any"})},iN={code:"en-US",formatDistance:Pk,formatLong:Fk,formatRelative:Ok,localize:Hk,match:oN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sN(t,e){const n=_o(t,e?.in);return Sk(n,Ck(n))+1}function lN(t,e){const n=_o(t,e?.in),r=+ch(n)-+kk(n);return Math.round(r/$y)+1}function Xy(t,e){const n=_o(t,e?.in),r=n.getFullYear(),a=bh(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Ss(e?.in||t,0);l.setFullYear(r+1,0,i),l.setHours(0,0,0,0);const c=gd(l,e),u=Ss(e?.in||t,0);u.setFullYear(r,0,i),u.setHours(0,0,0,0);const d=gd(u,e);return+n>=+c?r+1:+n>=+d?r:r-1}function cN(t,e){const n=bh(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Xy(t,e),i=Ss(e?.in||t,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),gd(i,e)}function uN(t,e){const n=_o(t,e?.in),r=+gd(n,e)-+cN(n,e);return Math.round(r/$y)+1}function Fn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const rl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fn(n+1,2)},d(t,e){return Fn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fn(t.getHours()%12||12,e.length)},H(t,e){return Fn(t.getHours(),e.length)},m(t,e){return Fn(t.getMinutes(),e.length)},s(t,e){return Fn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Fn(a,e.length)}},Gc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v5={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return rl.y(t,e)},Y:function(t,e,n,r){const a=Xy(t,r),i=a>0?a:1-a;if(e==="YY"){const l=i%100;return Fn(l,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Fn(i,e.length)},R:function(t,e){const n=Gy(t);return Fn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return rl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=uN(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):Fn(a,e.length)},I:function(t,e,n){const r=lN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):rl.d(t,e)},D:function(t,e,n){const r=sN(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Fn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Fn(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Fn(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=Gc.noon:r===0?a=Gc.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=Gc.evening:r>=12?a=Gc.afternoon:r>=4?a=Gc.morning:a=Gc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return rl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):rl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):rl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):rl.s(t,e)},S:function(t,e){return rl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return b5(r);case"XXXX":case"XX":return Kl(r);case"XXXXX":case"XXX":default:return Kl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return b5(r);case"xxxx":case"xx":return Kl(r);case"xxxxx":case"xxx":default:return Kl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+y5(r,":");case"OOOO":default:return"GMT"+Kl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+y5(r,":");case"zzzz":default:return"GMT"+Kl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Fn(r,e.length)},T:function(t,e,n){return Fn(+t,e.length)}};function y5(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+e+Fn(i,2)}function b5(t,e){return t%60===0?(t>0?"-":"+")+Fn(Math.abs(t)/60,2):Kl(t,e)}function Kl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Fn(Math.trunc(r/60),2),i=Fn(r%60,2);return n+a+e+i}const w5=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Jy=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dN=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return w5(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",w5(r,e)).replace("{{time}}",Jy(a,e))},fN={p:Jy,P:dN},hN=/^D+$/,mN=/^Y+$/,pN=["D","DD","YY","YYYY"];function gN(t){return hN.test(t)}function vN(t){return mN.test(t)}function yN(t,e,n){const r=bN(t,e,n);if(console.warn(r),pN.includes(t))throw new RangeError(r)}function bN(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EN=/^'([^]*?)'?$/,_N=/''/g,SN=/[a-zA-Z]/;function Ku(t,e,n){const r=bh(),a=n?.locale??r.locale??iN,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=_o(t,n?.in);if(!Ak(c))throw new RangeError("Invalid time value");let u=e.match(xN).map(h=>{const y=h[0];if(y==="p"||y==="P"){const w=fN[y];return w(h,a.formatLong)}return h}).join("").match(wN).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const y=h[0];if(y==="'")return{isToken:!1,value:kN(h)};if(v5[y])return{isToken:!0,value:h};if(y.match(SN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(u=a.localize.preprocessor(c,u));const d={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return u.map(h=>{if(!h.isToken)return h.value;const y=h.value;(!n?.useAdditionalWeekYearTokens&&vN(y)||!n?.useAdditionalDayOfYearTokens&&gN(y))&&yN(y,e,String(t));const w=v5[y[0]];return w(c,y,a.localize,d)}).join("")}function kN(t){const e=t.match(EN);return e?e[1].replace(_N,"'"):t}function Zm(t,e){const n=()=>Ss(e?.in,NaN),a=LN(t);let i;if(a.date){const d=PN(a.date,2);i=TN(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const l=+i;let c=0,u;if(a.time&&(c=MN(a.time),isNaN(c)))return n();if(a.timezone){if(u=RN(a.timezone),isNaN(u))return n()}else{const d=new Date(l+c),h=_o(0,e?.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return _o(l+c+u,e?.in)}const Tf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},NN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,AN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,CN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LN(t){const e={},n=t.split(Tf.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Tf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Tf.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const a=Tf.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function PN(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function TN(t,e){if(e===null)return new Date(NaN);const n=t.match(NN);if(!n)return new Date(NaN);const r=!!n[4],a=Xu(n[1]),i=Xu(n[2])-1,l=Xu(n[3]),c=Xu(n[4]),u=Xu(n[5])-1;if(r)return jN(e,c,u)?FN(e,c,u):new Date(NaN);{const d=new Date(0);return!ON(e,i,l)||!IN(e,a)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(a,l)),d)}}function Xu(t){return t?parseInt(t):1}function MN(t){const e=t.match(AN);if(!e)return NaN;const n=ep(e[1]),r=ep(e[2]),a=ep(e[3]);return BN(n,r,a)?n*Yy+r*Vy+a*1e3:NaN}function ep(t){return t&&parseFloat(t.replace(",","."))||0}function RN(t){if(t==="Z")return 0;const e=t.match(CN);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return zN(r,a)?n*(r*Yy+a*Vy):NaN}function FN(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const a=r.getUTCDay()||7,i=(e-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const DN=[31,null,31,30,31,30,31,31,30,31,30,31];function Qy(t){return t%400===0||t%4===0&&t%100!==0}function ON(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(DN[e]||(Qy(t)?29:28))}function IN(t,e){return e>=1&&e<=(Qy(t)?366:365)}function jN(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function BN(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function zN(t,e){return e>=0&&e<=59}const UN={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},qN=(t,e,n)=>{let r;const a=UN[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},WN={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},HN={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$N={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VN={date:iu({formats:WN,defaultWidth:"full"}),time:iu({formats:HN,defaultWidth:"full"}),dateTime:iu({formats:$N,defaultWidth:"full"})},YN={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},GN=(t,e,n,r)=>{const a=YN[t];return typeof a=="function"?a(e):a},KN={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},XN={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},JN={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},QN={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},ZN={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},eA={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},tA=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},nA={ordinalNumber:tA,era:Bi({values:KN,defaultWidth:"wide"}),quarter:Bi({values:XN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bi({values:JN,defaultWidth:"wide"}),day:Bi({values:QN,defaultWidth:"wide"}),dayPeriod:Bi({values:ZN,defaultWidth:"wide",formattingValues:eA,defaultFormattingWidth:"wide"})},rA=/^(\d+)[o]?/i,aA=/\d+/i,oA={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},iA={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},sA={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},lA={any:[/1/i,/2/i,/3/i,/4/i]},cA={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},uA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},dA={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},fA={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},hA={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},mA={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},pA={ordinalNumber:Ky({matchPattern:rA,parsePattern:aA,valueCallback:t=>parseInt(t,10)}),era:zi({matchPatterns:oA,defaultMatchWidth:"wide",parsePatterns:iA,defaultParseWidth:"any"}),quarter:zi({matchPatterns:sA,defaultMatchWidth:"wide",parsePatterns:lA,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zi({matchPatterns:cA,defaultMatchWidth:"wide",parsePatterns:uA,defaultParseWidth:"any"}),day:zi({matchPatterns:dA,defaultMatchWidth:"wide",parsePatterns:fA,defaultParseWidth:"any"}),dayPeriod:zi({matchPatterns:hA,defaultMatchWidth:"any",parsePatterns:mA,defaultParseWidth:"any"})},x5={code:"pt-BR",formatDistance:qN,formatLong:VN,formatRelative:GN,localize:nA,match:pA,options:{weekStartsOn:0,firstWeekContainsDate:1}},gA=()=>m.createElement("style",null,`
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; z-index:1000; animation: fadeIn .3s ease-out; }
    .modal-content { background: #fff; padding: 2rem; border-radius: 8px; width: 90%; max-width: 700px; max-height: 90vh; overflow-y: auto; position: relative; animation: slideIn .3s ease-out; }
    .modal-header { display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid #e0e0e0; padding-bottom:1rem; margin-bottom:1.5rem; }
    .modal-close-button { background:transparent; border:none; font-size:2rem; line-height:1; cursor:pointer; color:#555 }
    .tabs-container { display:flex; border-bottom:1px solid #ccc; margin-bottom:1.5rem; }
    .tab-button { padding:10px 20px; cursor:pointer; border:none; background:transparent; border-bottom:3px solid transparent; margin-bottom:-1px; font-size:1rem; color:#555 }
    .tab-button.active { border-bottom-color:#17a2b8; color:#000; font-weight:600 }
    @keyframes fadeIn { from{opacity:0} to{opacity:1} }
    @keyframes slideIn { from{ transform: translateY(-30px); opacity:0 } to{ transform: translateY(0); opacity:1 } }
    @keyframes spin { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.7} }
    .delete-button{ background:transparent; border:none; color:#dc3545; font-size:20px; cursor:pointer }
    .submit-button{ margin-left:.5rem; padding:8px 16px; background:#17a2b8; color:#fff; border:none; border-radius:4px; cursor:pointer }
  `),vA=({info:t,onClose:e,onUpdate:n,onDelete:r})=>{if(!t)return null;const{user:a}=Hi(),[i,l]=q.useState("planejamento"),[c,u]=q.useState(t),[d,h]=q.useState([]),[y,w]=q.useState([]),[g,N]=q.useState(""),[_,S]=q.useState(null),[A,O]=q.useState(!1),[R,I]=q.useState(!1),[ee,U]=q.useState(null),[te,X]=q.useState(!1);q.useEffect(()=>{u(t),h(t.anexos||[]),w(t.comentarios||[]),t.ano_iso&&t.semana_iso?(async()=>{try{X(!0);const P=await fetch(`http://localhost:3001/planejamentos/semana-iso/${t.ano_iso}/${t.semana_iso}`,{credentials:"include"});if(P.ok){const K=await P.json();U(K)}else U(null)}catch{U(null)}finally{X(!1)}})():U(null)},[t]);const T=q.useMemo(()=>y?y.map(G=>({id:G.id,usuario_id:G.usuario_id,nome_usuario:G.nome_usuario,texto_comentario:G.texto_comentario,data_comentario:G.data_comentario})):[],[y]),Y=G=>G.stopPropagation(),F=G=>{if(!G)return"Data no informada";const P=new Date(G);return isNaN(P.getTime())?"Data em formato invlido":P.toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})},M=async()=>{const G=await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}`,{credentials:"include"});if(!G.ok)throw new Error("Falha ao recarregar planejamento.");const P=await G.json();u(P),h(P.anexos||[]),w(P.comentarios||[]),n?.(P)},j=async()=>{if(!_)return alert("Por favor, selecione um arquivo.");const G=["pdf","doc","docx","odt"],P=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.oasis.opendocument.text"],Z=(_.name||"").split(".").pop().toLowerCase(),se=_.type;if(!G.includes(Z)&&!P.includes(se))return alert("Tipo de arquivo no permitido. Envie PDF, DOC, DOCX ou ODT.");O(!0);const fe=new FormData;fe.append("anexo",_),c.anexos?.length===0&&fe.append("set_creation_date","true");try{if(!(await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}/anexos`,{method:"POST",credentials:"include",body:fe})).ok)throw new Error("Falha ao enviar anexo.");await M(),S(null);const Se=document.getElementById("planejamento-upload");Se&&(Se.value=""),alert("Anexo enviado com sucesso!")}catch(Ce){alert(`Erro: ${Ce.message}`)}finally{O(!1)}},D=async G=>{if(window.confirm("Tem certeza que deseja excluir este anexo?"))try{if(!(await fetch(`http://localhost:3001/anexos/${G}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Falha ao excluir anexo.");await M(),alert("Anexo excludo com sucesso!")}catch(P){alert(`Erro: ${P.message}`)}},$=async()=>{if(g.trim()){O(!0),I(!0);try{if(!(await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}/comentarios`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({usuario_id:a.userId,texto_comentario:g})})).ok)throw new Error("Falha ao adicionar comentrio.");await M(),N("")}catch(G){alert(`Erro: ${G.message}`)}finally{O(!1),I(!1)}}},ne=async()=>{I(!0);try{await M()}catch(G){console.error("Erro ao recarregar planejamento:",G)}finally{I(!1)}},ce=async G=>{if(window.confirm(`Tem certeza que deseja ${G.toLowerCase()} este planejamento?`)){O(!0);try{const P=await fetch(`http://localhost:3001/planejamentos/${c.id_planejamento}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:G})});if(!P.ok)throw new Error("Falha ao atualizar o status.");const K=await P.json();alert(`Planejamento ${G.toLowerCase()} com sucesso!`),u(K),n?.(K),e()}catch(P){alert(`Erro: ${P.message}`)}finally{O(!1)}}},re=String(a?.cargo||"").toLowerCase(),de=re==="administrador geral",ye=re==="administrador pedaggico"||re==="administrador geral";return m.createElement("div",{className:"modal-overlay",onClick:e},m.createElement(gA,null),m.createElement("div",{className:"modal-content",style:{maxWidth:"600px"},onClick:Y},m.createElement("div",{className:"modal-header"},m.createElement("h2",null,c.titulo||`Semana ${c.semana_iso||c.semana} - ${c.ano_iso||c.ano}`),m.createElement("button",{className:"modal-close-button",onClick:e},"")),ee&&m.createElement("div",{style:{border:"1px solid #eee",borderRadius:8,padding:"12px 14px",marginBottom:"16px",background:"#fafafa"}},m.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8}},m.createElement("div",{style:{fontWeight:700,color:"#2c3e50"}},"Semana ",c.semana_iso,"  ",c.ano_iso),m.createElement("div",{style:{fontSize:13,color:"#7f8c8d",background:"#ecf0f1",padding:"4px 10px",borderRadius:8}},new Date(ee.inicioSemana).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})," ","-",new Date(ee.fimSemana).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}))),ee?.compartilhamento&&Array.isArray(ee.compartilhamento.nomesMeses)&&ee.compartilhamento.nomesMeses.length>1&&m.createElement("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 10px",background:"#ffe5e5",color:"#c0392b",border:"1px solid #ffcccc",borderRadius:8,marginBottom:8}},m.createElement("span",null,""),m.createElement("span",null,"Tambm em: ",ee.compartilhamento.nomesMeses.join(", "))),Array.isArray(ee.diasSemana)&&m.createElement("div",{style:{marginTop:8}},m.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4,marginBottom:6,fontSize:11,fontWeight:700,color:"#95a5a6",textTransform:"uppercase",textAlign:"center"}},["S","T","Q","Q","S","S","D"].map((G,P)=>m.createElement("div",{key:P},G))),m.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4}},ee.diasSemana.map(G=>m.createElement("div",{key:G,title:new Date(G).toLocaleDateString("pt-BR"),style:{aspectRatio:"1 / 1",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg,#ecf0f1 0%,#d5dbdb 100%)",borderRadius:6,fontSize:12,fontWeight:700,color:"#2c3e50"}},new Date(G).getDate()))))),m.createElement("div",{style:{fontSize:".9rem",color:"#555",marginBottom:"1rem",padding:".5rem 1rem",background:"#f8f9fa",borderRadius:4}},m.createElement("p",{style:{margin:".25rem 0"}},"Status:"," ",m.createElement("strong",{style:{color:c.status==="Aprovado"?"green":c.status==="Reprovado"?"red":"orange"}},c.status||"Pendente")),m.createElement("p",{style:{margin:".25rem 0"}},"ltima modificao: ",F(c.data_modificacao))),m.createElement("div",{className:"tabs-container",style:{marginBottom:"1.5rem"}},m.createElement("button",{className:`tab-button ${i==="planejamento"?"active":""}`,onClick:()=>l("planejamento")},"Planejamento"),m.createElement("button",{className:`tab-button ${i==="comentarios"?"active":""}`,onClick:()=>l("comentarios")},"Comentrios (",y.length,")")),i==="planejamento"&&m.createElement("div",null,m.createElement("div",{className:"form-group",style:{marginBottom:"1.5rem"}},m.createElement("label",null,"Anexos"),d&&d.length>0?m.createElement("ul",{style:{listStyle:"none",padding:0,marginTop:".5rem"}},d.map(G=>{const P=G.path_arquivo||G.caminho_arquivo||G.caminho,K=G.nome_original||G.nome_arquivo||(P?P.split("/").pop():"Anexo");return m.createElement("li",{key:G.id_anexo,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:8,border:"1px solid #eee",borderRadius:4,marginBottom:".5rem"}},P?m.createElement("a",{href:`http://localhost:3001/${P}`,target:"_blank",rel:"noopener noreferrer"},K):m.createElement("span",{style:{color:"#dc3545",fontStyle:"italic"}},K," (caminho invlido)"),m.createElement("button",{onClick:()=>D(G.id_anexo),className:"delete-button",title:"Excluir anexo"},""))})):m.createElement("p",null,"Nenhum anexo encontrado.")),m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"planejamento-upload"},"Adicionar novo anexo"),m.createElement("input",{type:"file",id:"planejamento-upload",accept:".pdf,.doc,.docx,.odt,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.oasis.opendocument.text",onChange:G=>S(G.target.files[0])}),m.createElement("button",{onClick:j,disabled:A,className:"submit-button"},A?"Enviando...":"Enviar Anexo"))),i==="comentarios"&&m.createElement("div",{style:{marginBottom:"1.5rem",position:"relative"}},R&&m.createElement("div",{style:{position:"absolute",top:10,right:10,background:"#007bff",color:"#fff",padding:"8px 16px",borderRadius:20,fontSize:".85rem",fontWeight:600,zIndex:10,display:"flex",alignItems:"center",gap:8,boxShadow:"0 2px 8px rgba(0,123,255,0.3)",animation:"pulse 1.5s ease-in-out infinite"}},m.createElement("span",{style:{width:12,height:12,border:"2px solid #fff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin .8s linear infinite"}}),"Atualizando..."),m.createElement(Hy,{comentarios:T,usuarioAtual:{id:a.userId,cargo:a.cargo},onComentarioExcluido:ne}),m.createElement("textarea",{value:g,onChange:G=>N(G.target.value),placeholder:"Adicione um comentrio sobre o planejamento...",style:{width:"100%",minHeight:100,padding:8,border:"1px solid #ccc",borderRadius:4,resize:"vertical"}}),m.createElement("div",{style:{textAlign:"right",marginTop:".5rem"}},m.createElement("button",{onClick:$,disabled:A||!g.trim(),style:{padding:"9px 16px",cursor:"pointer",background:"#17a2b8",color:"#fff",border:"none",borderRadius:4,fontSize:14}},A?"Enviando...":"Confirmar Comentrio"))),ye&&m.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",borderTop:"1px solid #eee",paddingTop:"1.5rem"}},m.createElement("button",{onClick:()=>ce("Reprovado"),style:{padding:"10px 20px",cursor:"pointer",background:"#dc3545",color:"#fff",border:"none",borderRadius:6,fontSize:"1rem"},disabled:A||c.status==="Reprovado"},"Reprovar"),m.createElement("button",{onClick:()=>ce("Aprovado"),style:{padding:"10px 20px",cursor:"pointer",background:"#28a745",color:"#fff",border:"none",borderRadius:6,fontSize:"1rem"},disabled:A||c.status==="Aprovado"},"Aprovar")),de&&m.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"}},m.createElement("button",{onClick:()=>r?.(c.id_planejamento,c.mes,c.semana),style:{padding:"10px 20px",cursor:"pointer",background:"#6b7280",color:"#fff",border:"none",borderRadius:6,fontSize:"1rem"},type:"button"},"Excluir Planejamento"))))},yA=({turmaId:t,ano:e})=>{const[n,r]=q.useState(e||new Date().getFullYear()),[a,i]=q.useState(new Date().getMonth()+1),[l,c]=q.useState([]),[u,d]=q.useState(!1),[h,y]=q.useState(null),[w,g]=q.useState(null),[N,_]=q.useState(!1),[S,A]=q.useState({});q.useEffect(()=>{t&&O()},[n,a,t]),q.useEffect(()=>{e&&e!==n&&r(e)},[e]);const O=async()=>{d(!0),y(null),console.log(` Buscando semanas para ${a}/${n}, Turma: ${t}`);try{const T=await fetch(`http://localhost:3001/planejamentos/semanas-iso/${n}/${a}?turma_id=${t}`,{credentials:"include"});if(!T.ok)throw new Error(`Erro ${T.status}: ${T.statusText}`);const Y=await T.json();console.log(` Recebidas ${Y.length} semanas:`,Y),c(Y)}catch(T){console.error(" Erro ao buscar semanas:",T),y(T.message)}finally{d(!1)}},R=T=>{T==="anterior"?a===1?(i(12),r(n-1)):i(a-1):a===12?(i(1),r(n+1)):i(a+1)},I=async T=>{console.log(" Criando planejamento para semana:",T);try{const Y=await fetch("http://localhost:3001/planejamentos/semana-iso",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({turma_id:t,ano_iso:T.anoISO,semana_iso:T.semanaISO})});if(!Y.ok){const j=await Y.json().catch(()=>({}));throw new Error(j.error||Y.statusText)}const F=await Y.json(),M=F.id_planejamento;console.log(F.created?" Planejamento criado":" Planejamento existente",F),g({...F,semana_iso:F.semana_iso??T.semanaISO,ano_iso:F.ano_iso??T.anoISO}),await O(),await te(M)}catch(Y){console.error(" Erro ao criar planejamento:",Y)}},ee=T=>`${T.anoISO}-${T.semanaISO}-${t}`,U=async T=>{console.log(" Ao: abrir ou criar planejamento para semana:",T);const Y=ee(T);if(!S[Y]){A(F=>({...F,[Y]:!0}));try{T?.planejamento?.id_planejamento?(g({id_planejamento:T.planejamento.id_planejamento,status:T.planejamento.status,semana_iso:T.semanaISO,ano_iso:T.anoISO,ano:T.anoISO,semana:T.planejamento.semana,mes:T.planejamento.mes}),await te(T.planejamento.id_planejamento)):await I(T)}finally{A(F=>{const{[Y]:M,...j}=F;return j})}}},te=async T=>{try{const Y=await fetch(`http://localhost:3001/planejamentos/${T}`,{credentials:"include"});if(!Y.ok)throw new Error("Falha ao buscar planejamento.");const F=await Y.json();g(F)}catch(Y){console.error("Erro ao carregar detalhes do planejamento:",Y)}},X=()=>Ku(new Date(n,a-1),"MMMM yyyy",{locale:x5});return t?m.createElement("div",{className:"planejamento-iso"},m.createElement("div",{className:"header-navegacao"},m.createElement("button",{className:"btn-navegacao",onClick:()=>R("anterior"),title:"Ms anterior"}," Anterior"),m.createElement("h2",{className:"titulo-mes"},X()),m.createElement("button",{className:"btn-navegacao",onClick:()=>R("proximo"),title:"Prximo ms"},"Prximo ")),h&&m.createElement("div",{className:"error-message"},m.createElement("span",null," ",h),m.createElement("button",{onClick:O},"Tentar novamente")),u?m.createElement("div",{className:"loading"},m.createElement("div",{className:"spinner"}),m.createElement("p",null,"Carregando semanas...")):l.length===0?m.createElement("div",{className:"empty-state"},m.createElement("p",null," Nenhuma semana encontrada para este ms")):m.createElement("div",{className:"semanas-grid"},l.map(T=>m.createElement("div",{key:`${T.anoISO}-W${T.semanaISO}`,className:`semana-card ${T.compartilhada?"compartilhada":""}`},m.createElement("div",{className:"semana-header"},m.createElement("div",{className:"semana-numero"},m.createElement("strong",null,"Semana ",T.semanaISO),m.createElement("span",{className:"ano-iso"},T.anoISO)),m.createElement("div",{className:"semana-periodo"},Ku(Zm(T.inicioSemana),"dd/MM")," -",Ku(Zm(T.fimSemana),"dd/MM"))),T.compartilhada&&m.createElement("div",{className:"badge-compartilhada"},m.createElement("span",{className:"icon"},""),m.createElement("span",{className:"texto"},"Tambm em: ",T.outrosMesesNomes.join(", "))),m.createElement("div",{className:"planejamento-body"},T.planejamento&&m.createElement("div",{className:"planejamento-existente"},m.createElement("div",{className:`status-badge status-${T.planejamento.status?.toLowerCase().replace(" ","-")}`},T.planejamento.status)),m.createElement("button",{className:"btn-abrir",disabled:!!S[ee(T)],onClick:()=>U(T),title:"Abrir modal do planejamento"},S[ee(T)]?"Abrindo...":" Abrir planejamento")),m.createElement("div",{className:"mini-calendario"},m.createElement("div",{className:"dias-semana-header"},["S","T","Q","Q","S","S","D"].map((Y,F)=>m.createElement("div",{key:F,className:"dia-header"},Y))),m.createElement("div",{className:"dias-semana-grid"},T.diasSemana.map(Y=>{const F=Zm(Y),j=F.getMonth()+1!==a;return m.createElement("div",{key:Y,className:`dia ${j?"outro-mes":""}`,title:Ku(F,"dd/MM/yyyy",{locale:x5})},Ku(F,"d"))})))))),w&&m.createElement(vA,{info:w,onClose:()=>g(null),onUpdate:async T=>{g(T),await O()},onDelete:async T=>{try{if(!(await fetch(`http://localhost:3001/planejamentos/${T}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Falha ao excluir planejamento.");await O(),g(null),alert("Planejamento excludo com sucesso.")}catch(Y){alert(`Erro: ${Y.message}`)}}})):m.createElement("div",{className:"planejamento-iso-empty"},m.createElement("p",null," Selecione uma turma para visualizar os planejamentos"))},bA=()=>{console.log(" [PLANEJAMENTOS-ISO] Componente montado!");const[t,e]=q.useState([]),[n,r]=q.useState(null),[a,i]=q.useState(!0),[l,c]=q.useState([]),[u,d]=q.useState(null);q.useEffect(()=>{console.log(" [PLANEJAMENTOS-ISO] useEffect disparado"),h()},[]);const h=async()=>{console.log(" [PLANEJAMENTOS-ISO] Buscando turmas...");try{const w=await fetch("http://localhost:3001/turmas",{credentials:"include"});if(console.log(" [PLANEJAMENTOS-ISO] Response status:",w.status),w.ok){const g=await w.json();console.log(" [PLANEJAMENTOS-ISO] Turmas carregadas:",g.length),e(g);const N=[...new Set(g.map(_=>_.ano_letivo??_.ano).filter(_=>typeof _=="number"||typeof _=="string"))].map(_=>Number(_)).filter(_=>!Number.isNaN(_)).sort((_,S)=>S-_);if(c(N),g.length>0){const _=N[0]??new Date().getFullYear();d(_);const S=g.find(A=>(A.ano_letivo??A.ano)===_);S&&(r(S.id),console.log(" [PLANEJAMENTOS-ISO] Turma selecionada:",S.nome_turma))}}}catch(w){console.error(" [PLANEJAMENTOS-ISO] Erro ao buscar turmas:",w)}finally{i(!1)}},y=u?t.filter(w=>(w.ano_letivo??w.ano)===Number(u)):t;return m.createElement("div",{className:"planejamentos-iso-page"},m.createElement("div",{className:"page-header-iso"},m.createElement("div",{className:"header-content"},m.createElement("h1",null," Planejamentos por Semana ISO"),m.createElement("p",{className:"subtitle"},"Visualize e gerencie planejamentos usando semanas ISO 8601. Semanas que atravessam meses aparecem em ambos!")),a?m.createElement("div",{className:"loading-turmas"},"Carregando turmas..."):m.createElement("div",{className:"turma-selector"},m.createElement("label",{htmlFor:"ano-select",style:{marginRight:"12px"}},m.createElement("span",{className:"label-icon"},""),"Ano letivo:"),m.createElement("select",{id:"ano-select",value:u||"",onChange:w=>{const g=Number(w.target.value);d(g);const N=t.find(_=>(_.ano_letivo??_.ano)===g);r(N?N.id:"")},className:"turma-select",style:{marginRight:"16px"}},l.map(w=>m.createElement("option",{key:w,value:w},w))),m.createElement("label",{htmlFor:"turma-select"},m.createElement("span",{className:"label-icon"},""),"Selecione a Turma:"),m.createElement("select",{id:"turma-select",value:n||"",onChange:w=>r(w.target.value),className:"turma-select"},m.createElement("option",{value:""},"-- Selecione uma turma --"),y.map(w=>m.createElement("option",{key:w.id,value:w.id},w.nome_turma," - ",w.periodo," (",w.ano_letivo??w.ano,")"))))),m.createElement("div",{className:"info-banner"},m.createElement("div",{className:"info-icon"},""),m.createElement("div",{className:"info-content"},m.createElement("strong",null,"O que so Semanas ISO?"),m.createElement("p",null,"Semanas ISO 8601 so o padro internacional para numerao de semanas. Cada semana comea na segunda-feira e pode atravessar meses diferentes. Quando isso acontece, a semana aparece em"," ",m.createElement("strong",null,"ambos os meses"),"!"))),m.createElement("div",{className:"legenda"},m.createElement("h3",null,"Legenda:"),m.createElement("div",{className:"legenda-items"},m.createElement("div",{className:"legenda-item"},m.createElement("div",{className:"legenda-box normal"}),m.createElement("span",null,"Semana normal (apenas 1 ms)")),m.createElement("div",{className:"legenda-item"},m.createElement("div",{className:"legenda-box compartilhada"}),m.createElement("span",null,"Semana compartilhada (2 meses)")),m.createElement("div",{className:"legenda-item"},m.createElement("div",{className:"legenda-badge pendente"},"Pendente"),m.createElement("span",null,"Aguardando aprovao")),m.createElement("div",{className:"legenda-item"},m.createElement("div",{className:"legenda-badge aprovado"},"Aprovado"),m.createElement("span",null,"Planejamento aprovado")))),n?m.createElement(yA,{turmaId:n,ano:u}):m.createElement("div",{className:"empty-state-page"},m.createElement("div",{className:"empty-icon"},""),m.createElement("h2",null,"Selecione uma turma para comear"),m.createElement("p",null,"Escolha uma turma no seletor acima para visualizar os planejamentos semanais")))},wA=()=>m.createElement("style",null,`
    .responsaveis-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      background-color: #fff;
      border-radius: 8px;
      overflow: hidden;
    }
    .responsaveis-table th, .responsaveis-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    .responsaveis-table th {
      background-color: #f8f9fa;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.85rem;
      color: #333;
    }
    .responsaveis-table tbody tr:hover {
      background-color: #f1f1f1;
    }
    .responsaveis-table tbody tr {
      cursor: pointer;
    }
    .responsaveis-table tbody tr:last-child td {
      border-bottom: none;
    }
    .action-button-delete {
      background-color: #ef4444;
      color: white;
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.875rem;
      transition: background-color 0.2s;
    }
    .action-button-delete:hover {
      background-color: #dc2626;
    }
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }
    .search-container {
      display: flex;
      align-items: center;
    }
    .search-input {
      padding: 10px 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
      min-width: 300px;
    }

    /* Estilos para o Modal de Detalhes */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-content {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #e0e0e0;
      padding-bottom: 1rem;
      margin-bottom: 1.5rem;
    }
    .modal-header h2 {
      margin: 0;
      font-size: 1.5rem;
    }
    .modal-close-button {
      background: transparent;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      line-height: 1;
    }
    .detail-item {
      margin-bottom: 1rem;
    }
    .detail-item strong {
      display: block;
      color: #555;
      margin-bottom: 4px;
      font-size: 0.9rem;
    }
    .detail-item span {
      font-size: 1.1rem;
    }
  `),xA=({responsavel:t,onClose:e,onEdit:n})=>{const[r,a]=q.useState([]),[i,l]=q.useState(!1);if(q.useEffect(()=>{t&&(async()=>{if(t?.id){l(!0);try{const d=await fetch(`http://localhost:3001/responsaveis/${t.id}/alunos`,{credentials:"include"});if(d.ok){const h=await d.json();a(h)}else console.error("Erro ao buscar alunos:",d.statusText),a([])}catch(d){console.error("Erro ao buscar alunos:",d),a([])}finally{l(!1)}}})()},[t]),!t)return null;const c=u=>{if(!u)return"N/A";const d=new Date(u);return new Date(d.getTime()+d.getTimezoneOffset()*6e4).toLocaleDateString("pt-BR")};return m.createElement("div",{className:"modal-overlay",onClick:e},m.createElement("div",{className:"modal-content",onClick:u=>u.stopPropagation()},m.createElement("div",{className:"modal-header"},m.createElement("h2",null,"Detalhes do Responsvel"),m.createElement("button",{className:"modal-close-button",onClick:e},"")),m.createElement("div",{className:"detail-item"},m.createElement("strong",null,"Nome Completo:")," ",m.createElement("span",null,t.nome_completo)),m.createElement("div",{className:"detail-item"},m.createElement("strong",null,"Email:")," ",m.createElement("span",null,t.email)),m.createElement("div",{className:"detail-item"},m.createElement("strong",null,"Telefone:")," ",m.createElement("span",null,t.telefone)),m.createElement("div",{className:"detail-item"},m.createElement("strong",null,"Outro Telefone:")," ",m.createElement("span",null,t.outro_telefone||"N/A")),m.createElement("div",{className:"detail-item"},m.createElement("strong",null,"CPF:")," ",m.createElement("span",null,t.cpf||"No informado")),m.createElement("div",{className:"detail-item"},m.createElement("strong",null,"RG:")," ",m.createElement("span",null,t.rg||"No informado")),m.createElement("div",{className:"detail-item",style:{marginTop:"1.5rem",borderTop:"1px solid #e0e0e0",paddingTop:"1rem"}},m.createElement("strong",null,"Alunos Vinculados",!i&&r.length>0&&m.createElement("span",{style:{fontSize:"0.8em",color:"#666",fontWeight:"normal",marginLeft:"8px"}},"(",r.length," ",r.length===1?"aluno":"alunos",")"),":"),i?m.createElement("div",{style:{padding:"10px 0",color:"#666",fontStyle:"italic"}},"Carregando alunos..."):r.length>0?m.createElement("div",{style:{marginTop:"10px",maxHeight:"200px",overflowY:r.length>3?"auto":"visible",paddingRight:r.length>3?"5px":"0"}},r.map(u=>m.createElement("div",{key:u.id,style:{padding:"8px 12px",margin:"5px 0",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #e9ecef",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:d=>{d.target.style.backgroundColor="#e9ecef"},onMouseLeave:d=>{d.target.style.backgroundColor="#f8f9fa"},title:"Clique para ver mais detalhes do aluno"},m.createElement("div",{style:{fontWeight:"600",color:"#333"}},u.nome_completo),m.createElement("div",{style:{fontSize:"0.85em",color:"#666",marginTop:"2px"}},"Nascimento: ",c(u.data_nascimento),"  Status:"," ",m.createElement("span",{style:{color:u.status_aluno===1?"#28a745":"#dc3545",fontWeight:"500"}},u.status_aluno===1?"Ativo":"Inativo"))))):m.createElement("div",{style:{padding:"10px 0",color:"#666",fontStyle:"italic",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"6px",margin:"10px 0"}},"Nenhum aluno vinculado a este responsvel")),m.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #e0e0e0"}},m.createElement("button",{onClick:()=>n(t.id),style:{backgroundColor:"#17a2b8",color:"white",padding:"10px 15px",border:"none",borderRadius:"6px",cursor:"pointer"}},"Editar"))))},EA=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0),[a,i]=q.useState(null),[l,c]=q.useState(""),[u,d]=q.useState(null),h=ta();q.useEffect(()=>{(async()=>{try{const S=await fetch("http://localhost:3001/responsaveis",{credentials:"include"});if(!S.ok)throw new Error("Falha ao buscar os dados dos responsveis.");const A=await S.json();e(A)}catch(S){i(S.message)}finally{r(!1)}})()},[]);const y=async _=>{if(window.confirm("Tem certeza que deseja excluir este responsvel? Esta ao no pode ser desfeita."))try{const S=await fetch(`http://localhost:3001/responsaveis/${_}`,{method:"DELETE"});if(!S.ok){const A=await S.json();throw new Error(A.error||"Falha ao excluir o responsvel.")}e(A=>A.filter(O=>O.id!==_))}catch(S){alert(`Erro: ${S.message}`)}},w=_=>_?new Date(_).toLocaleDateString("pt-BR"):"N/A",g=_=>{h(`/home/responsaveis/${_}/editar`)},N=q.useMemo(()=>t.filter(_=>_.nome_completo.toLowerCase().includes(l.toLowerCase())),[t,l]);return n?m.createElement("div",{style:{padding:"2rem"}},"Carregando responsveis..."):a?m.createElement("div",{style:{padding:"2rem",color:"red"}},"Erro: ",a):m.createElement("div",{style:{padding:"2rem",fontFamily:"sans-serif"}},m.createElement(wA,null),m.createElement("div",{className:"page-header"},m.createElement("h1",null,"Lista de Responsveis"),m.createElement("div",{className:"search-container"},m.createElement(Cn,{id:"search-responsavel",hint:"Digite o nome do responsvel para filtrar a lista",type:"text",placeholder:"Buscar por nome...",value:l,onChange:_=>c(_.target.value),className:"search-input"}))),m.createElement(Xp,{buttonText:"Importar via Excel",buttonIcon:"",options:[{icon:"",title:"Importar Responsveis",endpoint:"/responsaveis/upload-excel",acceptedColumns:[{name:"Nome Completo",description:"Nome completo do responsvel",required:!0},{name:"Email",description:"Endereo de email do responsvel",required:!0},{name:"Telefone",description:"Nmero de telefone principal",required:!0},{name:"Outro Telefone",description:"Nmero de telefone secundrio (opcional)",required:!1},{name:"RG",description:"Nmero do RG (opcional)",required:!1},{name:"CPF",description:"Nmero do CPF (opcional)",required:!1}],description:"Faa upload de um arquivo Excel (.xlsx ou .xls) para importar mltiplos responsveis de uma vez. O sistema criar automaticamente novos registros na base de dados.",buttonText:"Importar Responsveis",onSuccess:_=>{fetchResponsaveis()},onError:_=>{console.error("Erro na importao:",_)}}]}),m.createElement("table",{className:"responsaveis-table"},m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",null,"Nome Completo"),m.createElement("th",null,"Email"),m.createElement("th",null,"Telefone"),m.createElement("th",null,"Outro Telefone"),m.createElement("th",null,"Data de Cadastro"),m.createElement("th",null,"Aes"))),m.createElement("tbody",null,N.map(_=>m.createElement("tr",{key:_.id,onClick:()=>d(_)},m.createElement("td",null,_.nome_completo),m.createElement("td",null,_.email),m.createElement("td",null,_.telefone),m.createElement("td",null,_.outro_telefone||"---"),m.createElement("td",null,w(_.data_cadastro)),m.createElement("td",null,m.createElement("button",{onClick:S=>{S.stopPropagation(),y(_.id)},className:"action-button-delete"},"Excluir")))))),N.length===0&&!n&&m.createElement("p",{style:{textAlign:"center",marginTop:"2rem"}},"Nenhum responsvel encontrado com os filtros aplicados."),m.createElement(xA,{responsavel:u,onClose:()=>d(null),onEdit:g}))},_A=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0),[a,i]=q.useState(""),[l,c]=q.useState(null),[u,d]=q.useState("aluno"),[h,y]=q.useState(""),[w,g]=q.useState(""),[N,_]=q.useState([]),[S,A]=q.useState([]),[O,R]=q.useState(!1),[I,ee]=q.useState(""),[U,te]=q.useState(""),X=async()=>{r(!0);try{const D=await fetch("http://localhost:3001/relatorios",{credentials:"include"});if(!D.ok)throw new Error("Falha ao buscar relatrios.");const $=await D.json();e($)}catch(D){i(D.message)}finally{r(!1)}};q.useEffect(()=>{X();const D=async()=>{try{console.log("Buscando alunos ativos...");const ne=await fetch("http://localhost:3001/alunos/ativos",{credentials:"include"});if(console.log("Resposta da busca de alunos:",ne.status,ne.statusText),!ne.ok)throw new Error(`Erro ${ne.status}: ${ne.statusText}`);const ce=await ne.json();console.log("Dados dos alunos recebidos:",ce),_(Array.isArray(ce)?ce:[])}catch(ne){console.error("Erro ao buscar alunos:",ne),_([])}},$=async()=>{try{console.log("Buscando turmas...");const ne=await fetch("http://localhost:3001/turmas",{credentials:"include"});if(console.log("Resposta da busca de turmas:",ne.status,ne.statusText),!ne.ok)throw new Error(`Erro ${ne.status}: ${ne.statusText}`);const ce=await ne.json();console.log("Dados das turmas recebidos:",ce),A(Array.isArray(ce)?ce:[])}catch(ne){console.error("Erro ao buscar turmas:",ne),A([])}};D(),$()},[]);const T=D=>{c(D.target.files[0])},Y=async D=>{if(D.preventDefault(),!l){ee("Por favor, selecione um arquivo.");return}if(u==="aluno"&&!h){ee("Por favor, selecione um aluno.");return}if(u==="turma"&&!w){ee("Por favor, selecione uma turma.");return}R(!0),ee(""),te("");const $=new FormData;$.append("relatorio",l),$.append("tipo",u),u==="aluno"?$.append("alunoId",h):$.append("turmaId",w);try{const ne=await fetch("http://localhost:3001/relatorios/upload",{method:"POST",body:$,credentials:"include"}),ce=await ne.json();if(!ne.ok)throw new Error(ce.error||"Ocorreu um erro no upload.");te(ce.message),c(null),D.target.reset(),X()}catch(ne){ee(ne.message)}finally{R(!1)}},F=async D=>{if(window.confirm("Tem certeza que deseja excluir este relatrio?"))try{const $=await fetch(`http://localhost:3001/relatorios/${D}`,{method:"DELETE",credentials:"include"});if(!$.ok){const ne=await $.json();throw new Error(ne.error||"Falha ao excluir o relatrio.")}e(ne=>ne.filter(ce=>ce.id!==D))}catch($){alert(`Erro ao excluir: ${$.message}`)}},M=D=>D?new Date(D).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",j=D=>{if(D===0)return"0 Bytes";const $=1024,ne=["Bytes","KB","MB","GB"],ce=Math.floor(Math.log(D)/Math.log($));return parseFloat((D/Math.pow($,ce)).toFixed(2))+" "+ne[ce]};return m.createElement("div",{className:"relatorios-page-container"},m.createElement("h1",null,"Gerenciamento de Relatrios"),m.createElement("div",{className:"upload-section"},m.createElement("h2",null,"Enviar Novo Relatrio"),m.createElement("form",{onSubmit:Y},I&&m.createElement("p",{className:"form-error"},I),U&&m.createElement("p",{className:"form-success"},U),m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"file-upload"},"Selecione o arquivo"),m.createElement("input",{id:"file-upload",type:"file",onChange:T,required:!0})),m.createElement("div",{className:"form-group"},m.createElement("label",null,"Tipo de Relatrio"),m.createElement("div",{className:"radio-group"},m.createElement("label",null,m.createElement("input",{type:"radio",name:"tipo",value:"aluno",checked:u==="aluno",onChange:D=>d(D.target.value)}),"Aluno"),m.createElement("label",null,m.createElement("input",{type:"radio",name:"tipo",value:"turma",checked:u==="turma",onChange:D=>d(D.target.value)}),"Turma"))),u==="aluno"&&m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"aluno-select"},"Selecione o Aluno"),m.createElement("select",{id:"aluno-select",value:h,onChange:D=>y(D.target.value),required:!0},m.createElement("option",{value:""},"-- Selecione um aluno --"),N&&Array.isArray(N)&&N.length>0?N.map(D=>m.createElement("option",{key:D.id,value:D.id},D.nome_completo)):m.createElement("option",{value:"",disabled:!0},N.length===0?"Nenhum aluno encontrado":"Carregando alunos...")),N.length===0&&m.createElement("p",{style:{color:"red",fontSize:"0.9rem",marginTop:"5px"}},"Nenhum aluno ativo encontrado. Verifique se h alunos cadastrados e ativos.")),u==="turma"&&m.createElement("div",{className:"form-group"},m.createElement("label",{htmlFor:"turma-select"},"Selecione a Turma"),m.createElement("select",{id:"turma-select",value:w,onChange:D=>g(D.target.value),required:!0},m.createElement("option",{value:""},"-- Selecione uma turma --"),S&&Array.isArray(S)&&S.length>0?S.map(D=>m.createElement("option",{key:D.id,value:D.id},D.nome_turma)):m.createElement("option",{value:"",disabled:!0},S.length===0?"Nenhuma turma encontrada":"Carregando turmas...")),S.length===0&&m.createElement("p",{style:{color:"red",fontSize:"0.9rem",marginTop:"5px"}},"Nenhuma turma encontrada. Verifique se h turmas cadastradas.")),m.createElement("button",{type:"submit",disabled:O,className:"submit-button"},O?"Enviando...":"Enviar Relatrio"))),m.createElement("div",{className:"list-section"},m.createElement("h2",null,"Relatrios Enviados"),n&&m.createElement("p",null,"Carregando relatrios..."),a&&m.createElement("p",{className:"list-error"},"Erro: ",a),!n&&!a&&m.createElement("table",{className:"relatorios-table"},m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",null,"Nome do Arquivo"),m.createElement("th",null,"Tipo"),m.createElement("th",null,"Destino"),m.createElement("th",null,"Tamanho"),m.createElement("th",null,"Data de Upload"),m.createElement("th",null,"Aes"))),m.createElement("tbody",null,t.length>0?t.map(D=>m.createElement("tr",{key:D.id},m.createElement("td",null,D.nome_original),m.createElement("td",{className:"capitalize"},D.tipo_destino),m.createElement("td",null,D.nome_destino),m.createElement("td",null,j(D.tamanho_bytes)),m.createElement("td",null,M(D.data_upload)),m.createElement("td",null,m.createElement("a",{href:`http://localhost:3001/${D.caminho_arquivo}`,target:"_blank",rel:"noopener noreferrer",className:"action-button"},"Download"),m.createElement("button",{onClick:()=>F(D.id),className:"action-button delete-button"},"Excluir")))):m.createElement("tr",null,m.createElement("td",{colSpan:"6"},"Nenhum relatrio encontrado."))))))},SA=()=>m.createElement("style",null,`
    .edit-responsavel-container {
      max-width: 700px;
      margin: 2rem auto;
      padding: 2rem;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .edit-responsavel-form {
      /* A estilizao principal agora est no container */
      margin-top: 1.5rem;
    }
    .edit-responsavel-form h1 {
      display: none; /* O ttulo agora est fora do formulrio */
    }
    .edit-responsavel-container h1 {
      text-align: center;
      margin-bottom: 2rem;
      font-size: 1.8rem;
      color: #333;
    }
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }
    .form-group {
      display: flex;
      flex-direction: column;
    }
    .form-group.full-width {
      grid-column: 1 / -1;
    }
    .form-group label {
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #555;
    }
    .form-group input {
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
      transition: border-color 0.2s;
    }
    .form-group input:focus {
      outline: none;
      border-color: #17a2b8;
      box-shadow: 0 0 0 2px rgba(23, 162, 184, 0.2);
    }
    .form-actions {
      grid-column: 1 / -1;
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid #e0e0e0;
    }
    .form-actions button {
      padding: 12px 24px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: background-color 0.2s, transform 0.1s;
    }
    .form-actions button:hover {
      transform: translateY(-2px);
    }
    .btn-save {
      background-color: #28a745;
      color: white;
    }
    .btn-cancel {
      background-color: #6c757d;
      color: white;
    }

    /* Estilos das Abas */
    .tabs-container {
      display: flex;
      border-bottom: 1px solid #ccc;
      margin-bottom: 1.5rem;
    }
    .tab-button {
      padding: 10px 20px;
      cursor: pointer;
      border: none;
      background-color: transparent;
      border-bottom: 3px solid transparent;
      margin-bottom: -1px;
      font-size: 1rem;
      color: #555;
      transition: color 0.2s, border-color 0.2s;
    }
    .tab-button.active {
      border-bottom-color: #17a2b8; /* Adicionei uma cor, ajuste se necessrio */
      color: #17a2b8;
    }
  `),kA=()=>{const{id:t}=bd(),e=ta(),[n,r]=q.useState({nome_completo:"",email:"",telefone:"",outro_telefone:"",cpf:"",rg:""}),[a,i]=q.useState(!0),[l,c]=q.useState(null);q.useEffect(()=>{const h=async()=>{try{const y=await fetch(`http://localhost:3001/responsaveis/${t}`,{credentials:"include"});if(!y.ok){if(y.status===401)throw new Error("Usurio no autenticado. Faa login novamente.");if(y.status===404)throw new Error("Responsvel no encontrado.");{const g=await y.json().catch(()=>({}));throw new Error(g.error||`Erro ${y.status}: ${y.statusText}`)}}const w=await y.json();r({nome_completo:w.nome_completo||"",email:w.email||"",telefone:w.telefone||"",outro_telefone:w.outro_telefone||"",cpf:w.cpf||"",rg:w.rg||""})}catch(y){c(y.message)}finally{i(!1)}};if(t){if(isNaN(t)||t<=0){c("ID do responsvel invlido."),i(!1);return}h()}else c("ID do responsvel no fornecido."),i(!1)},[t]);const u=h=>{const{name:y,value:w}=h.target;r(g=>({...g,[y]:w}))},d=async h=>{h.preventDefault();try{const y=await fetch(`http://localhost:3001/responsaveis/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)});if(!y.ok){const w=await y.json().catch(()=>({}));throw y.status===401?new Error("Usurio no autenticado. Faa login novamente."):y.status===404?new Error("Responsvel no encontrado."):new Error(w.error||`Erro ${y.status}: Falha ao atualizar o responsvel.`)}alert("Responsvel atualizado com sucesso!"),e("/home/responsaveis")}catch(y){alert(`Erro: ${y.message}`)}};return a?m.createElement("div",{style:{padding:"2rem"}},"Carregando..."):l?m.createElement("div",{style:{padding:"2rem",color:"red"}},"Erro: ",l):m.createElement(m.Fragment,null,m.createElement(SA,null),m.createElement("form",{className:"edit-responsavel-form",onSubmit:d},m.createElement("h1",null,"Editar Responsvel"),m.createElement("div",{className:"form-grid"},m.createElement("div",{className:"form-group full-width"},m.createElement(Cn,{label:"Nome Completo",hint:"Nome completo do responsvel legal conforme documento de identidade",type:"text",name:"nome_completo",value:n.nome_completo,onChange:u,required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Email",hint:"Endereo de email para comunicaes e notificaes",type:"email",name:"email",value:n.email,onChange:u,required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Telefone",hint:"Telefone principal para contato. Formato: (00) 00000-0000",type:"text",name:"telefone",value:n.telefone,onChange:u,required:!0})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"Outro Telefone (Opcional)",hint:"Telefone secundrio ou de contato alternativo",type:"text",name:"outro_telefone",value:n.outro_telefone,onChange:u})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"CPF",hint:"CPF do responsvel. Formato: 000.000.000-00",type:"text",name:"cpf",value:n.cpf,onChange:u})),m.createElement("div",{className:"form-group"},m.createElement(Cn,{label:"RG",hint:"Nmero do RG do responsvel",type:"text",name:"rg",value:n.rg,onChange:u})),m.createElement("div",{className:"form-actions"},m.createElement("button",{type:"button",className:"btn-cancel",onClick:()=>e("/home/responsaveis")},"Cancelar"),m.createElement("button",{type:"submit",className:"btn-save"},"Salvar Alteraes")))))},NA=()=>{const[t]=zx(),e=ta(),n=t.get("token"),[r,a]=q.useState(""),[i,l]=q.useState(""),[c,u]=q.useState(""),[d,h]=q.useState(null),y=async w=>{if(w.preventDefault(),u(""),h(null),!n){u("Token invlido."),h("error");return}if(r.length<6){u("A senha deve ter pelo menos 6 caracteres."),h("error");return}if(r!==i){u("As senhas no coincidem."),h("error");return}try{const g=await fetch("http://localhost:3001/resetar-senha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,password:r})}),N=await g.json();if(!g.ok)throw new Error(N?.error||"No foi possvel redefinir a senha.");u("Senha redefinida com sucesso! Redirecionando..."),h("success"),setTimeout(()=>e("/"),1500)}catch(g){u(g.message),h("error")}};return m.createElement("div",{className:"App"},m.createElement("div",{className:"container"},m.createElement("form",{onSubmit:y},m.createElement("h1",null,"Definir nova senha"),c&&m.createElement("p",{className:`status-message ${d||""}`},c),m.createElement("div",{className:"input-field"},m.createElement("input",{type:"password",placeholder:"Nova senha",required:!0,value:r,onChange:w=>a(w.target.value)})),m.createElement("div",{className:"input-field"},m.createElement("input",{type:"password",placeholder:"Confirmar nova senha",required:!0,value:i,onChange:w=>l(w.target.value)})),m.createElement("button",{type:"submit"},"Salvar nova senha"),m.createElement("div",{className:"signup-link"},m.createElement("p",null,"Voltar ao ",m.createElement(_s,{to:"/"},"login"))))))},AA=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(""),[a,i]=q.useState(null),l=async c=>{c.preventDefault();try{const u=await fetch("http://localhost:3001/recuperar-senha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),d=await u.json();u.ok?(r("Link de recuperao enviado para seu email!"),i("success")):(r(d?.error||"Erro ao enviar email de recuperao. Tente novamente."),i("error"))}catch{r("Erro ao conectar com o servidor. Tente novamente mais tarde."),i("error")}};return m.createElement("div",{className:"App"},m.createElement("div",{className:"container"},m.createElement("form",{onSubmit:l},m.createElement("h1",null,"Recuperar senha"),n&&m.createElement("p",{className:`status-message ${a||""}`},n),m.createElement("div",{className:"input-field"},m.createElement("input",{type:"email",placeholder:"E-mail",required:!0,value:t,onChange:c=>e(c.target.value)})),m.createElement("button",{type:"submit"},"Enviar link de recuperao"),m.createElement("div",{className:"signup-link"},m.createElement("p",null,"Lembrou a senha? ",m.createElement(_s,{to:"/"},"Voltar ao login"))))))},CA=()=>{const{alunoId:t}=bd(),e=ta(),[n,r]=q.useState(null),[a,i]=q.useState([]),[l,c]=q.useState(!0),[u,d]=q.useState(""),[h,y]=q.useState(!1),w=async()=>{c(!0),d("");try{const[N,_]=await Promise.all([fetch(`http://localhost:3001/alunos/${t}/detalhes`,{credentials:"include"}),fetch("http://localhost:3001/turmas",{credentials:"include"})]);if(!N.ok)throw new Error("Falha ao carregar dados do aluno");if(!_.ok)throw new Error("Falha ao carregar turmas");const S=await N.json(),A=await _.json();r(S),i(A)}catch(N){d(N.message)}finally{c(!1)}};q.useEffect(()=>{t&&w()},[t]);const g=async N=>{try{const _=await fetch(`http://localhost:3001/alunos/${N.aluno_id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),S=await _.json();if(!_.ok)throw new Error(S.error||"Falha ao salvar");y(!1),await w()}catch(_){alert(_.message)}};return l?m.createElement("div",{style:{padding:16}},"Carregando..."):u?m.createElement("div",{style:{padding:16,color:"red"}},"Erro: ",u):n?m.createElement("div",{style:{padding:16}},m.createElement("button",{onClick:()=>e(-1),style:{marginBottom:12}}," Voltar"),m.createElement("h1",null,"Perfil do Aluno"),m.createElement("div",{style:{display:"flex",gap:16,alignItems:"center"}},m.createElement("div",{style:{width:96,height:96,borderRadius:"50%",overflow:"hidden",background:"#eee",display:"flex",alignItems:"center",justifyContent:"center",fontSize:32}},n.foto_perfil?m.createElement("img",{src:`http://localhost:3001${n.foto_perfil}`,alt:"Foto",style:{width:"100%",height:"100%",objectFit:"cover"}}):(n.nome_aluno||"A").charAt(0).toUpperCase()),m.createElement("div",null,m.createElement("h2",{style:{margin:0}},n.nome_aluno),m.createElement("div",null,"Data de nascimento: ",n.data_nascimento?.split("T")[0]),m.createElement("div",null,"Pagamento: ",n.status_pagamento),m.createElement("div",null,"Turma: ",n.nome_turma?`${n.nome_turma} (${n.periodo}) - ${n.ano_letivo}`:"Sem turma")),m.createElement("div",{style:{marginLeft:"auto"}},m.createElement("button",{onClick:()=>y(!0)}," Editar"))),m.createElement("div",{style:{marginTop:16,padding:12,border:"1px solid #eee",borderRadius:8}},m.createElement("h3",null,"Responsvel"),m.createElement("div",null,"Nome: ",n.nome_responsavel),m.createElement("div",null,"Telefone: ",n.telefone),m.createElement("div",null,"Email: ",n.email)),h&&m.createElement(sv,{alunoData:n,turmas:a,onClose:()=>y(!1),onSave:g})):m.createElement("div",{style:{padding:16}},"Aluno no encontrado.")},LA=Fx([{path:"/",element:m.createElement(s3,null)},{path:"/recuperar-senha",element:m.createElement(AA,null)},{path:"/resetar-senha",element:m.createElement(NA,null)},{path:"/home",element:m.createElement(u3,null),children:[{index:!0,element:m.createElement(d3,null)},{path:"alunos",element:m.createElement(p3,null)},{path:"alunos/perfil/:alunoId",element:m.createElement(CA,null)},{path:"pre-matricula",element:m.createElement(hS,null)},{path:"turmas",element:m.createElement(ok,null)},{path:"turmas/:turmaId/presenca",element:m.createElement(ck,null)},{path:"turmas/:turmaId/historico-presenca",element:m.createElement(uk,null)},{path:"historico-aluno-presenca/:turmaId?",element:m.createElement(dk,null)},{path:"configuracoes",element:m.createElement(hk,null)},{path:"perfil",element:m.createElement(mk,null)},{path:"familias",element:m.createElement(pk,null)},{path:"responsaveis",element:m.createElement(EA,null)},{path:"responsaveis/:id/editar",element:m.createElement(kA,null)},{path:"planejamentos",element:m.createElement(bk,null)},{path:"planejamentos-iso",element:m.createElement(bA,null)},{path:"relatorios",element:m.createElement(_A,null)},{path:"interessados-dashboard",element:m.createElement(Jv,null)},{path:"cadastrar-turma",element:m.createElement(gk,null)},{path:"cadastrar-aluno",element:m.createElement(h5,null)},{path:"alunos/:alunoId/editar",element:m.createElement(h5,null)}]}]);Ib.createRoot(document.getElementById("root")).render(m.createElement(m.StrictMode,null,m.createElement(Gx,null,m.createElement(Yx,{router:LA}))));export{On as _,PA as c,E5 as g};
